(this.webpackJsonptester=this.webpackJsonptester||[]).push([[0],{101:function(e,t,n){e.exports={wrapper:"Header_wrapper__3tGRg",logoImg:"Header_logoImg__2P8D2",logo:"Header_logo__3T0lc",logoWrapper:"Header_logoWrapper__zM9x7",profile:"Header_profile__yHIKp",menu:"Header_menu__Zy7KP"}},121:function(e,t,n){e.exports={wrapper:"Welcoming_wrapper__SDZuR",imageWrapper:"Welcoming_imageWrapper__2CiYx",inputWrapper:"Welcoming_inputWrapper__26-Ur",blueIcon:"Welcoming_blueIcon__2yQFr",inputWrapperFocused:"Welcoming_inputWrapperFocused__1E_Y7"}},174:function(e,t,n){e.exports={wrapper:"EmaiQuestions_wrapper__1ub1i",title:"EmaiQuestions_title__28Jvf",question:"EmaiQuestions_question__1c0w-"}},175:function(e,t,n){e.exports={wrapper:"Sessions_wrapper__1tGjI",table:"Sessions_table__9paH-"}},177:function(e,t,n){e.exports={wrapper:"AddSession_wrapper__3CoHz",formContainer:"AddSession_formContainer___El49"}},178:function(e,t,n){e.exports={wrapper:"AddTest_wrapper__1-IHD",aligner:"AddTest_aligner__38rT5"}},179:function(e,t,n){e.exports={wrapper:"AddStudents_wrapper__3-t7M"}},188:function(e,t,n){e.exports={wrapper:"Registration_wrapper__19tTz",registrationWrapper:"Registration_registrationWrapper__18fKB"}},189:function(e,t,n){e.exports={wrapper:"Login_wrapper__37P6v",loginWrapper:"Login_loginWrapper__9i6rL"}},206:function(e,t,n){e.exports={wrapper:"TestResults_wrapper__3DJs3"}},213:function(e,t,n){e.exports={wrapper:"AdminPanel_wrapper__3Kux4"}},214:function(e,t,n){e.exports={wrapper:"DeleteTest_wrapper__1dm0L"}},233:function(e,t,n){},234:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(0),c=n.n(r),s=n(38),i=n.n(s),o=(n(233),n(18)),l=n.n(o),u=n(28),d=n(22),j=(n(234),n(174)),b=n.n(j),p=n(159),h=n(333),f=n(116),O=n(55),x=n(5),m=function(e,t,n){var a;return Object(x.jsxs)("div",{style:n?{fontSize:"16px",color:"black",padding:"16px",marginTop:"24px",borderRadius:"10px",background:"#ffffff",bakgroundColor:"#ffffff",boxShadow:"-1px 7px 5px -6px rgba(0, 0, 0, 0.06)"}:null,className:"".concat(b.a.question," shadow-small"),children:[Object(x.jsxs)(h.a.Title,{style:{margin:0},level:4,children:[t+1,". ",e.question]}),e.multiselection?Object(x.jsx)(h.a.Text,{children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0430."}):null,(null===(a=e.answers)||void 0===a?void 0:a.length)?e.answers.map((function(e,t){return function(e,t,n){return Object(x.jsxs)("div",{children:[e.isRight?n?Object(x.jsx)("span",{style:{color:e.selected?"green":"#cccccc"},children:"\u2713"}):Object(x.jsx)(f.a,{style:{color:e.selected?"green":"#cccccc"}}):n?Object(x.jsx)("span",{style:{color:e.selected?"red":"#cccccc"},children:"\u2715"}):Object(x.jsx)(O.a,{style:{color:e.selected?"red":"#cccccc"}})," ",Object(x.jsxs)(p.a,{disabled:n,checked:e.selected,children:[t+1,". ",e.answer]})]})}(e,t,n)})):null]})},v=function(e){var t=e.obj,n=e.emailing;return Object(x.jsxs)("div",{style:n?{fontSize:"20px",color:"black",padding:"32px",background:"#f0f6fa",bakgroundColor:"#f0f6fa",width:"100%"}:null,className:"".concat(b.a.wrapper),children:[Object(x.jsxs)("div",{className:b.a.title,children:[t.name?Object(x.jsxs)(h.a.Title,{style:{margin:0},level:3,children:["\u0422\u0435\u0441\u0442 ",t.testName," \u043f\u0440\u043e\u0439\u0434\u0435\u043d ",t.name," ",t.lastName,","," ","\u0433\u0440\u0443\u043f\u043f\u0430 ".concat(t.group)]}):null,Object(x.jsx)("br",{}),t.score?Object(x.jsxs)(h.a.Title,{style:{margin:0},level:4,children:["\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ",t.score,"%, \u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f:"," ",t.elapsedTime]}):null]}),t.questions.length?t.questions.map((function(e,t){return m(e,t,n)})):null]})},g=v,I=n(101),w=n.n(I),k=n(100),y=n(161),T=n(46),S=n(338),C=n(30),A=n(45),N=n(34),_=(n(84),n(70)),H=Object(x.jsxs)(k.a,{children:[Object(x.jsx)(k.a.Item,{children:Object(x.jsx)("a",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(x.jsx)(k.a.Item,{children:Object(x.jsx)("a",{onClick:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.auth().signOut();case 2:case"end":return e.stop()}}),e)}))),children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})})]}),M=function(e){var t=Object(r.useState)("1"),n=Object(d.a)(t,2),a=(n[0],n[1]),c=Object(C.h)().pathname,s=Object(_.c)((function(e){return e})),i=c.split("/")[1]||"/";return Object(x.jsxs)("div",{className:"".concat(w.a.wrapper),children:[Object(x.jsx)("div",{className:w.a.logoWrapper,children:Object(x.jsx)(A.b,{to:"/",className:w.a.logo,children:Object(x.jsx)("img",{className:w.a.logoImg,src:"data:image/png;base64,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"})})}),Object(x.jsxs)(k.a,{onClick:function(e){return a(e.key)},className:w.a.menu,mode:"horizontal",selectedKeys:[i],children:[Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"/",children:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435"})},"/"),Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"/tests",children:"\u0422\u0435\u0441\u0442\u044b"})},"tests"),"admin"===s.role?Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"/admin",children:"\u0410\u0434\u043c\u0438\u043d \u041f\u0430\u043d\u0435\u043b\u044c"})},"admin"):null]}),Object(x.jsx)(y.a,{className:w.a.profile,overlay:H,placement:"bottomLeft",children:Object(x.jsxs)(T.a,{type:"text",icon:Object(x.jsx)(S.a,{}),children:[s.name," ",s.lastName]})})]})},L=n(206),E=n.n(L),q=function(e){return Object(x.jsx)("div",{className:"".concat(E.a.wrapper),children:e.obj?Object(x.jsx)(g,{obj:e.obj}):null})},D=function(e){var t,n=Object(C.h)();return Object(x.jsx)(q,Object(a.a)({obj:null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.obj},e))},W=n(48),F=n.n(W),R=n(336),P=n(337),B=n(224),Q=n(130),U=n(339),Z=n(340),V=n(98),z=n(26),X=n.n(z),J=function(e){return e<10?"0"+e:e},Y=function(e){var t,n,a,r;return Object(x.jsxs)("div",{className:"".concat(F.a.wrapper),children:[Object(x.jsx)("div",{className:F.a.testWrapper,children:Object(x.jsxs)("div",{className:"".concat(F.a.testContainer," shadow-small"),children:[Object(x.jsx)(Q.a,{onClick:e.previousQuestion,className:"".concat(F.a.iconSmall," ").concat(e.questionIndex?"":F.a.iconDisabled)}),Object(x.jsxs)("div",{className:F.a.testContent,children:[Object(x.jsxs)("div",{className:F.a.header,children:[Object(x.jsx)("div",{className:F.a.title,children:Object(x.jsxs)(h.a.Title,{style:{margin:0},level:3,children:[e.test.name," ",e.questionIndex+1,"/",e.test.questions.length]})}),Object(x.jsxs)("div",{className:F.a.icons,children:[Object(x.jsx)(U.a,{className:F.a.icon}),Object(x.jsxs)("span",{children:[J(X.a.duration(e.timeLeft).minutes()),":",J(X.a.duration(e.timeLeft).seconds())]}),Object(x.jsx)(Z.a,{onClick:function(){return e.setShowDrawer(!0)},className:F.a.icon})]})]}),Object(x.jsx)("div",{className:F.a.main,children:Object(x.jsx)(h.a.Text,{children:e.currentQuestion.question})}),e.currentQuestion.multiselection?Object(x.jsx)(h.a.Text,{children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0430."}):null,Object(x.jsx)("div",{className:F.a.answers,children:(null===e||void 0===e||null===(t=e.currentQuestion)||void 0===t||null===(n=t.answers)||void 0===n?void 0:n.length)?e.currentQuestion.answers.map((function(t,n){return Object(x.jsx)(p.a,{checked:t.selected,onClick:function(){return e.markAnswer(e.currentQuestion,t,n)},children:t.answer},n)})):null}),Object(x.jsx)("div",{className:F.a.footer,children:e.questionIndex===e.test.questions.length-1?Object(x.jsx)(T.a,{disabled:!e.test.questions.map((function(e){return e.answers.some((function(e){return e.selected}))})).flat().every((function(e){return e})),onClick:e.sendResults,type:"secondary",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}):Object(x.jsx)(T.a,{onClick:e.nextQuestion,disabled:!e.currentQuestion.answers.filter((function(e){return e.selected})).length,type:"primary",children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})})]}),Object(x.jsx)(V.a,{onClick:e.nextQuestion,className:"".concat(F.a.iconSmall," ").concat(e.questionIndex===e.test.questions.length-1?F.a.iconDisabled:"")})]})}),Object(x.jsx)(R.a,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",placement:"bottom",closable:!0,height:"auto",onClose:function(){return e.setShowDrawer(!1)},visible:e.showDrawer,children:Object(x.jsx)("div",{children:Object(x.jsx)(P.b,{wrap:!0,size:3,children:(null===(a=e.test)||void 0===a||null===(r=a.questions)||void 0===r?void 0:r.length)?e.test.questions.map((function(t,n){var a=t.answers.some((function(e){return e.selected})),r=n===e.questionIndex?"blue-inverse":a?"processing":"default";return Object(x.jsx)(B.a,{className:F.a.tag,onClick:function(){return e.setCurrentQuestion(n)},color:r,children:n+1},t.index)})):null})})})]})},K=n(221),G=n(334),$=n(129),ee=n(120);n(85);function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://vast-beach-47720.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,a=null,e.next=7,n;case 7:if(a=e.sent,console.log("res",n),!(n.status>399)){e.next=11;break}throw a;case 11:return e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var ae=n(154),re=n.n(ae),ce=function(e){var t,n,c,s,i,o,j=Object(r.useState)(!1),b=Object(d.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(0),O=Object(d.a)(f,2),m=O[0],g=O[1],I=Object(C.h)(),w=Object(r.useState)(null===I||void 0===I||null===(t=I.state)||void 0===t?void 0:t.test),k=Object(d.a)(w,2),y=k[0],T=k[1],S=Object(r.useState)(),A=Object(d.a)(S,2),N=A[0],H=A[1],M=null===I||void 0===I||null===(n=I.state)||void 0===n?void 0:n.sessionId,L=Object(r.useState)(Date.now()+(null===I||void 0===I||null===(c=I.state)||void 0===c?void 0:c.limit)),E=Object(d.a)(L,1)[0],q=Object(r.useState)(null===I||void 0===I||null===(s=I.state)||void 0===s||null===(i=s.test)||void 0===i||null===(o=i.questions)||void 0===o?void 0:o.length),D=Object(d.a)(q,1)[0],W=Object(r.useState)(!1),F=Object(d.a)(W,2),R=(F[0],F[1],Object(C.g)()),P=ee.a.firestore(),B=Object(_.c)((function(e){return e})),Q=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c,s,i,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",key:"send-res"}),s=60*X.a.duration(null===I||void 0===I||null===(n=I.state)||void 0===n?void 0:n.limit).hours()+X.a.duration(null===I||void 0===I||null===(r=I.state)||void 0===r?void 0:r.limit).minutes(),i=60*X.a.duration(N).hours()+X.a.duration(N).minutes(),o=(y.questions.map((function(e){return e.answers.every((function(e){return e.isRight===e.selected}))})).filter((function(e){return e})).length/D*100).toFixed(1),u=+s-+i+":"+((l=+X.a.duration(null===I||void 0===I||null===(c=I.state)||void 0===c?void 0:c.limit).seconds()||60-+X.a.duration(N).seconds())<10?"0"+l:l),d=Object(a.a)(Object(a.a)({},y),{},{score:o,elapsedTime:u,name:B.name,group:B.group,lastName:B.lastName,testName:y.name}),e.next=9,P.collection("sessions").doc(M).collection("attempts").doc(B.uid).set(d);case 9:return e.next=11,te({name:d.name,group:d.group,lastName:d.lastName,html:re.a.renderToStaticMarkup(Object(x.jsx)(v,{emailing:!0,obj:d}))});case 11:K.b.success({content:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b",key:"send-res"}),R.push("/tests"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t?(R.push("/tests"),K.b.error({content:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e.",key:"send-res"})):K.b.error({content:"\u041e\u0448\u0438\u0431\u043a\u0430.",key:"send-res"});case 18:case"end":return e.stop()}var l}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=setInterval((function(){var e=E-Date.now();N<e&&(H(0),Q(!0)),N<0&&Q(!0),H(e)}),500);return function(){clearInterval(e)}}),[]),y?Object(x.jsx)(Y,Object(a.a)({sendResults:function(){G.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",icon:Object(x.jsx)($.a,{}),content:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0442\u0435\u0441\u0442\u0430 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0435\u0433\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c. \u0423\u0447\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0445\u043e\u0434\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430. \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f?",okText:"\u0414\u0430.",cancelText:"\u041d\u0435\u0442.",onOk:function(){Q()}})},markAnswer:function(e,t,n){var r=Object(a.a)({},y);e.multiselection?e.answers=e.answers.map((function(e,t){return t===n?Object(a.a)(Object(a.a)({},e),{},{selected:!e.selected}):e})):e.answers=e.answers.map((function(e,t){return t===n?Object(a.a)(Object(a.a)({},e),{},{selected:!e.selected}):Object(a.a)(Object(a.a)({},e),{},{selected:!1})})),T(r)},showDrawer:p,test:y,timeLeft:N,setCurrentQuestion:function(e){g(e)},questionIndex:m,nextQuestion:function(){g((function(e){return e<D-1?e+1:e}))},previousQuestion:function(){g((function(e){return e>0?e-1:e}))},setShowDrawer:h,currentQuestion:y.questions[m]},e)):Object(x.jsx)(C.a,{to:"/"})},se=n(188),ie=n.n(se),oe=n(332),le=n(335),ue=n(65),de=n(166),je=function(e){var t=Object(C.g)(),n={wrapperCol:{span:40}};return Object(x.jsx)("div",{className:"".concat(ie.a.wrapper),children:Object(x.jsxs)("div",{className:"".concat(ie.a.registrationWrapper," + shadow-large"),children:[e.data?Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},n),{},{children:Object(x.jsx)(h.a.Title,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})),Object(x.jsx)(oe.a.Item,{name:"email",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443!"}],children:Object(x.jsx)(le.a,{onChange:function(t){e.setEmail(t.target.value)},value:e.email,placeholder:"\u041f\u043e\u0447\u0442\u0430"})}),Object(x.jsx)(oe.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(x.jsx)(le.a,{onChange:function(t){e.setPassword(t.target.value)},value:e.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(x.jsx)(oe.a.Item,{name:"passRepeat",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(x.jsx)(le.a,{onChange:function(t){e.setRepeatPassword(t.target.value)},value:e.repeatPassword,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},n),{},{children:Object(x.jsxs)(P.b,{align:"start",size:"small",direction:"vertical",children:[Object(x.jsxs)(h.a.Text,{type:"secondary",strong:!0,children:["\u0412\u0430\u0448\u0435 \u0438\u043c\u044f: ",e.data.name]}),Object(x.jsxs)(h.a.Text,{type:"secondary",strong:!0,children:["\u0412\u0430\u0448\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f: ",e.data.lastName]}),Object(x.jsxs)(h.a.Text,{type:"secondary",strong:!0,children:["\u0412\u0430\u0448\u0430 \u0433\u0440\u0443\u043f\u043f\u0430: ",e.data.group]})]})})),Object(x.jsx)(oe.a.Item,{children:Object(x.jsxs)(P.b,{direction:"horizontal",children:[Object(x.jsx)(T.a,{onClick:function(){e.register()},type:"primary",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(x.jsx)(T.a,{onClick:function(){t.push("/login")},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})]}):Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},n),{},{children:Object(x.jsx)(h.a.Title,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})),Object(x.jsx)(oe.a.Item,{name:"id",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434"}],children:Object(x.jsx)(le.a,{onChange:function(t){return e.setInviteCode(t.target.value)},placeholder:"\u0418\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434",suffix:Object(x.jsx)(ue.a,{title:"\u0418\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434 \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443 \u043f\u0440\u0435\u043f\u043e\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:Object(x.jsx)(de.a,{style:{color:"rgba(0,0,0,.45)"}})})})}),Object(x.jsx)(oe.a.Item,{children:Object(x.jsxs)(P.b,{direction:"horizontal",children:[Object(x.jsx)(T.a,{onClick:e.recieve,loading:e.loading,type:"primary",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(x.jsx)(T.a,{onClick:function(){t.push("/login")},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})]}),e.errorMessage?Object(x.jsx)(h.a.Text,{type:"danger",children:e.errorMessage}):null]})})},be=n(207),pe=n(208),he=function(){function e(){Object(be.a)(this,e)}return Object(pe.a)(e,null,[{key:"email",value:function(e){console.log(e);return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"password",value:function(e){return console.log(e),new RegExp("^(?=.{8,})").test(String(e).toLowerCase())}}]),e}(),fe=function(e){var t=Object(r.useState)(null),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(C.g)(),o=N.a.firestore(),j=Object(r.useState)(!1),b=Object(d.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(!1),O=Object(d.a)(f,2),m=O[0],v=O[1],g=Object(r.useState)(""),I=Object(d.a)(g,2),w=I[0],k=I[1],y=Object(r.useState)(""),T=Object(d.a)(y,2),S=T[0],A=T[1],_=Object(r.useState)(""),H=Object(d.a)(_,2),M=H[0],L=H[1],E=Object(r.useState)(""),q=Object(d.a)(E,2),D=q[0],W=q[1],F=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,K.b.loading({content:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430",key:"invite-code"}),e.next=5,o.collection("invites").where("inviteCode","==",m).get();case 5:if(t=e.sent,n=t.docs[0].data()){e.next=9;break}throw new Error;case 9:s(n),K.b.success({content:"\u0418\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434 \u043d\u0430\u0439\u0434\u0435\u043d",key:"invite-code"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),K.b.error({content:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u0430.",key:"invite-code"});case 16:h(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(""),h(!0),S!==M){e.next=42;break}if(!he.email(w)){e.next=39;break}if(!he.password(S)){e.next=36;break}return e.prev=5,K.b.loading({content:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430",key:"registration"}),e.next=9,o.collection("invites").where("inviteCode","==",m).get();case 9:return t=e.sent,e.next=12,N.a.auth().createUserWithEmailAndPassword(w,S);case 12:return n=e.sent,a=n.user,e.next=16,o.collection("users").doc(a.uid).set({name:c.name,uid:a.uid,lastName:c.lastName,group:c.group,email:w,role:"student"});case 16:return e.sent,e.next=19,o.collection("groups").where("group","==",c.group).limit(1).get();case 19:return r=e.sent,e.next=22,r.docs[0].ref.update({studentAmount:N.a.firestore.FieldValue.increment(1)});case 22:return e.next=24,N.a.auth().setPersistence(N.a.auth.Auth.Persistence.LOCAL).then((function(){N.a.auth().signInWithEmailAndPassword(w,S)}));case 24:return e.next=26,t.docs[0].ref.delete();case 26:K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"registration"}),i.push("/"),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(5),console.log(e.t0),K.b.error({content:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435",key:"registration"});case 34:e.next=37;break;case 36:W("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");case 37:e.next=40;break;case 39:W("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u0432 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");case 40:e.next=43;break;case 42:W("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");case 43:h(!1);case 44:case"end":return e.stop()}}),e,null,[[5,30]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(je,Object(a.a)({recieve:F,setInviteCode:v,loading:p,register:R,errorMessage:D,email:w,setEmail:k,password:S,setPassword:A,repeatPassword:M,setRepeatPassword:L,data:c},e))},Oe=n(189),xe=n.n(Oe),me=function(e){var t={wrapperCol:{span:40}},n=Object(C.g)();return Object(x.jsx)("div",{className:"".concat(xe.a.wrapper," + shadow-small"),children:Object(x.jsx)("div",{className:"".concat(xe.a.loginWrapper," + shadow-large"),children:Object(x.jsxs)(oe.a,Object(a.a)(Object(a.a)({},t),{},{children:[Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},t),{},{children:Object(x.jsx)(h.a.Title,{children:"\u0412\u0445\u043e\u0434"})})),Object(x.jsx)(oe.a.Item,{name:"login",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d!"}],children:Object(x.jsx)(le.a,{value:e.email,onChange:function(t){e.setEmail(t.target.value)},placeholder:"\u041b\u043e\u0433\u0438\u043d"})}),Object(x.jsx)(oe.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(x.jsx)(le.a,{value:e.password,onChange:function(t){e.setPassword(t.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(x.jsx)(oe.a.Item,{children:Object(x.jsxs)(P.b,{direction:"horizontal",children:[Object(x.jsx)(T.a,{onClick:function(){e.signIn()},type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(x.jsx)(T.a,{onClick:function(){n.push("registration")},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})}),Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},t),{},{name:"remember",valuePropName:"checked",children:Object(x.jsx)(h.a.Text,{children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}))]}))})})},ve=function(e){var t=Object(C.g)(),n=Object(r.useState)(""),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),b=j[0],p=j[1],h=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sign"),e.prev=1,e.next=4,N.a.auth().setPersistence(N.a.auth.Auth.Persistence.LOCAL).then(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.auth().signInWithEmailAndPassword(s,b));case 1:case"end":return e.stop()}}),e)}))));case 4:n=e.sent,console.log(n),t.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),K.b.error("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(me,Object(a.a)({signIn:h,email:s,setEmail:i,password:b,setPassword:p},e))},ge=n(77),Ie=n(94),we=n.n(Ie),ke=n(330),ye=n(209),Te=n(341),Se=n(171),Ce=n(172),Ae=(ke.a.Meta,h.a.Text),Ne=function(e){var t=function(t){return(null===t||void 0===t?void 0:t.length)?t.map((function(t,n){return Object(x.jsx)(ke.a,{hoverable:"undefined"===typeof t.score,className:"".concat(we.a.card," + ").concat((a=t.score,r=t.isTooLate,r?we.a.late:"undefined"!==typeof a?we.a.passed:void 0)),title:t.title,children:Object(x.jsxs)(P.b,{direction:"vertical",children:[Object(x.jsxs)(P.b,{children:[Object(x.jsx)(Te.a,{}),Object(x.jsxs)(Ae,{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",t.questionsAmount]})]}),Object(x.jsxs)(P.b,{children:[Object(x.jsx)(Se.a,{}),Object(x.jsxs)(Ae,{children:["\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435: ",t.timeLimit]})]}),Object(x.jsxs)(P.b,{children:[Object(x.jsx)(Ce.a,{}),Object(x.jsxs)(Ae,{children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0434\u043e: ",t.date]})]}),"undefined"===typeof t.score?Object(x.jsx)(T.a,{onClick:function(){return e.doTest(t.test,t.limit,t.sessionId,t.unformattedDate)},className:we.a.button,shape:"round",type:"primary",children:"\u041f\u0440\u043e\u0439\u0442\u0438"}):t.isTooLate?Object(x.jsx)(P.b,{children:Object(x.jsx)(Ae,{children:"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d"})}):Object(x.jsx)(P.b,{children:Object(x.jsxs)(Ae,{children:["\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e: ",t.score,"%"]})})]})},n);var a,r})):null};return console.log(e),Object(x.jsxs)("div",{className:we.a.mainWrapper,children:[Object(x.jsxs)(k.a,{style:{width:230},defaultSelectedKeys:["0"],mode:"inline",children:[Object(x.jsx)(k.a.Item,{onClick:function(){return e.setMode("all")},children:"\u0412\u0441\u0435 \u0442\u0435\u0441\u0442\u044b"},"0"),Object(x.jsx)(k.a.Item,{onClick:function(){return e.setMode("active")},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b"},"1"),Object(x.jsx)(k.a.Item,{onClick:function(){return e.setMode("passed")},children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b"},"2"),Object(x.jsx)(k.a.Item,{onClick:function(){return e.setMode("inactive")},children:"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b"},"3")]}),Object(x.jsx)("div",{className:"".concat(we.a.wrapper),children:Object(x.jsx)("div",{className:we.a.cardWrapper,children:e.initialized?["active"===e.mode||"all"===e.mode?t(e.activeTests):null,"passed"===e.mode||"all"===e.mode?t(e.passedTests):null,"inactive"===e.mode||"all"===e.mode?t(e.inactiveTests):null]:Object(x.jsx)(ye.a,{})})})]})};n(315);X.a.locale("ru");var _e=function(e,t,n,a){return e%10===1&&11!==e?t:[2,3,4].some((function(t){return t===e%10}))&&![12,13,14].some((function(t){return t===e}))?n:a},He=function(e){var t=Object(_.c)((function(e){return e})),n=ee.a.firestore(),c=Object(r.useState)(),s=Object(d.a)(c,2),i=s[0],o=s[1],j=Object(r.useState)(),b=Object(d.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(!1),O=Object(d.a)(f,2),m=O[0],v=O[1],g=Object(r.useState)(),I=Object(d.a)(g,2),w=I[0],k=I[1],y=Object(r.useState)(),T=Object(d.a)(y,2),S=T[0],A=T[1],N=Object(r.useState)(),H=Object(d.a)(N,2),M=H[0],L=H[1],E=Object(r.useState)("all"),q=Object(d.a)(E,2),D=q[0],W=q[1],F=Object(C.g)(),R=function(){var e=Object(u.a)(l.a.mark((function e(){var r,c,s,i,u,d,j,b,p,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===t||void 0===t?void 0:t.group)){e.next=35;break}return e.next=4,ee.a.firestore.Timestamp.now();case 4:return r=e.sent,e.next=7,n.collection("sessions").where("groups","array-contains",t.group).get();case 7:c=e.sent,s=[],i=Object(ge.a)(c.docs),e.prev=10,i.s();case 12:if((u=i.n()).done){e.next=25;break}return d=u.value,e.next=16,d.ref.collection("attempts").doc(t.uid).get();case 16:j=e.sent,b=void 0,p=!1,j.exists&&(b=j.data().score),h=d.data(),X()(X()(1e3*r.seconds)).isAfter(h.date)&&!b&&(b=0,p=!0),s.push(Object(a.a)(Object(a.a)({},d.data()),{},{sessionId:d.id,score:b,isTooLate:p}));case 23:e.next=12;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(10),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:o(s),P(s);case 35:e.next=39;break;case 37:e.prev=37,e.t1=e.catch(0);case 39:case"end":return e.stop()}}),e,null,[[0,37],[10,27,30,33]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:t,e.prev=1,t.map((function(e){return e.testName})),e.next=5,n.collection("tests").get();case 5:a=e.sent,r=a.docs.map((function(e){return e.data()})),h(r),Q(t,r),v(!0),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(l.a.mark((function e(a,r,c,s){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430",key:"wait"}),e.next=4,ee.a.firestore.Timestamp.now();case 4:return i=e.sent,X()(1e3*i.seconds).isAfter(X()(s))&&(K.b.loading({content:"\u0422\u0435\u0441\u0442 \u0431\u043e\u043b\u0435\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d",key:"wait"}),F.push("/")),e.next=8,n.collection("sessions").doc(c).collection("attempts").doc(t.uid).set({score:0});case 8:F.push({pathname:"/test",state:{test:a,limit:r,sessionId:c}}),K.b.destroy("wait"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),K.b.error({content:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437",key:"wait"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=[],a=[],r=[];e.map((function(e){var c=X()(e.attemptTime,"HH:mm"),s=t.find((function(t){return e.test===t.name})),i=c.format("HH"),o=c.format("mm"),l=s.name,u=s.questions.length,d=+i?"".concat(+i," ").concat(_e(+i,"\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432")):"",j=+o?"".concat(o," ").concat(_e(o,"\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442")):"",b={score:e.score,sessionId:e.sessionId,limit:3600*i*1e3+60*+o*1e3,test:s,title:l,questionsAmount:u,timeLimit:d+j,unformatedDate:e.date,isTooLate:e.isTooLate,date:X()(e.date).format("DD MMMM HH:mm")};e.isTooLate?r.push(b):"undefined"!==typeof e.score?a.push(b):n.push(b)})),k(n.sort((function(e,t){return X()(e.unformatedDate).isAfter(X()(t.unformatedDate))?1:-1}))),A(a.sort((function(e,t){return X()(e.unformatedDate).isAfter(X()(t.unformatedDate))?-1:1}))),L(r.sort((function(e,t){return X()(e.unformatedDate).isAfter(X()(t.unformatedDate))?-1:1})))};return Object(r.useEffect)((function(){R()}),[t]),Object(x.jsx)(Ne,Object(a.a)({initialized:m,doTest:function(e,t,n,a){G.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",icon:Object(x.jsx)($.a,{}),content:"\u0423 \u0432\u0430\u0441 \u0431\u0443\u0434\u0435\u0442 \u0432\u0441\u0435\u0433\u043e \u043e\u0434\u043d\u0430 \u043f\u043e\u043f\u044b\u0442\u043a\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430. \u041d\u0435 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0441 \u0442\u0435\u0441\u0442\u043e\u043c \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442, \u0438\u043d\u0430\u0447\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f.",okText:"\u041d\u0430\u0447\u0430\u0442\u044c",cancelText:"\u041d\u0430\u0437\u0430\u0434",onOk:function(){B(e,t,n,a)}})},mode:D,setMode:W,activeTests:w,passedTests:S,inactiveTests:M},e))},Me=n(121),Le=n.n(Me),Ee=n.p+"static/media/welcoming.023238cb.svg",qe=h.a.Title,De=h.a.Text,We=function(e){return Object(x.jsxs)("div",{className:"".concat(Le.a.wrapper),children:[Object(x.jsx)("div",{className:Le.a.imageWrapper,children:Object(x.jsx)("img",{src:Ee})}),Object(x.jsxs)(P.b,{direction:"vertical",children:[Object(x.jsx)(qe,{level:2,children:" \u041f\u0440\u0438\u0432\u0435\u0442! "}),Object(x.jsx)(De,{children:"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0442\u0435\u0441\u0442"}),Object(x.jsx)("div",{className:e.inputFocused?Le.a.inputWrapperFocused:Le.a.inputWrapper,children:Object(x.jsx)(le.a,{onFocus:function(){e.setInputFocused(!0)},onBlur:function(){e.setInputFocused(!1)},className:e.inputFocused?Le.a.blueIcon:null,bordered:!1,suffix:Object(x.jsx)(V.a,{}),placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430"})}),Object(x.jsx)(De,{children:"\u0418\u043b\u0438"}),Object(x.jsx)(A.b,{to:"/tests",children:Object(x.jsxs)(T.a,{type:"primary",shape:"round",children:["\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u0435\u0441\u0442\u0430\u043c",Object(x.jsx)(V.a,{})]})})]})]})},Fe=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(x.jsx)(We,Object(a.a)({inputFocused:c,setInputFocused:s},e))},Re=n(114),Pe=n(175),Be=n.n(Pe),Qe=n(329),Ue=n(170),Ze=n(342),Ve=n(343),ze=function(e,t,n,a){return e%10===1&&11!==e?t:[2,3,4].some((function(t){return t===e%10}))&&![12,13,14].some((function(t){return t===e}))?n:a},Xe=function(e,t){var n=X.a.duration(e),a=n.asWeeks(),r=n.asDays(),c=n.asHours(),s=n.asMinutes(),i=X()(t,"HH:mm");if(console.log(e<0),console.log(e/1e3),console.log(e/1e3>3600*i.format("HH")+60*i.format("mm")),console.log(3600*i.format("HH")+60*i.format("mm")),e<0&&-e/1e3>3600*i.format("HH")+60*i.format("mm"))return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";if(e/1e3<0)return"\u0421\u043a\u043e\u0440\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0441\u044f";if(r>7){var o=Math.round(a);return o+" "+ze(o,"\u043d\u0435\u0434\u0435\u043b\u044f","\u043d\u0435\u0434\u0435\u043b\u0438","\u043d\u0435\u0434\u0435\u043b\u044c")}return r>1?Math.floor(r)+" "+ze(Math.floor(r),"\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439")+" "+Math.floor(c-24*Math.floor(r))+" "+ze(Math.floor(c-24*Math.floor(r)),"\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"):Math.floor(c)+" "+ze(Math.floor(c),"\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432")+" "+Math.floor(s-60*Math.floor(c))+" "+ze(Math.floor(s-60*Math.floor(c)),"\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442")},Je=function(e){var t,n=[],a=[{title:"\u0422\u0435\u0441\u0442",dataIndex:"test",key:"test"},{title:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0434\u043b\u044f ",dataIndex:"groups",key:"groups",render:function(e){return e.map((function(e,t){return Object(x.jsxs)(h.a.Text,{children:[t?", ":null,e]},e)}))}},{title:"\u041e\u0441\u0442\u0430\u0432\u0448\u0435\u0435\u0441\u044f \u0432\u0440\u0435\u043c\u044f",dataIndex:"date",key:"date",render:function(e,t){var n=X()(e).diff(X()(new Date));return Object(x.jsx)(h.a.Text,{children:Xe(n,t.attemptTime)})}},{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442",dataIndex:"studentsAmount",key:"studentsAmount"},{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435",dataIndex:"attemptsLength",key:"attemptsLength"},{title:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f",dataIndex:"attempts",key:"attempts",render:function(t){return(null===t||void 0===t?void 0:t.length)?Object(x.jsx)(Ue.a,{onClick:function(){return e.showModal(t)},style:{color:"blue"}}):null}},{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",key:"attempts",render:function(t,n){return Object(x.jsx)(O.a,{onClick:function(){return e.showDeleteModal(n.sessionId)},style:{color:"blue"}})}}],r=[{title:"\u0413\u0440\u0443\u043f\u043f\u0430",dataIndex:"group",key:"group"},{title:"\u0418\u043c\u044f",dataIndex:"name",key:"name"},{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",dataIndex:"lastName",key:"lastName"},{title:"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",dataIndex:"elapsedTime",key:"elapsedTime"},{title:"\u041d\u0430\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442",dataIndex:"score",key:"score"},{dataIndex:"questions",key:"questions",render:function(t,n){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ue.a,{title:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u043e\u0447\u0442\u0443",children:Object(x.jsx)(Ze.a,{style:{color:"black",fontSize:"18px"},onClick:function(){return e.email(n)}})})," ",Object(x.jsx)(ue.a,{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",children:Object(x.jsx)(Ve.a,{onClick:function(){return e.showResultsModal(n)},style:{color:"black",fontSize:"18px"}})})]})}}];return(null===(t=e.sessions)||void 0===t?void 0:t.length)&&(n=Object(Re.a)(e.sessions)).sort((function(e,t){return X()(e.date).isAfter(X()(t.date))?-1:1})),Object(x.jsxs)("div",{className:"".concat(Be.a.wrapper),children:[Object(x.jsx)(G.a,{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u0430",visible:e.showResults,width:1e3,onOk:function(){return e.setShowResults(!1)},onCancel:function(){return e.setShowResults(!1)},children:Object(x.jsx)(g,{obj:e.results})}),Object(x.jsx)(G.a,{title:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f",visible:e.showDetails,width:1e3,onOk:function(){return e.setShowDetails(!1)},onCancel:function(){return e.setShowDetails(!1)},children:Object(x.jsx)(Qe.a,{columns:r,dataSource:e.details,className:Be.a.table})}),Object(x.jsx)(h.a.Title,{level:2,children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0435\u0441\u0441\u0438\u0439"}),e.fetched?Object(x.jsx)(Qe.a,{columns:a,dataSource:n,className:Be.a.table}):Object(x.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(x.jsx)(ye.a,{})})," "]})},Ye=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(r.useState)(),h=Object(d.a)(p,2),f=h[0],O=h[1],m=Object(r.useState)(!1),g=Object(d.a)(m,2),I=g[0],w=g[1],k=Object(r.useState)(!1),y=Object(d.a)(k,2),T=y[0],S=y[1],C=Object(r.useState)([]),A=Object(d.a)(C,2),_=A[0],H=A[1],M=Object(r.useState)({}),L=Object(d.a)(M,2),E=L[0],q=L[1],D=N.a.firestore(),W=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.collection("groups").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(a.a)({uid:e.id},e.data()))})),b(t),R(t)}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",key:"send-mail"}),e.next=4,te({name:t.name,group:t.group,lastName:t.lastName,html:re.a.renderToStaticMarkup(Object(x.jsx)(v,{emailing:!0,obj:t}))});case 4:K.b.success({content:"\u041f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",key:"send-mail"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),K.b.error({content:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0438\u0441\u044c\u043c\u0430",key:"send-mail"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:j,O((function(e){return e.map((function(e){var n=e.groups.reduce((function(e,n){return e+t.find((function(e){return e.group===n})).studentAmount}),0);return Object(a.a)(Object(a.a)({},e),{},{studentsAmount:n})}))})),s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",icon:Object(x.jsx)($.a,{}),content:"\u0423\u0434\u0430\u043b\u0438\u0432 \u0441\u0435\u0441\u0441\u0438\u044e \u0432\u044b \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0432 \u0411\u0414, \u043d\u043e \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432, \u0432\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",onOk:function(){B(t)}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",key:"send-mail"}),e.next=4,D.collection("sessions").doc(t).delete();case 4:K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"send-mail"}),Q(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),K.b.error({content:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435",key:"send-mail"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,c,i,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.prev=1,t=[],e.next=5,D.collection("sessions").get();case 5:n=e.sent,r=Object(ge.a)(n.docs),e.prev=7,r.s();case 9:if((c=r.n()).done){e.next=20;break}return i=c.value,e.next=13,i.ref.collection("attempts").get();case 13:o=e.sent,u=[],d=0,o.empty||(u=o.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{studentId:e.id})})),d=u.length),t.push(Object(a.a)(Object(a.a)({},i.data()),{},{sessionId:i.id,attemptsLength:d,attempts:u}));case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:O(t),W(),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),K.b.error({content:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0441\u0441\u0438\u0439",key:"add-student"});case 35:case"end":return e.stop()}}),e,null,[[1,32],[7,22,25,28]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Q()}),[]),Object(x.jsx)(Je,Object(a.a)({fetched:c,showDeleteModal:P,results:E,showResults:T,setShowResults:S,showResultsModal:function(e){q(e),S(!0)},details:_,email:F,showDetails:I,setShowDetails:w,showModal:function(e){H(e),w(!0)},sessions:f},e))},Ke=n(177),Ge=n.n(Ke),$e=n(128),et=n(192),tt=n(328),nt=$e.a.Option,at={labelCol:{span:10},wrapperCol:{span:20}},rt={wrapperCol:{offset:10,span:16}},ct=function(e){var t,n;return console.log(e),Object(x.jsx)("div",{className:"".concat(Ge.a.wrapper),children:e.testsFetched&&e.groupsFetched?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a.Title,{level:2,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0441\u0441\u0438\u0438"}),Object(x.jsx)("div",{className:Ge.a.formContainer,children:Object(x.jsx)("div",{className:Ge.a.centerer,children:Object(x.jsxs)(oe.a,Object(a.a)(Object(a.a)({},at),{},{layout:"horizontal",name:"addTest",onFinish:function(t){return e.addSession(t)},initialValues:{attemptTime:X()("01:00","HH:mm")},requiredMark:!1,children:[Object(x.jsx)(oe.a.Item,{label:"\u0422\u0435\u0441\u0442",name:"testId",style:{width:"100%"},rules:[{required:!0,message:""}],children:Object(x.jsx)($e.a,{showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0441\u0442",children:(null===(t=e.tests)||void 0===t?void 0:t.length)?e.tests.map((function(e){return Object(x.jsx)(nt,{value:e.uid,children:e.name},e.uid)})):null})}),Object(x.jsx)(oe.a.Item,{label:"\u0413\u0440\u0443\u043f\u043f\u044b",name:"groups",rules:[{required:!0,message:""}],children:Object(x.jsx)($e.a,{mode:"multiple",allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043b\u044f \u043a\u0430\u043a\u0438\u0445 \u0433\u0440\u0443\u043f\u043f \u0442\u0435\u0441\u0442",children:(null===(n=e.groups)||void 0===n?void 0:n.length)?e.groups.map((function(e){return Object(x.jsx)(nt,{value:e.group,children:e.group},e.uid)})):null})}),Object(x.jsx)(oe.a.Item,{label:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d",name:"date",rules:[{required:!0,message:""}],children:Object(x.jsx)(et.a,{disabledDate:function(e){return!e||e.isBefore(new Date)},showTime:!0,placeholder:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"})}),Object(x.jsx)(oe.a.Item,{label:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",name:"attemptTime",rules:[{required:!0,message:""}],children:Object(x.jsx)(tt.a,{format:"HH:mm",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0438"})}),Object(x.jsx)(oe.a.Item,Object(a.a)(Object(a.a)({},rt),{},{children:Object(x.jsx)(T.a,{loading:e.loading,type:"primary",htmlType:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}))]}))})})]}):Object(x.jsx)(ye.a,{})})},st=function(e){var t=N.a.firestore(),n=Object(r.useState)(!1),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),j=Object(d.a)(o,2),b=j[0],p=j[1],h=Object(r.useState)([]),f=Object(d.a)(h,2),O=f[0],m=f[1],v=Object(r.useState)([]),g=Object(d.a)(v,2),I=g[0],w=g[1],k=Object(r.useState)(!1),y=Object(d.a)(k,2),T=y[0],S=y[1],C=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),m(),e.prev=2,e.next=5,t.collection("tests").get().then((function(e){var t=[];e.forEach((function(e){t.push({uid:e.id,name:e.data().name})})),m(t)}));case 5:i(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,K.b.loading({content:"Loading",key:"add-session"}),e.next=5,t.collection("sessions").doc().set(_(n));case 5:K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"add-session"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),K.b.error({content:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.",key:"add-session"});case 12:S(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=Object(a.a)({},e);return t.test=O.find((function(t){return t.uid===e.testId})).name,t.date=e.date.format(),t.attemptTime=e.attemptTime.format("HH:mm"),t},H=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),w(),e.prev=2,e.next=5,t.collection("groups").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(a.a)({uid:e.id},e.data()))})),w(t)}));case 5:p(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){H(),C()}),[]),Object(x.jsx)(ct,Object(a.a)({loading:T,addSession:A,groups:I,tests:O,groupsFetched:b,testsFetched:s},e))},it=n(213),ot=n.n(it),lt=n(344),ut=k.a.SubMenu,dt=function(e){return Object(x.jsx)("div",{className:"".concat(ot.a.wrapper," shadow-small"),children:Object(x.jsxs)(k.a,{style:{width:256},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",children:[Object(x.jsxs)(ut,{icon:Object(x.jsx)(Ve.a,{}),title:"\u0422\u0435\u0441\u0442\u044b",children:[Object(x.jsxs)(k.a.ItemGroup,{title:"\u0421\u0435\u0441\u0441\u0438\u0438",children:[Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"".concat(e.matchUrl),children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0435\u0441\u0441\u0438\u0438"})},"1"),Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"".concat(e.matchUrl,"/add-session"),children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0441\u0441\u0438\u0438"})},"2")]},"g1"),Object(x.jsxs)(k.a.ItemGroup,{title:"\u0422\u0435\u0441\u0442\u044b",children:[Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"".concat(e.matchUrl,"/add-test"),children:"\u041d\u043e\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"})},"3"),Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"".concat(e.matchUrl,"/delete-test"),children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"})},"4")]},"g2")]},"sub1"),Object(x.jsxs)(ut,{icon:Object(x.jsx)(lt.a,{}),title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b",children:[Object(x.jsx)(k.a.Item,{children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"},"5"),Object(x.jsx)(k.a.Item,{children:Object(x.jsx)(A.b,{to:"".concat(e.matchUrl,"/add-students"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"})},"6")]},"sub2")]})})},jt=n(178),bt=n.n(jt),pt=n(331),ht=n(226),ft=function(e){return console.log(e),Object(x.jsx)("div",{className:"".concat(bt.a.wrapper),children:Object(x.jsxs)(P.b,{direction:"vertical",children:[Object(x.jsx)(h.a.Title,{level:2,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0435\u0441\u0442\u0430"}),Object(x.jsx)(pt.a,Object(a.a)(Object(a.a)({method:null,maxCount:1,beforeUpload:e.parse,listType:"picture-card"},e),{},{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(ht.a,{}),Object(x.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})),Object(x.jsx)(le.a,{value:e.name,onChange:function(t){return e.setName(t.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(x.jsx)("div",{className:bt.a.aligner,children:Object(x.jsx)(h.a.Text,{className:bt.a.text,type:"secondary",children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0435\u0441\u0442"})}),Object(x.jsx)(T.a,{onClick:e.upload,disabled:!(e.preparedData&&e.name),type:"primary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})})},Ot=n(158),xt=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],p=N.a.firestore(),h=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ot({noheader:!0,trim:!0,headers:["question","multiselection"]}),e.next=3,t.text();case 3:return e.t1=e.sent,e.next=6,e.t0.fromString.call(e.t0,e.t1);case 6:return n=e.sent,s(O(n)),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"Loading...",key:"add-test"}),t={questions:Object(Re.a)(c),name:j},e.next=5,p.collection("tests").doc().set(t);case 5:e.sent,p.collection("tests").get().then((function(e){e.forEach((function(e){console.log(e.data())}))})),K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"add-test"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),K.b.error({content:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",key:"add-test"}),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=function(e){if(e.startsWith("+")||e.startsWith("-"))return e.substring(1)};return e.map((function(e){if(e.question){var n={question:e.question,multiselection:!!e.multiselection,answers:[]};delete e.question,delete e.multiselection;for(var a=0,r=Object.entries(e);a<r.length;a++){var c=Object(d.a)(r[a],2)[1];c&&n.answers.push({answer:t(c),isRight:c.startsWith("+")})}return n.answers.filter((function(e){return e.isRight})).length>1&&(n.multiselection=!0),n}})).filter((function(e){return e}))};return Object(x.jsx)(ft,Object(a.a)({upload:f,preparedData:c,parse:h,name:j,setName:b},e))},mt=n(214),vt=n.n(mt),gt=$e.a.Option,It=function(e){var t;return Object(x.jsx)("div",{className:"".concat(vt.a.wrapper),children:e.fetched?Object(x.jsxs)(P.b,{direction:"vertical",children:[Object(x.jsx)(h.a.Title,{level:2,children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(x.jsx)($e.a,{value:e.selectedTest,onChange:function(t){e.setSelectedTest(t)},style:{width:360},showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430",optionFilterProp:"children",children:(null===(t=e.tests)||void 0===t?void 0:t.length)?e.tests.map((function(e){return Object(x.jsx)(gt,{value:e.uid,children:e.name})})):null}),Object(x.jsx)(T.a,{disabled:!e.selectedTest,onClick:e.deleteTest,type:"primary",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}):Object(x.jsx)(ye.a,{})})},wt=function(e){var t=N.a.firestore(),n=Object(r.useState)([]),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),j=Object(d.a)(o,2),b=j[0],p=j[1],h=Object(r.useState)(),f=Object(d.a)(h,2),O=f[0],m=f[1],v=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),i(),e.prev=2,e.next=5,t.collection("tests").get().then((function(e){var t=[];e.forEach((function(e){t.push({uid:e.id,name:e.data().name})})),i(t)}));case 5:p(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",icon:Object(x.jsx)($.a,{}),content:"\u0423\u0434\u0430\u043b\u0438\u0432 \u0442\u0435\u0441\u0442 \u0432\u044b \u0442\u0430\u043a \u0436\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0432\u0441\u0435 \u0441\u0435\u0441\u0441\u0438\u0438 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u044d\u0442\u0438\u043c \u0442\u0435\u0441\u0442\u043e\u043c, \u0432\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",onOk:function(){I(t)}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K.b.loading({content:"\u0418\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",key:"delete-test"}),e.next=4,t.collection("tests").doc(O).delete();case 4:return e.next=6,t.collection("sessions").where("testId","==",O).get();case 6:n=e.sent,a=Object(ge.a)(n.docs),e.prev=8,a.s();case 10:if((r=a.n()).done){e.next=16;break}return c=r.value,e.next=14,c.ref.delete();case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"delete-test"}),v(),m(),e.next=33;break;case 29:e.prev=29,e.t1=e.catch(0),K.b.error({content:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",key:"delete-test"}),console.log(e.t1);case 33:case"end":return e.stop()}}),e,null,[[0,29],[8,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[]),Object(x.jsx)(It,Object(a.a)({deleteTest:g,selectedTest:O,setSelectedTest:m,fetched:b,tests:s},e))},kt=n(179),yt=n.n(kt),Tt=function(e){var t;return Object(x.jsx)("div",{className:"".concat(yt.a.wrapper),children:Object(x.jsxs)(P.b,{direction:"vertical",children:[Object(x.jsx)(h.a.Title,{level:2,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"}),Object(x.jsx)(pt.a,Object(a.a)(Object(a.a)({method:null,maxCount:1,beforeUpload:e.parse,listType:"picture-card"},e),{},{children:Object(x.jsx)("div",{children:Object(x.jsx)(ht.a,{})})})),Object(x.jsx)("div",{className:yt.a.aligner,children:Object(x.jsx)(h.a.Text,{className:yt.a.text,type:"secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 CSV \u0444\u0430\u0439\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0418\u043c\u044f, \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0413\u0440\u0443\u043f\u043f\u0430"})}),Object(x.jsx)(T.a,{onClick:e.upload,disabled:!e.preparedData,loading:e.loading,type:"primary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u044b"}),Object(x.jsx)(T.a,{onClick:e.copyToClipboard,disabled:!(null===(t=e.result)||void 0===t?void 0:t.length),children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u044b \u0432 \u0431\u0443\u0444\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"}),Object(x.jsx)(T.a,{onClick:e.getWholeInviteCodes,loading:e.loadingActiveInvites,children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u044b \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043d\u0435\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"})]})})},St=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(r.useState)(!1),h=Object(d.a)(p,2),f=h[0],O=h[1],m=Object(r.useState)(!1),v=Object(d.a)(m,2),g=v[0],I=v[1],w=N.a.firestore(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Ot({noheader:!0,trim:!0,headers:["name","lastName","group"]}),e.next=4,t.text();case 4:return e.t1=e.sent,e.next=7,e.t0.fromString.call(e.t0,e.t1);case 7:if(n=e.sent,_(n)){e.next=10;break}throw"wrong-format";case 10:s(A(n)),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(0),"wrong-format"===e.t2?K.b.error("\u0424\u0430\u0439\u043b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0442\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d"):K.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0444\u0430\u0439\u043b\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435");case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,K.b.loading({content:"Loading...",key:"add-student"}),e.next=5,w.collection("invites").get();case 5:t=e.sent,n=t.docs.map((function(e,t){var n=e.data();return"".concat(t+1,".\t").concat(n.group,"\t").concat(n.name,"\t").concat(n.lastName,"\t").concat(n.inviteCode,"\n")})),S(n.join("\n")),K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"add-student"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),K.b.error({content:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",key:"add-student"});case 15:I(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,s,i,o,u,d,j,p,h,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,K.b.loading({content:"Loading...",key:"add-student"}),e.next=5,w.collection("groups").get();case 5:n=e.sent,r=null===n||void 0===n||null===(t=n.docs)||void 0===t?void 0:t.map((function(e){return e.data()})),s=[],i=[],o=0,u=Object(ge.a)(c),e.prev=11,j=l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.value,o++,e.prev=2,n=C(),[].concat(Object(Re.a)(r),s).find((function(e){return e.group===t.group}))||s.push({group:t.group,studentAmount:0}),e.next=8,w.collection("invites").doc().set(Object(a.a)(Object(a.a)({},t),{},{inviteCode:n}));case 8:e.sent,i.push("".concat(o,".\t").concat(t.group,"\t").concat(t.name,"\t").concat(t.lastName,"\t").concat(n,"\t")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),K.b.error({content:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c ".concat(t.name," ").concat(t.lastName," ").concat(t.group)});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})),u.s();case 14:if((d=u.n()).done){e.next=18;break}return e.delegateYield(j(),"t0",16);case 16:e.next=14;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(11),u.e(e.t1);case 23:return e.prev=23,u.f(),e.finish(23);case 26:e.prev=26,p=0,h=s;case 28:if(!(p<h.length)){e.next=35;break}return f=h[p],e.next=32,w.collection("groups").doc().set(f);case 32:p++,e.next=28;break;case 35:e.next=40;break;case 37:e.prev=37,e.t2=e.catch(26),console.log(e.t2);case 40:b(i.join("\n")),S(i.join("\n")),K.b.success({content:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",key:"add-student"}),e.next=48;break;case 45:e.prev=45,e.t3=e.catch(1),K.b.error({content:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",key:"add-student"});case 48:O(!1);case 49:case"end":return e.stop()}}),e,null,[[1,45],[11,20,23,26],[26,37]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:j,e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:K.b.success({content:"\u0418\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u044b \u0431\u044b\u043b\u0438 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0432 \u0431\u0443\u0444\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(t),K.b.error({content:"\u041f\u0440\u0438 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u043d\u0432\u0430\u0439\u0442 \u043a\u043e\u0434\u044b \u0432\u044b\u0432\u0435\u0434\u0435\u043d\u044b \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c"});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";e.length<10;)e+=t[Math.floor(Math.random()*t.length)];return e},A=function(e){return e.filter((function(e){return e})).map((function(e){return{name:e.name,lastName:e.lastName||"",group:e.group,inviteCode:C()}}))},_=function(e){var t,n=Object(ge.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(3!==Object.keys(a).length&&!isNaN(a.group))return!1}}catch(r){n.e(r)}finally{n.f()}return!0};return Object(x.jsx)(Tt,Object(a.a)({result:j,getWholeInviteCodes:y,copyToClipboard:S,loadingActiveInvites:g,loading:f,preparedData:c,parse:k,upload:T},e))},Ct=function(e){var t=Object(C.i)(),n=t.path,r=t.url;return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:"1"},children:[Object(x.jsx)(dt,Object(a.a)({matchUrl:r},e)),Object(x.jsxs)(C.d,{children:[Object(x.jsx)(C.b,{path:"/about"}),Object(x.jsx)(C.b,{path:"".concat(n,"/add-session"),children:Object(x.jsx)(st,{})}),Object(x.jsx)(C.b,{path:"".concat(n,"/add-test"),children:Object(x.jsx)(xt,{})}),Object(x.jsx)(C.b,{path:"".concat(n,"/delete-test"),children:Object(x.jsx)(wt,{})}),Object(x.jsx)(C.b,{path:"".concat(n,"/add-students"),children:Object(x.jsx)(St,{})}),Object(x.jsx)(C.b,{path:"/active-sessions",children:Object(x.jsx)(Ye,{})}),Object(x.jsx)(C.b,{path:"/",children:Object(x.jsx)(Ye,{})})]})]})},At="SET_USER",Nt="UPDATE_USER",_t="CLEAR_USER",Ht={};function Mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return Object(a.a)({},t.user);case Nt:return Object(a.a)(Object(a.a)({},e),t.user);case _t:return Ht;default:return e}}var Lt=function(e){return function(t){t({type:At,user:e})}};X.a.locale("ru");var Et=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],j=Object(_.b)(),b=Object(_.c)((function(e){return e})),p=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.auth().onAuthStateChanged(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(N.a.firestore().collection("users").doc(t.uid).get().then((function(e){j(Lt(e.data()))})),o(!0)):(j((function(e){e({type:_t})})),o(!1)),a(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()}),[]),i?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(M,{}),Object(x.jsxs)(C.d,{children:[Object(x.jsx)(C.b,{exact:!0,path:"/",children:Object(x.jsx)(Fe,{})}),Object(x.jsx)(C.b,{path:"/tests",children:Object(x.jsx)(He,{})}),Object(x.jsx)(C.b,{path:"/test",children:Object(x.jsx)(ce,{})}),Object(x.jsx)(C.b,{path:"/results",children:Object(x.jsx)(D,{})}),"admin"===b.role?Object(x.jsx)(C.b,{path:"/admin",children:Object(x.jsx)(Ct,{})}):null]})]}):n?Object(x.jsx)(C.a,{to:"/login"}):null};var qt=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(C.d,{children:[Object(x.jsx)(C.b,{exact:!0,path:"/login",children:Object(x.jsx)(ve,{})}),Object(x.jsx)(C.b,{exact:!0,path:"/registration",children:Object(x.jsx)(fe,{})}),Object(x.jsx)(C.b,{path:"/",children:Object(x.jsx)(Et,{})})]})})})})},Dt=n(223),Wt=n(191),Ft=n(216),Rt=Object(Wt.b)(Mt,Object(Wt.a)(Ft.a)),Pt={apiKey:"AIzaSyCLr3GLQExS1zUXTOkUdIVPEqY2WFf3Ou0",authDomain:"tester-c329f.firebaseapp.com",projectId:"tester-c329f",storageBucket:"tester-c329f.appspot.com",messagingSenderId:"823822150085",appId:"1:823822150085:web:027b8bd3b6cd55bcda03ac",measurementId:"G-5T7L5M27ND"};N.a.initializeApp(Pt),i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Dt.a,Object(a.a)(Object(a.a)({firebase:N.a},Pt),{},{children:Object(x.jsx)(_.a,{store:Rt,children:Object(x.jsx)(qt,{})})}))}),document.getElementById("root"))},48:function(e,t,n){e.exports={wrapper:"Test_wrapper__2Duqr",testWrapper:"Test_testWrapper__-HX9m",testContainer:"Test_testContainer__3BHO4",icon:"Test_icon__3zjUt",iconDisabled:"Test_iconDisabled__ak4lg",tag:"Test_tag__1b3vI",iconSmall:"Test_iconSmall__15QhX",icons:"Test_icons__2Ngm7",main:"Test_main__1DHbB",answers:"Test_answers__tOQsp",header:"Test_header__3oMek",title:"Test_title__2BWyp",footer:"Test_footer__1kBzm",testContent:"Test_testContent__YLbgK"}},94:function(e,t,n){e.exports={wrapper:"Tests_wrapper__1yavr",cardWrapper:"Tests_cardWrapper__3nbmJ",mainWrapper:"Tests_mainWrapper__dDk1s",card:"Tests_card__jVmPJ",passed:"Tests_passed__1z9rj",late:"Tests_late__3Xb5b",button:"Tests_button__2cFVE"}}},[[326,1,2]]]);
//# sourceMappingURL=main.59d79da1.chunk.js.map