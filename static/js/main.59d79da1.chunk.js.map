{"version":3,"sources":["components/Header/Header.module.scss","pages/Welcoming/Welcoming.module.scss","components/EmaiQuestions/EmaiQuestions.module.scss","pages/AdminPanel/Sessions/Sessions.module.scss","pages/AdminPanel/AddSession/AddSession.module.scss","pages/AdminPanel/AddTest/AddTest.module.scss","pages/AdminPanel/AddStudents/AddStudents.module.scss","pages/Registration/Registration.module.scss","pages/Login/Login.module.scss","pages/TestResults/TestResults.module.scss","pages/AdminPanel/AdminPanel.module.scss","pages/AdminPanel/DeleteTest/DeleteTest.module.scss","components/EmaiQuestions/EmaiQuestions.jsx","components/EmaiQuestions/index.js","components/Header/Header.jsx","components/Header/index.js","assets/logo192.png","pages/TestResults/TestResults.jsx","pages/TestResults/index.js","pages/Test/Test.jsx","utils/sendEmail.js","pages/Test/index.js","pages/Registration/Registration.jsx","core/index.js","pages/Registration/index.js","pages/Login/Login.jsx","pages/Login/index.js","pages/Tests/Tests.jsx","pages/Tests/index.js","assets/welcoming.svg","pages/Welcoming/Welcoming.jsx","pages/Welcoming/index.js","pages/Welcoming/WelcomingContainer.jsx","pages/AdminPanel/Sessions/Sessions.jsx","pages/AdminPanel/Sessions/index.js","pages/AdminPanel/AddSession/AddSession.jsx","pages/AdminPanel/AddSession/index.js","pages/AdminPanel/AdminSidebar.jsx","pages/AdminPanel/AddTest/AddTest.jsx","pages/AdminPanel/AddTest/index.js","pages/AdminPanel/DeleteTest/DeleteTest.jsx","pages/AdminPanel/DeleteTest/index.js","pages/AdminPanel/AddStudents/AddStudents.jsx","pages/AdminPanel/AddStudents/index.js","pages/AdminPanel/index.js","store/user-reducer.js","App.js","store/index.js","index.js","pages/Test/Test.module.scss","pages/Tests/Tests.module.scss"],"names":["module","exports","renderQuestion","props","index","emailing","style","fontSize","color","padding","marginTop","borderRadius","background","bakgroundColor","boxShadow","className","s","question","Title","margin","level","multiselection","Text","answers","length","map","answer","isRight","selected","CheckOutlined","CloseOutlined","disabled","checked","renderAnswer","EmaiQuestions","obj","width","wrapper","title","name","testName","lastName","group","score","elapsedTime","questions","profileDropdown","Item","onClick","a","firebase","auth","signOut","Header","useState","setSelected","pathname","useLocation","userState","useSelector","store","parentPage","split","logoWrapper","to","logo","logoImg","src","e","key","menu","mode","selectedKeys","role","profile","overlay","placement","type","icon","UserOutlined","TestResults","TestResultsContainer","location","state","addZero","value","Test","testWrapper","testContainer","LeftOutlined","previousQuestion","iconSmall","questionIndex","iconDisabled","testContent","header","test","icons","FieldTimeOutlined","moment","duration","timeLeft","minutes","seconds","MenuOutlined","setShowDrawer","main","currentQuestion","el","markAnswer","footer","some","flat","every","sendResults","nextQuestion","filter","RightOutlined","closable","height","onClose","visible","showDrawer","wrap","size","isPassed","tag","setCurrentQuestion","sendEmail","body","fetch","method","headers","JSON","stringify","res","result","console","log","status","TestContainer","currQuestion","setCurrQuestion","setTest","setTimeLeft","sessionId","Date","now","limit","testLength","history","useHistory","db","firestore","force","message","loading","content","minutesHave","hours","minutesLeft","item","toFixed","collection","doc","uid","set","html","ReactDOMServer","renderToStaticMarkup","success","push","error","useEffect","interval","setInterval","_timeLeft","clearInterval","Modal","confirm","ExclamationCircleOutlined","okText","cancelText","onOk","_test","idx","old","Registration","layout","wrapperCol","span","registrationWrapper","data","rules","required","onChange","setEmail","target","email","placeholder","setPassword","password","setRepeatPassword","repeatPassword","align","direction","strong","register","setInviteCode","suffix","InfoCircleOutlined","recieve","errorMessage","ValidateProfile","String","toLowerCase","RegExp","RegistrationContainer","setData","setLoading","inviteCode","setErrorMessage","where","get","invite","recievedData","docs","Error","createUserWithEmailAndPassword","user","incrementGroup","ref","update","studentAmount","FieldValue","increment","setPersistence","Auth","Persistence","LOCAL","then","signInWithEmailAndPassword","delete","Login","loginWrapper","signIn","valuePropName","LoginContainer","persist","Card","Meta","Typography","Tests","renderTests","hoverable","card","isTooLate","late","passed","QuestionOutlined","questionsAmount","ClockCircleOutlined","timeLimit","CalendarOutlined","date","doTest","unformattedDate","button","shape","mainWrapper","defaultSelectedKeys","setMode","cardWrapper","initialized","activeTests","passedTests","inactiveTests","locale","prettyCountyWord","counter","oneWord","noWord","aLotOfWord","TestsContainer","sessions","setSessions","tests","setTests","setInitialized","setActiveTests","setPassedTests","setInactiveTests","getSessions","Timestamp","currentTime","studentSessions","mappedSessions","exists","sessionData","isAfter","id","getTests","_tests","mappedTests","formatData","registerAttempt","maxDate","destroy","_sessions","active","inactive","attemptTime","find","hoursLimit","format","minsLimit","questionAmount","hoursFormat","minsFormat","testObj","unformatedDate","sort","b","Welcoming","imageWrapper","image","inputFocused","inputWrapperFocused","inputWrapper","onFocus","setInputFocused","onBlur","blueIcon","bordered","parseTime","parser","weeks","asWeeks","days","asDays","asHours","asMinutes","limiter","Math","round","floor","Sessions","columns","dataIndex","render","openedTo","time","diff","attempts","EyeOutlined","showModal","showDeleteModal","details","MailOutlined","UnorderedListOutlined","showResultsModal","showResults","setShowResults","onCancel","results","showDetails","setShowDetails","dataSource","table","fetched","display","justifyContent","alignItems","ActiveSessionsContainer","setFetched","groups","setGroups","setDetails","setResults","getGroups","querySnapshot","parsed","forEach","formatSessions","groupsParsed","amount","reduce","acc","x","studentsAmount","deleteSession","_result","session","attemptsLength","empty","studentId","Option","Select","labelCol","tailLayout","offset","AddSession","testsFetched","groupsFetched","formContainer","centerer","onFinish","params","addSession","initialValues","requiredMark","label","showSearch","allowClear","disabledDate","d","isBefore","showTime","htmlType","AddSessionContainer","setTestsFetched","setGroupsFetched","formatParams","newParams","testId","SubMenu","Menu","AdminSidebar","defaultOpenKeys","ItemGroup","matchUrl","TeamOutlined","AddTest","maxCount","beforeUpload","parse","listType","PlusOutlined","setName","aligner","text","upload","preparedData","AddTestContainer","setPreparedData","file","csv","noheader","trim","fromString","parseData","modifyAnswer","startsWith","substring","formatedData","Object","entries","DeleteTest","selectedTest","setSelectedTest","optionFilterProp","deleteTest","DeleteTestContainer","deleteTestModal","ses","AddStudents","copyToClipboard","getWholeInviteCodes","loadingActiveInvites","AddStudentsContainer","setResult","setLoadingActiveInvites","validate","addInvitation","writeResultsToClipboard","join","newGroups","generatedInviteCode","generateInviteCode","navigator","clipboard","writeText","code","chars","random","keys","isNaN","AdminPanelContainer","useRouteMatch","path","url","flexDirection","flex","SET_USER","UPDATE_USER","CLEAR_USER","initialState","UserReducer","action","setUser","dispatch","Main","isCalculated","setIsCalculated","isLogged","setIsLogged","useDispatch","detectUser","onAuthStateChanged","opts","exact","AdminPanel","App","createStore","applyMiddleware","thunkMiddleware","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59d79da1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__3tGRg\",\"logoImg\":\"Header_logoImg__2P8D2\",\"logo\":\"Header_logo__3T0lc\",\"logoWrapper\":\"Header_logoWrapper__zM9x7\",\"profile\":\"Header_profile__yHIKp\",\"menu\":\"Header_menu__Zy7KP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Welcoming_wrapper__SDZuR\",\"imageWrapper\":\"Welcoming_imageWrapper__2CiYx\",\"inputWrapper\":\"Welcoming_inputWrapper__26-Ur\",\"blueIcon\":\"Welcoming_blueIcon__2yQFr\",\"inputWrapperFocused\":\"Welcoming_inputWrapperFocused__1E_Y7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"EmaiQuestions_wrapper__1ub1i\",\"title\":\"EmaiQuestions_title__28Jvf\",\"question\":\"EmaiQuestions_question__1c0w-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sessions_wrapper__1tGjI\",\"table\":\"Sessions_table__9paH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddSession_wrapper__3CoHz\",\"formContainer\":\"AddSession_formContainer___El49\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddTest_wrapper__1-IHD\",\"aligner\":\"AddTest_aligner__38rT5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddStudents_wrapper__3-t7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Registration_wrapper__19tTz\",\"registrationWrapper\":\"Registration_registrationWrapper__18fKB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__37P6v\",\"loginWrapper\":\"Login_loginWrapper__9i6rL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TestResults_wrapper__3DJs3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AdminPanel_wrapper__3Kux4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DeleteTest_wrapper__1dm0L\"};","import React from 'react';\nimport s from './EmaiQuestions.module.scss';\nimport { Typography, Space, Radio } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\n\nconst renderAnswer = (answer, index, emailing) => {\n  return (\n    <div>\n      {answer.isRight ? (\n        emailing ? (\n          <span style={{ color: answer.selected ? 'green' : '#cccccc' }}>\n            ✓\n          </span>\n        ) : (\n          <CheckOutlined\n            style={{ color: answer.selected ? 'green' : '#cccccc' }}\n          />\n        )\n      ) : emailing ? (\n        <span style={{ color: answer.selected ? 'red' : '#cccccc' }}>✕</span>\n      ) : (\n        <CloseOutlined style={{ color: answer.selected ? 'red' : '#cccccc' }} />\n      )}{' '}\n      <Radio disabled={emailing} checked={answer.selected}>\n        {index + 1}. {answer.answer}\n      </Radio>\n    </div>\n  );\n};\n\nconst renderQuestion = (props, index, emailing) => {\n  return (\n    <div\n      style={\n        emailing\n          ? {\n              fontSize: '16px',\n              color: 'black',\n              padding: '16px',\n              marginTop: '24px',\n              borderRadius: '10px',\n              background: '#ffffff',\n              bakgroundColor: '#ffffff',\n              boxShadow: '-1px 7px 5px -6px rgba(0, 0, 0, 0.06)',\n            }\n          : null\n      }\n      className={`${s.question} shadow-small`}>\n      <Typography.Title style={{ margin: 0 }} level={4}>\n        {index + 1}. {props.question}\n      </Typography.Title>\n      {props.multiselection ? (\n        <Typography.Text>\n          Вы можете выбрать несколько вариантов ответа.\n        </Typography.Text>\n      ) : null}\n      {props.answers?.length\n        ? props.answers.map((answer, index) => {\n            return renderAnswer(answer, index, emailing);\n          })\n        : null}\n    </div>\n  );\n};\n\nconst EmaiQuestions = ({ obj, emailing }) => {\n  return (\n    <div\n      style={\n        emailing\n          ? {\n              fontSize: '20px',\n              color: 'black',\n              padding: '32px',\n              background: '#f0f6fa',\n              bakgroundColor: '#f0f6fa',\n              width: '100%',\n            }\n          : null\n      }\n      className={`${s.wrapper}`}>\n      <div className={s.title}>\n        {obj.name ? (\n          <Typography.Title style={{ margin: 0 }} level={3}>\n            Тест {obj.testName} пройден {obj.name} {obj.lastName},{' '}\n            {`группа ${obj.group}`}\n          </Typography.Title>\n        ) : null}\n        <br />\n        {obj.score ? (\n          <Typography.Title style={{ margin: 0 }} level={4}>\n            Процент прохождения: {obj.score}%, Затраченное время:{' '}\n            {obj.elapsedTime}\n          </Typography.Title>\n        ) : null}\n      </div>\n      {obj.questions.length\n        ? obj.questions.map((question, index) => {\n            return renderQuestion(question, index, emailing);\n          })\n        : null}\n    </div>\n  );\n};\n\nexport default EmaiQuestions;\n","import EmaiQuestions from './EmaiQuestions';\n\nexport default EmaiQuestions;","import React, { useState } from 'react';\nimport s from './Header.module.scss';\nimport { Button, Menu, Dropdown } from 'antd';\nimport logo from '../../assets/logo192.png';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Link, useLocation } from 'react-router-dom';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { useSelector } from 'react-redux';\n\nconst profileDropdown = (\n  <Menu>\n    <Menu.Item>\n      <a>Настройки</a>\n    </Menu.Item>\n    <Menu.Item>\n      <a\n        onClick={async () => {\n          await firebase.auth().signOut();\n        }}>\n        Выйти из профиля\n      </a>\n    </Menu.Item>\n  </Menu>\n);\n\nconst Header = props => {\n  const [selected, setSelected] = useState('1');\n  const { pathname } = useLocation();\n  const userState = useSelector(store => store);\n  const parentPage = pathname.split('/')[1] || '/';\n\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.logoWrapper}>\n        <Link to=\"/\" className={s.logo}>\n          <img className={s.logoImg} src={logo}></img>\n        </Link>\n      </div>\n      <Menu\n        onClick={e => setSelected(e.key)}\n        className={s.menu}\n        mode=\"horizontal\"\n        selectedKeys={[parentPage]}>\n        <Menu.Item key=\"/\">\n          <Link to=\"/\">Приветствие</Link>\n        </Menu.Item>\n        <Menu.Item key=\"tests\">\n          <Link to=\"/tests\">Тесты</Link>\n        </Menu.Item>\n        {userState.role === 'admin' ? (\n          <Menu.Item key=\"admin\">\n            <Link to=\"/admin\">Админ Панель</Link>\n          </Menu.Item>\n        ) : null}\n      </Menu>\n      <Dropdown\n        className={s.profile}\n        overlay={profileDropdown}\n        placement=\"bottomLeft\">\n        <Button type={'text'} icon={<UserOutlined />}>\n          {userState.name} {userState.lastName}\n        </Button>\n      </Dropdown>\n    </div>\n  );\n};\n\nexport default Header;\n","import Header from './Header';\n\nexport default Header;","export default \"data:image/png;base64,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\"","import React from 'react';\nimport s from './TestResults.module.scss';\nimport {} from 'antd';\nimport { EmaiQuestions } from '../../components';\n\nconst TestResults = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.obj ? <EmaiQuestions obj={props.obj}></EmaiQuestions> : null}\n    </div>\n  );\n};\n\nexport default TestResults;\n","import React from 'react';\nimport { useLocation } from 'react-router';\nimport TestResults from './TestResults';\n\n\nconst TestResultsContainer = props => {\n  const location = useLocation();\n\n  return (\n    <TestResults obj={location?.state?.obj} {...props} />\n  );\n};\n\nexport default TestResultsContainer;","import React from 'react';\nimport s from './Test.module.scss';\nimport { Drawer, Radio, Space, Tag, Typography, Button } from 'antd';\nimport {\n  LeftOutlined,\n  RightOutlined,\n  MenuOutlined,\n  FieldTimeOutlined,\n} from '@ant-design/icons';\nimport moment from 'moment';\n\nconst addZero = value => {\n  if (value < 10) return '0' + value;\n  return value;\n};\n\nconst Test = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.testWrapper}>\n        <div className={`${s.testContainer} shadow-small`}>\n          <LeftOutlined\n            onClick={props.previousQuestion}\n            className={`${s.iconSmall} ${\n              props.questionIndex ? '' : s.iconDisabled\n            }`}\n          />\n          <div className={s.testContent}>\n            <div className={s.header}>\n              <div className={s.title}>\n                <Typography.Title style={{ margin: 0 }} level={3}>\n                  {props.test.name} {props.questionIndex + 1}/\n                  {props.test.questions.length}\n                </Typography.Title>\n              </div>\n              <div className={s.icons}>\n                <FieldTimeOutlined className={s.icon} />\n                <span>\n                  {addZero(moment.duration(props.timeLeft).minutes())}:\n                  {addZero(moment.duration(props.timeLeft).seconds())}\n                </span>\n                <MenuOutlined\n                  onClick={() => props.setShowDrawer(true)}\n                  className={s.icon}\n                />\n              </div>\n            </div>\n            <div className={s.main}>\n              <Typography.Text>\n                {props.currentQuestion.question}\n              </Typography.Text>\n            </div>\n            {props.currentQuestion.multiselection ? (\n              <Typography.Text>\n                Вы можете выбрать несколько вариантов ответа.\n              </Typography.Text>\n            ) : null}\n            <div className={s.answers}>\n              {props?.currentQuestion?.answers?.length\n                ? props.currentQuestion.answers.map((el, index) => {\n                    return (\n                      <Radio\n                        key={index}\n                        checked={el.selected}\n                        onClick={() =>\n                          props.markAnswer(props.currentQuestion, el, index)\n                        }>\n                        {el.answer}\n                      </Radio>\n                    );\n                  })\n                : null}\n            </div>\n            <div className={s.footer}>\n              {props.questionIndex === props.test.questions.length - 1 ? (\n                <Button\n                  disabled={\n                    !props.test.questions\n                      .map(el => el.answers.some(el => el.selected))\n                      .flat()\n                      .every(el => el)\n                  }\n                  onClick={props.sendResults}\n                  type=\"secondary\">\n                  Отправить результаты\n                </Button>\n              ) : (\n                <Button\n                  onClick={props.nextQuestion}\n                  disabled={\n                    !props.currentQuestion.answers.filter(el => el.selected)\n                      .length\n                  }\n                  type=\"primary\">\n                  Ответить\n                </Button>\n              )}\n            </div>\n          </div>\n          <RightOutlined\n            onClick={props.nextQuestion}\n            className={`${s.iconSmall} ${\n              props.questionIndex === props.test.questions.length - 1\n                ? s.iconDisabled\n                : ''\n            }`}\n          />\n        </div>\n      </div>\n      <Drawer\n        title=\"Список вопросов\"\n        placement=\"bottom\"\n        closable={true}\n        height=\"auto\"\n        onClose={() => props.setShowDrawer(false)}\n        visible={props.showDrawer}>\n        <div>\n          <Space wrap={true} size={3}>\n            {props.test?.questions?.length\n              ? props.test.questions.map((el, index) => {\n                  const isPassed = el.answers.some(el => el.selected);\n                  const isCurrent = index === props.questionIndex;\n                  const color = isCurrent\n                    ? 'blue-inverse'\n                    : isPassed\n                    ? 'processing'\n                    : 'default';\n                  return (\n                    <Tag\n                      key={el.index}\n                      className={s.tag}\n                      onClick={() => props.setCurrentQuestion(index)}\n                      color={color}>\n                      {index + 1}\n                    </Tag>\n                  );\n                })\n              : null}\n          </Space>\n        </div>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Test;\n","export default async function sendEmail(body) {\n  try {\n    const res = await fetch('https://vast-beach-47720.herokuapp.com/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    })\n\n    let result = null;\n    result = await res;\n    console.log('res', res);\n    if (res.status > 399) {\n      throw result;\n    }\n\n    return result;\n  } catch (e) {\n    console.log(e);\n    throw (e);\n  }\n}","import React, { useEffect, useState } from 'react';\nimport { useLocation, Redirect, useHistory } from 'react-router';\nimport Test from './Test';\nimport { message, Modal } from 'antd';\nimport { ExclamationCircleOutlined} from '@ant-design/icons';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nimport sendEmail from '../../utils/sendEmail';\nimport ReactDOMServer from 'react-dom/server';\nimport EmaiQuestions from '../../components/EmaiQuestions/EmaiQuestions';\n\nconst addZero = value => {\n  if (value < 10) return '0' + value;\n  return value;\n};\n\n\nconst TestContainer = props => {\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [currQuestion, setCurrQuestion] = useState(0);\n  const location = useLocation();\n  const [test, setTest] = useState(location?.state?.test);\n  const [timeLeft, setTimeLeft] = useState();\n  const sessionId = location?.state?.sessionId;\n  const [limit] = useState(Date.now() + location?.state?.limit);\n  const [testLength] = useState(location?.state?.test?.questions?.length);\n  const [showModal, setShowModal] = useState(false);\n  const history = useHistory();\n  const db = firebase.firestore();\n  const userState = useSelector(store => store);\n\n  const nextQuestion = () => {\n    setCurrQuestion(old => old < (testLength - 1) ? old + 1 : old);\n  }\n\n  const previousQuestion = () => {\n    setCurrQuestion(old => old > 0 ? old - 1: old);\n  }\n\n  const setCurrentQuestion = (value) => {\n    setCurrQuestion(value);\n  }\n\n  const sendResults = async (force) => {\n    try {\n      message.loading({ content: 'Отправка результатов', key: 'send-res'})\n      const minutesHave = moment.duration(location?.state?.limit).hours() * 60 + moment.duration(location?.state?.limit).minutes();\n      const minutesLeft = moment.duration(timeLeft).hours() * 60 + moment.duration(timeLeft).minutes();\n      const score = (test.questions.map(el => el.answers.every(item => item.isRight === item.selected)).filter(el => el).length / testLength * 100).toFixed(1);\n      const elapsedTime = +minutesHave - +minutesLeft + ':' + addZero(+moment.duration(location?.state?.limit).seconds() || 60 - +moment.duration(timeLeft).seconds());\n      const result = {...test, score: score, elapsedTime: elapsedTime, name: userState.name, group: userState.group, lastName: userState.lastName, testName: test.name};\n      await db.collection('sessions').doc(sessionId).collection('attempts').doc(userState.uid).set(result);\n      await sendEmail({\n        name: result.name,\n        group: result.group,\n        lastName: result.lastName,\n        html: ReactDOMServer.renderToStaticMarkup(\n          <EmaiQuestions emailing={true} obj={result} />\n        )\n      })\n      message.success({ content: 'Результаты успешно отправлены', key: 'send-res'});\n      history.push('/tests');\n    } catch (e) {\n      if (force) {\n        history.push('/tests');\n        message.error({ content: 'Время вышло.', key: 'send-res'})\n      } else message.error({ content: 'Ошибка.', key: 'send-res'})\n    }\n  }\n\n  const confirmSending = () => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Отправив результат теста вы не сможете изменить его в будущем. Учитель получит детальную информацию о ходе прохождения теста. Вы действительно хотите отправить результаты прохождения?',\n      okText: 'Да.',\n      cancelText: 'Нет.',\n      onOk() {\n        sendResults();\n      },\n    });\n  }\n\n  const markAnswer = (question, answer, index) => {\n    const _test = {...test};\n    if (question.multiselection) {\n      question.answers = question.answers.map((el, idx) => {\n        if (idx === index) {\n          return {...el, selected: !el.selected}\n        }\n        return el;\n      })\n    } else {\n      question.answers = question.answers.map((el, idx) => {\n        if (idx === index) {\n          return {...el, selected: !el.selected}\n        }\n        return {...el, selected: false};\n      })\n    }\n    setTest(_test);\n  }\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const _timeLeft = limit - Date.now();\n      if (timeLeft < _timeLeft ) {\n        setTimeLeft(0);\n        sendResults(true);\n      }\n      if (timeLeft < 0) {\n        sendResults(true);\n      }\n      setTimeLeft(_timeLeft);\n    }, 500);\n    return () => {\n      clearInterval(interval);\n    }\n  }, [])\n\n  if (!test) { \n    return <Redirect to='/' /> \n  }\n\n  return (\n    <Test \n      sendResults={confirmSending}\n      markAnswer={markAnswer}\n      showDrawer={showDrawer} \n      test={test} \n      timeLeft={timeLeft}\n      setCurrentQuestion={setCurrentQuestion}\n      questionIndex={currQuestion}\n      nextQuestion={nextQuestion} \n      previousQuestion={previousQuestion} \n      setShowDrawer={setShowDrawer}\n      currentQuestion={test.questions[currQuestion]}\n      {...props} \n    />\n  );\n};\n\nexport default TestContainer;","import React, { useState } from 'react';\nimport s from './Registration.module.scss';\nimport { Typography, Space, Button, Input, Form, Tooltip } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst Registration = props => {\n  const history = useHistory();\n\n  const layout = {\n    wrapperCol: { span: 40 },\n  };\n\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={`${s.registrationWrapper} + shadow-large`}>\n        {props.data ? (\n          <Form>\n            <Form.Item {...layout}>\n              <Typography.Title>Регистрация</Typography.Title>\n            </Form.Item>\n            <Form.Item\n              name=\"email\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите вашу почту!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setEmail(e.target.value);\n                }}\n                value={props.email}\n                placeholder=\"Почта\"\n              />\n            </Form.Item>\n            <Form.Item\n              name=\"password\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите пароль!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setPassword(e.target.value);\n                }}\n                value={props.password}\n                placeholder=\"Пароль\"\n              />\n            </Form.Item>\n            <Form.Item\n              name=\"passRepeat\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите пароль!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setRepeatPassword(e.target.value);\n                }}\n                value={props.repeatPassword}\n                placeholder=\"Повторите пароль\"\n              />\n            </Form.Item>\n            <Form.Item {...layout}>\n              <Space align=\"start\" size=\"small\" direction=\"vertical\">\n                <Typography.Text type=\"secondary\" strong>\n                  Ваше имя: {props.data.name}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" strong>\n                  Ваша фамилия: {props.data.lastName}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" strong>\n                  Ваша группа: {props.data.group}\n                </Typography.Text>\n              </Space>\n            </Form.Item>\n            <Form.Item>\n              <Space direction=\"horizontal\">\n                <Button\n                  onClick={() => {\n                    props.register();\n                  }}\n                  type=\"primary\">\n                  Зарегистрироваться\n                </Button>\n                <Button\n                  onClick={() => {\n                    history.push('/login');\n                  }}>\n                  Авторизация\n                </Button>\n              </Space>\n            </Form.Item>\n          </Form>\n        ) : (\n          <Form>\n            <Form.Item {...layout}>\n              <Typography.Title>Регистрация</Typography.Title>\n            </Form.Item>\n            <Form.Item\n              name=\"id\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Пожалуйста, введите ваш инвайт код',\n                },\n              ]}>\n              <Input\n                onChange={e => props.setInviteCode(e.target.value)}\n                placeholder=\"Инвайт код\"\n                suffix={\n                  <Tooltip title=\"Инвайт код для регистрации можно получить у преподователя\">\n                    <InfoCircleOutlined style={{ color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                }\n              />\n            </Form.Item>\n            <Form.Item>\n              <Space direction=\"horizontal\">\n                <Button\n                  onClick={props.recieve}\n                  loading={props.loading}\n                  type=\"primary\">\n                  Продолжить\n                </Button>\n                <Button\n                  onClick={() => {\n                    history.push('/login');\n                  }}>\n                  Авторизация\n                </Button>\n              </Space>\n            </Form.Item>\n          </Form>\n        )}\n        {props.errorMessage ? (\n          <Typography.Text type=\"danger\">{props.errorMessage}</Typography.Text>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n","export class ValidateProfile {\n  static email(email) {\n    console.log(email);\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  static password(password) {\n    console.log(password);\n    const re = new RegExp(\"^(?=.{8,})\");\n    return re.test(String(password).toLowerCase());\n  }\n}","import React, {useState} from 'react';\nimport Registration from './Registration';\nimport { ValidateProfile } from '../../core/index';\nimport firebase from \"firebase/app\";\nimport { useHistory } from 'react-router-dom';\nimport { message } from 'antd';\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst RegistrationContainer = props => {\n  const [data, setData] = useState(null);\n  const history = useHistory();\n\n  const db = firebase.firestore();\n\n  const [loading, setLoading] = useState(false);\n\n  const [inviteCode, setInviteCode] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const recieve = async () => {\n    setLoading(true);\n    try {\n      message.loading({ content: 'Подождите, идет загрузка', key: 'invite-code' });\n      const invite = await db.collection(\"invites\").where('inviteCode', '==', inviteCode).get();\n      const recievedData = invite.docs[0].data();\n      if (!recievedData) {\n        throw new Error();\n      }\n      setData(recievedData);\n      message.success({ content: 'Инвайт код найден', key: 'invite-code' });\n    } catch (e) {\n      message.error({ content: 'Проверьте правильность введенного инвайт кода.', key: 'invite-code'  });\n    }\n    setLoading(false);\n  }\n  const register = async () => {\n    setErrorMessage('');\n    setLoading(true);\n    if (password === repeatPassword) {\n      if (ValidateProfile.email(email)) {\n        if (ValidateProfile.password(password)) {\n          try {\n            message.loading({ content: 'Подождите, идет загрузка', key: 'registration' });\n            const invite = await db.collection(\"invites\").where('inviteCode', '==', inviteCode).get();\n            const { user } = await firebase.auth().createUserWithEmailAndPassword(email, password);\n            const addUser = await db.collection(\"users\").doc(user.uid).set({\n              'name': data.name,\n              uid: user.uid,\n              lastName: data.lastName,\n              group: data.group,\n              email: email,\n              role: 'student',\n            })\n            const incrementGroup = await db.collection(\"groups\").where('group', '==', data.group).limit(1).get();\n            await incrementGroup.docs[0].ref.update({\n              studentAmount: firebase.firestore.FieldValue.increment(1),\n            })\n            await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\n              firebase.auth().signInWithEmailAndPassword(email, password);\n            });\n            await invite.docs[0].ref.delete();\n            message.success({ content: 'Успешно', key: 'registration' });\n            history.push('/');\n          } catch (e) {\n            console.log(e);\n            message.error({ content: 'Кажется, что-то пошло не так. Попробуйте позже', key: 'registration' });\n          }\n        } else {\n          setErrorMessage('Пароль должен содержать минимум 8 символов');\n        }\n      } else {\n        setErrorMessage('Введите почту в корректном формате');\n      }\n    } else {\n      setErrorMessage('Введенные пароли не совпадают');\n    }\n    setLoading(false);\n  }\n\n  return (\n    <Registration  recieve={recieve} setInviteCode={setInviteCode} loading={loading} register={register} errorMessage={errorMessage} email={email} setEmail={setEmail} password={password} setPassword={setPassword} repeatPassword={repeatPassword} setRepeatPassword={setRepeatPassword} data={data} {...props} />\n  );\n};\n\nexport default RegistrationContainer;","import React from 'react';\nimport s from './Login.module.scss';\nimport { Typography, Space, Button, Input, Form, Checkbox } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = props => {\n  const layout = {\n    wrapperCol: { span: 40 },\n  };\n  const tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n  };\n\n  const history = useHistory();\n\n  return (\n    <div className={`${s.wrapper} + shadow-small`}>\n      <div className={`${s.loginWrapper} + shadow-large`}>\n        <Form {...layout}>\n          <Form.Item {...layout}>\n            <Typography.Title>Вход</Typography.Title>\n          </Form.Item>\n          <Form.Item\n            name=\"login\"\n            rules={[{ required: true, message: 'Пожалуйста, введите логин!' }]}>\n            <Input\n              value={props.email}\n              onChange={e => {\n                props.setEmail(e.target.value);\n              }}\n              placeholder=\"Логин\"\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"password\"\n            rules={[\n              { required: true, message: 'Пожалуйста, введите пароль!' },\n            ]}>\n            <Input\n              value={props.password}\n              onChange={e => {\n                props.setPassword(e.target.value);\n              }}\n              placeholder=\"Пароль\"\n            />\n          </Form.Item>\n\n          <Form.Item>\n            <Space direction=\"horizontal\">\n              <Button\n                onClick={() => {\n                  props.signIn();\n                }}\n                type=\"primary\">\n                Войти\n              </Button>\n              <Button\n                onClick={() => {\n                  history.push('registration');\n                }}>\n                Регистрация\n              </Button>\n            </Space>\n          </Form.Item>\n\n          <Form.Item {...layout} name=\"remember\" valuePropName=\"checked\">\n            <Typography.Text>Забыли пароль?</Typography.Text>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport Login from './Login';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { message } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nconst LoginContainer = props => {\n  const history = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const signIn = async () => {\n    console.log('sign')\n    try {\n      const persist = await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(async () => { \n        return firebase.auth().signInWithEmailAndPassword(email, password); \n      });\n      console.log(persist);\n      history.push('/');\n    } catch (e) {\n      message.error('Кажется, что-то пошло не так. Попробуйте позже');\n      console.log(e);\n    }\n  }\n\n  return (\n    <Login signIn={signIn} email={email} setEmail={setEmail} password={password} setPassword={setPassword} {...props} />\n  );\n};\n\nexport default LoginContainer;","import React from 'react';\nimport s from './Tests.module.scss';\nimport { Card, Typography, Space, Button, Spin, Menu } from 'antd';\nimport {\n  QuestionOutlined,\n  ClockCircleOutlined,\n  CalendarOutlined,\n  ExclamationOutlined,\n} from '@ant-design/icons';\n\nconst { Meta } = Card;\nconst { Text } = Typography;\n\nconst Tests = props => {\n  const getClassName = (score, isTooLate) => {\n    if (isTooLate) {\n      return s.late;\n    } else if (typeof score !== 'undefined') {\n      return s.passed;\n    }\n  };\n  const renderTests = data => {\n    return data?.length\n      ? data.map((el, index) => {\n          return (\n            <Card\n              key={index}\n              hoverable={typeof el.score === 'undefined'}\n              className={`${s.card} + ${getClassName(el.score, el.isTooLate)}`}\n              title={el.title}>\n              <Space direction={'vertical'}>\n                <Space>\n                  <QuestionOutlined />\n                  <Text>Количество вопросов: {el.questionsAmount}</Text>\n                </Space>\n                <Space>\n                  <ClockCircleOutlined />\n                  <Text>Ограничение: {el.timeLimit}</Text>\n                </Space>\n                <Space>\n                  <CalendarOutlined />\n                  <Text>Доступно до: {el.date}</Text>\n                </Space>\n                {typeof el.score === 'undefined' ? (\n                  <Button\n                    onClick={() =>\n                      props.doTest(el.test, el.limit, el.sessionId, el.unformattedDate)\n                    }\n                    className={s.button}\n                    shape={'round'}\n                    type={'primary'}>\n                    Пройти\n                  </Button>\n                ) : el.isTooLate ? (\n                  <Space>\n                    <Text>Просрочен</Text>\n                  </Space>\n                ) : (\n                  <Space>\n                    <Text>Пройдено: {el.score}%</Text>\n                  </Space>\n                )}\n              </Space>\n            </Card>\n          );\n        })\n      : null;\n  };\n\n  console.log(props);\n  return (\n    <div className={s.mainWrapper}>\n      <Menu style={{ width: 230 }} defaultSelectedKeys={['0']} mode=\"inline\">\n        <Menu.Item onClick={() => props.setMode('all')} key=\"0\">\n          Все тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('active')} key=\"1\">\n          Активные тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('passed')} key=\"2\">\n          Пройденные тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('inactive')} key=\"3\">\n          Просроченные тесты\n        </Menu.Item>\n      </Menu>\n      <div className={`${s.wrapper}`}>\n        <div className={s.cardWrapper}>\n          {props.initialized ? (\n            [\n              props.mode === 'active' || props.mode === 'all'\n                ? renderTests(props.activeTests)\n                : null,\n              props.mode === 'passed' || props.mode === 'all'\n                ? renderTests(props.passedTests)\n                : null,\n              props.mode === 'inactive' || props.mode === 'all'\n                ? renderTests(props.inactiveTests)\n                : null,\n            ]\n          ) : (\n            <Spin />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Tests;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Tests from './Tests';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport { message, Modal } from 'antd';\nimport { ExclamationCircleOutlined, TrophyOutlined} from '@ant-design/icons';\nimport { useHistory } from 'react-router';\n\n\nmoment.locale('ru');\n\nexport const prettyCountyWord = (counter, oneWord, noWord, aLotOfWord) => {\n  if (counter % 10 === 1 && counter !== 11) {\n    return oneWord;\n  } else if (\n    [2, 3, 4].some(el => el === counter % 10) &&\n    ![12, 13, 14].some(el => el === counter)\n  ) {\n    return noWord;\n  } else {\n    return aLotOfWord;\n  }\n};\n\nconst TestsContainer = props => {\n  const userState = useSelector(store => store);\n  const db = firebase.firestore();\n  const [sessions, setSessions] = useState();\n  const [tests, setTests] = useState();\n  const [initialized, setInitialized] = useState(false);\n  const [activeTests, setActiveTests] = useState();\n  const [passedTests, setPassedTests] = useState();\n  const [inactiveTests, setInactiveTests] = useState();\n  const [mode, setMode] = useState('all');\n  const history = useHistory();\n  \n  const getSessions = async () => {\n    try {\n      if (userState?.group) { \n        const currentTime = await firebase.firestore.Timestamp.now();\n        const studentSessions = await db.collection('sessions').where('groups', 'array-contains', userState.group).get();\n        const mappedSessions = [];\n        for (const el of studentSessions.docs) {\n          const doc = await el.ref.collection('attempts').doc(userState.uid).get();\n\n          let score;\n          let isTooLate = false;\n          if (doc.exists) {\n            score = doc.data().score;\n          }\n          \n          const sessionData = el.data();\n          if (moment(moment(currentTime.seconds*1000)).isAfter(sessionData.date) && !score) {\n            score = 0.0;\n            isTooLate = true;\n          }\n          mappedSessions.push({...el.data(), sessionId: el.id, score: score, isTooLate: isTooLate });\n        }\n        setSessions(mappedSessions);\n        getTests(mappedSessions);\n      }\n    } catch (e) {\n      // console.log(e);\n    }\n  }\n\n  const getTests = async (sessions = sessions) => {\n    try {\n      const testNames = sessions.map(el => el.testName);\n      const _tests = await db.collection('tests').get();\n      const mappedTests = _tests.docs.map(el => el.data());\n      setTests(mappedTests);\n      formatData(sessions, mappedTests);\n      setInitialized(true);\n    } catch (e) {\n      // console.log(e);\n    }\n  }\n\n  const registerAttempt = async (test, limit, sessionId, maxDate) => {\n    try {\n      message.loading({content:'Подождите, идет загрузка', key: 'wait'});\n      const currentTime = await firebase.firestore.Timestamp.now();\n      if (moment(currentTime.seconds*1000).isAfter(moment(maxDate))) {\n        message.loading({content:'Тест более недоступен', key: 'wait'});\n        history.push('/');\n      }\n      await db.collection('sessions').doc(sessionId).collection('attempts').doc(userState.uid).set({score: 0});\n      history.push({\n        pathname: '/test',\n        state: {test: test, limit: limit, sessionId: sessionId}\n      })\n      message.destroy('wait');\n    } catch (e) {\n      message.error({content:'Что-то пошло не так, попробуйте еще раз', key: 'wait'});\n    }\n  }\n  \n  const doTest = (test, limit, sessionId, maxDate) => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content: 'У вас будет всего одна попытка для прохождения данного теста. Не закрывайте вкладку с тестом до тех пор, пока не отправите ответ, иначе результат не сохранится а возможность прохождения теста заблокируется.',\n      okText: 'Начать',\n      cancelText: 'Назад',\n      onOk() {\n        registerAttempt(test, limit, sessionId, maxDate);\n      },\n    });\n    \n  }\n\n  const formatData = (_sessions = sessions, _tests = tests) => {\n    const active = [];\n    const passed = [];\n    const inactive = [];\n    _sessions.map((el) => {\n      const date = moment(el.attemptTime, 'HH:mm');\n      const test = _tests.find(item => el.test === item.name);\n      const hoursLimit = date.format('HH');\n      const minsLimit = date.format('mm');\n      const title = test.name;\n      const questionAmount = test.questions.length;\n      const hoursFormat = +hoursLimit ? `${+hoursLimit} ${prettyCountyWord(+hoursLimit, 'час', 'часа', 'часов')}` : '';\n      const minsFormat = +minsLimit ? `${minsLimit} ${prettyCountyWord(minsLimit, 'минута', 'минут', 'минут')}` : '';\n      const testObj =  {\n        score: el.score,\n        sessionId: el.sessionId,\n        limit: hoursLimit * 3600 * 1000 + +minsLimit * 60 * 1000,\n        test: test,\n        title: title,\n        questionsAmount: questionAmount,\n        timeLimit:  hoursFormat + minsFormat,\n        unformatedDate: el.date,\n        isTooLate: el.isTooLate,\n        date: moment(el.date).format('DD MMMM HH:mm'),\n      }\n      if (el.isTooLate) {\n        inactive.push(testObj);\n      } else if (typeof el.score !== 'undefined') {\n        passed.push(testObj);\n      } else active.push(testObj);\n    })\n    setActiveTests(active.sort((a,b) => {\n      if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }));\n    setPassedTests(passed.sort((a,b) => {\n      if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }));\n    setInactiveTests(inactive.sort((a,b) => {\n      if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }));\n  }\n\n  useEffect(() => {\n    getSessions();\n  }, [userState])\n\n  return (\n    <Tests initialized={initialized} doTest={doTest} mode={mode} setMode={setMode} activeTests={activeTests} passedTests={passedTests} inactiveTests={inactiveTests} {...props} />\n  );\n};\n\n\nexport default TestsContainer;","export default __webpack_public_path__ + \"static/media/welcoming.023238cb.svg\";","import React from 'react';\nimport s from './Welcoming.module.scss';\nimport image from '../../assets/welcoming.svg';\nimport { Typography, space, Space, Input, Button } from 'antd';\nimport { RightOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport EmaiQuestions from '../../components/EmaiQuestions/EmaiQuestions';\n\nconst { Title, Text } = Typography;\nconst Welcoming = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.imageWrapper}>\n        <img src={image}></img>\n      </div>\n      {/* <EmaiQuestions\n        obj={JSON.parse(\n          `{\"score\":\"0.0\",\"questions\":[{\"multiselection\":false,\"question\":\"question5\",\"answers\":[{\"answer\":\"answer\",\"selected\":false,\"isRight\":false},{\"selected\":false,\"isRight\":true,\"answer\":\"answer\"},{\"selected\":true,\"isRight\":false,\"answer\":\"answer\"}]},{\"answers\":[{\"isRight\":false,\"selected\":true,\"answer\":\"answer\"}],\"question\":\"question4\",\"multiselection\":false},{\"question\":\"question3\",\"answers\":[{\"isRight\":false,\"answer\":\"answer\"},{\"answer\":\"answer\",\"isRight\":true},{\"answer\":\"answer\",\"selected\":true,\"isRight\":false},{\"answer\":\"answer\",\"isRight\":false}],\"multiselection\":true},{\"answers\":[{\"selected\":false,\"answer\":\"answer\",\"isRight\":false},{\"answer\":\"answer\",\"selected\":false,\"isRight\":true},{\"selected\":false,\"isRight\":false,\"answer\":\"answer\"},{\"isRight\":false,\"answer\":\"answer\",\"selected\":false},{\"answer\":\"answer\",\"selected\":true,\"isRight\":false}],\"question\":\"question6\",\"multiselection\":false},{\"question\":\"question7\",\"multiselection\":false,\"answers\":[{\"selected\":false,\"answer\":\"answer\",\"isRight\":false},{\"answer\":\"answer\",\"isRight\":false,\"selected\":false},{\"selected\":true,\"isRight\":false,\"answer\":\"answer\"}]},{\"question\":\"question\",\"multiselection\":true,\"answers\":[{\"answer\":\"answer\",\"isRight\":false},{\"isRight\":true,\"answer\":\"answer\"},{\"answer\":\"answer\",\"isRight\":true,\"selected\":true}]}],\"group\":\"863102\",\"name\":\"Артем\",\"elapsedTime\":\"1:15\",\"lastName\":\"Калугин\",\"studentId\":\"6oDhlqQV0yU2FOLiESfPD0Qs9O22\"}`,\n        )}\n      /> */}\n      <Space direction=\"vertical\">\n        <Title level={2}> Привет! </Title>\n        <Text>Для того чтобы начать введите ссылку на тест</Text>\n        <div\n          className={\n            props.inputFocused ? s.inputWrapperFocused : s.inputWrapper\n          }>\n          <Input\n            onFocus={() => {\n              props.setInputFocused(true);\n            }}\n            onBlur={() => {\n              props.setInputFocused(false);\n            }}\n            className={props.inputFocused ? s.blueIcon : null}\n            bordered={false}\n            suffix={<RightOutlined />}\n            placeholder=\"Ссылка\"\n          />\n        </div>\n        <Text>Или</Text>\n        <Link to=\"/tests\">\n          <Button type=\"primary\" shape=\"round\">\n            Перейти к тестам\n            <RightOutlined />\n          </Button>\n        </Link>\n      </Space>\n    </div>\n  );\n};\n\nexport default Welcoming;\n","import Welcoming from './WelcomingContainer';\n\nexport default Welcoming;","import React, { useState } from 'react';\nimport Welcoming from './Welcoming';\n\nconst WelcomingContainer = props => {\n  const [ inputFocused, setInputFocused] = useState(false);\n  return (\n    <Welcoming inputFocused={inputFocused} setInputFocused={setInputFocused} {...props} />\n  );\n};\n\nexport default WelcomingContainer;","import React from 'react';\nimport s from './Sessions.module.scss';\nimport { Typography, Table, Modal, Tooltip, Spin, Space } from 'antd';\nimport { Link } from 'react-router-dom';\nimport {\n  CloseOutlined,\n  EyeOutlined,\n  MailOutlined,\n  UnorderedListOutlined,\n} from '@ant-design/icons';\nimport moment from 'moment';\nimport { EmaiQuestions } from '../../../components';\n\nexport const prettyCountyWord = (counter, oneWord, noWord, aLotOfWord) => {\n  if (counter % 10 === 1 && counter !== 11) {\n    return oneWord;\n  } else if (\n    [2, 3, 4].some(el => el === counter % 10) &&\n    ![12, 13, 14].some(el => el === counter)\n  ) {\n    return noWord;\n  } else {\n    return aLotOfWord;\n  }\n};\n\nconst parseTime = (seconds, timeLimit) => {\n  const parser = moment.duration(seconds);\n  const weeks = parser.asWeeks();\n  const days = parser.asDays();\n  const hours = parser.asHours();\n  const minutes = parser.asMinutes();\n  const limiter = moment(timeLimit, 'HH:mm');\n  console.log(seconds < 0);\n  console.log(seconds / 1000);\n  console.log(\n    seconds / 1000 > limiter.format('HH') * 3600 + limiter.format('mm') * 60,\n  );\n  console.log(limiter.format('HH') * 3600 + limiter.format('mm') * 60);\n  if (\n    seconds < 0 &&\n    -seconds / 1000 > limiter.format('HH') * 3600 + limiter.format('mm') * 60\n  ) {\n    return 'Завершен';\n  }\n  if (seconds / 1000 < 0) return 'Скоро завершится';\n  if (days > 7) {\n    const date = Math.round(weeks);\n    return date + ' ' + prettyCountyWord(date, 'неделя', 'недели', 'недель');\n  } else if (days > 1) {\n    return (\n      Math.floor(days) +\n      ' ' +\n      prettyCountyWord(Math.floor(days), 'день', 'дня', 'дней') +\n      ' ' +\n      Math.floor(hours - Math.floor(days) * 24) +\n      ' ' +\n      prettyCountyWord(\n        Math.floor(hours - Math.floor(days) * 24),\n        'час',\n        'часа',\n        'часов',\n      )\n    );\n  } else {\n    return (\n      Math.floor(hours) +\n      ' ' +\n      prettyCountyWord(Math.floor(hours), 'час', 'часа', 'часов') +\n      ' ' +\n      Math.floor(minutes - Math.floor(hours) * 60) +\n      ' ' +\n      prettyCountyWord(\n        Math.floor(minutes - Math.floor(hours) * 60),\n        'минута',\n        'минуты',\n        'минут',\n      )\n    );\n  }\n};\n\nconst Sessions = props => {\n  let data = [];\n\n  const columns = [\n    {\n      title: 'Тест',\n      dataIndex: 'test',\n      key: 'test',\n    },\n    {\n      title: 'Доступно для ',\n      dataIndex: 'groups',\n      key: 'groups',\n      render: openedTo => {\n        return openedTo.map((el, index) => (\n          <Typography.Text key={el}>\n            {index ? ', ' : null}\n            {el}\n          </Typography.Text>\n        ));\n      },\n    },\n    {\n      title: 'Оставшееся время',\n      dataIndex: 'date',\n      key: 'date',\n      render: (date, obj) => {\n        const time = moment(date).diff(moment(new Date()));\n        return (\n          <Typography.Text>{parseTime(time, obj.attemptTime)}</Typography.Text>\n        );\n      },\n    },\n    {\n      title: 'Всего проходят',\n      dataIndex: 'studentsAmount',\n      key: 'studentsAmount',\n    },\n    {\n      title: 'Завершили прохождение',\n      dataIndex: 'attemptsLength',\n      key: 'attemptsLength',\n    },\n    {\n      title: 'Детализация',\n      dataIndex: 'attempts',\n      key: 'attempts',\n      render: attempts => {\n        if (attempts?.length) {\n          return (\n            <EyeOutlined\n              onClick={() => props.showModal(attempts)}\n              style={{ color: 'blue' }}\n            />\n          );\n        }\n        return null;\n      },\n    },\n    {\n      title: 'Удаление',\n      key: 'attempts',\n      render: (attempts, obj) => {\n        return (\n          <CloseOutlined\n            onClick={() => props.showDeleteModal(obj.sessionId)}\n            style={{ color: 'blue' }}\n          />\n        );\n      },\n    },\n  ];\n\n  const details = [\n    {\n      title: 'Группа',\n      dataIndex: 'group',\n      key: 'group',\n    },\n    {\n      title: 'Имя',\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: 'Фамилия',\n      dataIndex: 'lastName',\n      key: 'lastName',\n    },\n    {\n      title: 'Затраченное время',\n      dataIndex: 'elapsedTime',\n      key: 'elapsedTime',\n    },\n    {\n      title: 'Набранный процент',\n      dataIndex: 'score',\n      key: 'score',\n    },\n    {\n      dataIndex: 'questions',\n      key: 'questions',\n      render: (score, obj) => {\n        return (\n          <>\n            <Tooltip title=\"Получить результат прохождения на почту\">\n              <MailOutlined\n                style={{ color: 'black', fontSize: '18px' }}\n                onClick={() => props.email(obj)}\n              />\n            </Tooltip>{' '}\n            <Tooltip title=\"Просмотр\">\n              <UnorderedListOutlined\n                onClick={() => props.showResultsModal(obj)}\n                style={{ color: 'black', fontSize: '18px' }}\n              />\n            </Tooltip>\n          </>\n        );\n      },\n    },\n  ];\n\n  if (props.sessions?.length) {\n    data = [...props.sessions];\n    data.sort((a, b) => {\n      if (moment(a.date).isAfter(moment(b.date))) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n  }\n  return (\n    <div className={`${s.wrapper}`}>\n      <Modal\n        title=\"Результаты теста\"\n        visible={props.showResults}\n        width={1000}\n        onOk={() => props.setShowResults(false)}\n        onCancel={() => props.setShowResults(false)}>\n        <EmaiQuestions obj={props.results} />\n      </Modal>\n      <Modal\n        title=\"Детализация\"\n        visible={props.showDetails}\n        width={1000}\n        onOk={() => props.setShowDetails(false)}\n        onCancel={() => props.setShowDetails(false)}>\n        <Table\n          columns={details}\n          dataSource={props.details}\n          className={s.table}\n        />\n      </Modal>\n      <Typography.Title level={2}>Просмотр сессий</Typography.Title>\n      {props.fetched ? (\n        <Table columns={columns} dataSource={data} className={s.table} />\n      ) : (\n        <div\n          style={{\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}>\n          <Spin />\n        </div>\n      )}{' '}\n    </div>\n  );\n};\n\nexport default Sessions;\n","import React, { useState, useEffect } from 'react';\nimport ActiveSessions from './Sessions';\nimport firebase from \"firebase/app\";\nimport { message, Modal } from 'antd';\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport sendEmail from '../../../utils/sendEmail';\nimport ReactDOMServer from 'react-dom/server';\nimport EmaiQuestions from '../../../components/EmaiQuestions/EmaiQuestions';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nconst ActiveSessionsContainer = props => {\n  const [fetched, setFetched] = useState(false);\n  const [groups, setGroups] = useState(false);\n  const [sessions, setSessions] = useState();\n  const [showDetails, setShowDetails] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const [details, setDetails] = useState([]);\n  const [results, setResults] = useState({});\n  const db = firebase.firestore();\n\n  const getGroups = async () => {\n    try {\n      await db.collection(\"groups\").get().then((querySnapshot) => {\n        const parsed = [];\n        querySnapshot.forEach((doc) => {\n            parsed.push({\n              uid: doc.id,\n              ...doc.data()\n            });\n        });\n        setGroups(parsed);\n        formatSessions(parsed);\n      });\n    } catch {\n      \n    }\n  }\n\n  const email = async (obj) => {\n    try {\n      message.loading({ content: 'Загрузка', key: 'send-mail' });\n      await sendEmail({\n        name: obj.name,\n        group: obj.group,\n        lastName: obj.lastName,\n        html: ReactDOMServer.renderToStaticMarkup(\n          <EmaiQuestions emailing={true} obj={obj} />\n        )\n      })\n      message.success({ content: 'Письмо отправлено', key: 'send-mail' });\n    } catch (e) {\n      console.log(e);\n      message.error({ content: 'Произошла ошибка при отправлении письма', key: 'send-mail' });\n    }\n  }\n\n  const showModal = (details) => {\n    setDetails(details);\n    setShowDetails(true);\n  }\n\n  const showResultsModal = (res) => {\n    setResults(res);\n    setShowResults(true);\n  }\n\n  const formatSessions = async (groupsParsed = groups) => {\n    setSessions(old => old.map(el => {\n      const amount = el.groups.reduce((acc, x) => {\n        return acc + groupsParsed.find((item) => item.group === x).studentAmount;\n      }, 0)\n      return {...el, studentsAmount: amount};\n    }));\n    setFetched(true);\n  }\n\n  const showDeleteModal = async (sessionId) => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Удалив сессию вы очистите место в БД, но потеряете возможность просмотра результатов, вы действительно хотите продолжить?',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteSession(sessionId);\n      },\n    });\n  }\n\n  const deleteSession = async (sessionId) => {\n    try {\n      message.loading({ content: 'Загрузка', key: 'send-mail' });\n      await db.collection(\"sessions\").doc(sessionId).delete();\n      message.success({ content: 'Успешно', key: 'send-mail' });\n      getSessions();\n    } catch (e) {\n      message.error({ content: 'Произошла ошибка при удалении, попробуйте позже', key: 'send-mail' });\n    }\n  }\n\n  const getSessions = async () => {\n    setFetched(false);\n    try {\n      const _result = [];\n      const _sessions = await db.collection(\"sessions\").get();\n      for (const session of _sessions.docs) {\n        const doc = await session.ref.collection('attempts').get();\n        let attempts = [];\n        let attemptsLength = 0;\n        if (!doc.empty) {\n          attempts = doc.docs.map(el => { \n            return { ...el.data(), studentId: el.id}\n          });\n          attemptsLength = attempts.length;\n        }\n        _result.push({...session.data(), sessionId: session.id, attemptsLength: attemptsLength, attempts: attempts})\n      }\n      setSessions(_result);\n      getGroups();\n    } catch (e) {\n      message.error({ content: 'Не удалось получить список сессий', key: 'add-student' });\n    }\n  }\n\n  useEffect(() => {\n    getSessions();\n  }, [])\n\n  return (\n    <ActiveSessions fetched={fetched} showDeleteModal={showDeleteModal} results={results} showResults={showResults} setShowResults={setShowResults} showResultsModal={showResultsModal} details={details} email={email} showDetails={showDetails} setShowDetails={setShowDetails} showModal={showModal} sessions={sessions} {...props} />\n  );\n};\n\nexport default ActiveSessionsContainer;","import React from 'react';\nimport s from './AddSession.module.scss';\nimport { Typography, Spin } from 'antd';\nimport {\n  Form,\n  Button,\n  Select,\n  DatePicker,\n  TimePicker,\n  InputNumber,\n} from 'antd';\nimport moment from 'moment';\n\nconst { Option } = Select;\n\nconst layout = {\n  labelCol: { span: 10 },\n  wrapperCol: { span: 20 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 10, span: 16 },\n};\n\nconst AddSession = props => {\n  console.log(props);\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.testsFetched && props.groupsFetched ? (\n        <>\n          <Typography.Title level={2}>Добавление сессии</Typography.Title>\n          <div className={s.formContainer}>\n            <div className={s.centerer}>\n              <Form\n                {...layout}\n                layout=\"horizontal\"\n                name=\"addTest\"\n                onFinish={params => props.addSession(params)}\n                initialValues={{\n                  attemptTime: moment('01:00', 'HH:mm'),\n                }}\n                requiredMark={false}>\n                <Form.Item\n                  label=\"Тест\"\n                  name=\"testId\"\n                  style={{ width: '100%' }}\n                  rules={[{ required: true, message: '' }]}>\n                  <Select showSearch placeholder=\"Выберите тест\">\n                    {props.tests?.length\n                      ? props.tests.map(el => {\n                          return (\n                            <Option key={el.uid} value={el.uid}>\n                              {el.name}\n                            </Option>\n                          );\n                        })\n                      : null}\n                  </Select>\n                </Form.Item>\n                <Form.Item\n                  label=\"Группы\"\n                  name=\"groups\"\n                  rules={[{ required: true, message: '' }]}>\n                  <Select\n                    mode=\"multiple\"\n                    allowClear\n                    placeholder=\"Выберите для каких групп тест\">\n                    {props.groups?.length\n                      ? props.groups.map(el => {\n                          return (\n                            <Option key={el.uid} value={el.group}>\n                              {el.group}\n                            </Option>\n                          );\n                        })\n                      : null}\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Действителен\"\n                  name=\"date\"\n                  rules={[\n                    {\n                      required: true,\n                      message: '',\n                    },\n                  ]}>\n                  <DatePicker\n                    disabledDate={d => !d || d.isBefore(new Date())}\n                    showTime\n                    placeholder=\"Дата и время\"\n                  />\n                </Form.Item>\n                <Form.Item\n                  label=\"Ограничение времени\"\n                  name=\"attemptTime\"\n                  rules={[\n                    {\n                      required: true,\n                      message: '',\n                    },\n                  ]}>\n                  <TimePicker\n                    format=\"HH:mm\"\n                    placeholder=\"Выберите длительность попытки\"\n                  />\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                  <Button\n                    loading={props.loading}\n                    type=\"primary\"\n                    htmlType=\"submit\">\n                    Добавить\n                  </Button>\n                </Form.Item>\n              </Form>\n            </div>\n          </div>\n        </>\n      ) : (\n        <Spin />\n      )}\n    </div>\n  );\n};\n\nexport default AddSession;\n","import React, { useEffect, useState } from 'react';\nimport AddSession from './AddSession';\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport { message } from 'antd';\n\nconst AddSessionContainer = props => {\n  const db = firebase.firestore();\n  const [testsFetched, setTestsFetched] = useState(false);\n  const [groupsFetched, setGroupsFetched] = useState(false);\n  const [tests, setTests] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getTests = async () => {\n    setTestsFetched(false);\n    setTests();\n    try {\n      await db.collection(\"tests\").get().then((querySnapshot) => {\n        const parsed = [];\n        querySnapshot.forEach((doc) => {\n            parsed.push({\n              uid: doc.id,\n              name: doc.data().name,\n            });\n        });\n        setTests(parsed);\n      });\n      setTestsFetched(true)\n    } catch {\n      \n    }\n  }\n\n  const addSession = async (params) => {\n    setLoading(true);\n    try {\n      message.loading({ content: 'Loading', key: 'add-session'})\n      await db.collection('sessions').doc().set(formatParams(params));\n      message.success({ content: 'Успешно', key: 'add-session'})\n    } catch(e) {\n      console.log(e);\n      message.error({ content: 'Кажется, что-то пошло не так. Попробуйте позже.', key: 'add-session'})\n    }\n    setLoading(false);\n  }\n\n  const formatParams = (params) => {\n    const newParams = {...params};\n    newParams.test = tests.find(el => el.uid === params.testId).name;\n    newParams.date = params.date.format();\n    newParams.attemptTime = params.attemptTime.format('HH:mm');\n    return newParams;\n  }\n\n  const getGroups = async () => {\n    setGroupsFetched(false);\n    setGroups();\n    try {\n      await db.collection(\"groups\").get().then((querySnapshot) => {\n        const parsed = [];\n        querySnapshot.forEach((doc) => {\n            parsed.push({\n              uid: doc.id,\n              ...doc.data()\n            });\n        });\n        setGroups(parsed);\n      });\n      setGroupsFetched(true)\n    } catch {\n      \n    }\n  }\n\n  useEffect(() => {\n    getGroups();\n    getTests();\n  },[])\n\n  return (\n    <AddSession loading={loading} addSession={addSession} groups={groups} tests={tests} groupsFetched={groupsFetched} testsFetched={testsFetched} {...props} />\n  );\n};\n\nexport default AddSessionContainer;","import React from 'react';\nimport s from './AdminPanel.module.scss';\nimport {} from 'antd';\nimport { Menu } from 'antd';\nimport { UnorderedListOutlined, TeamOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nconst { SubMenu } = Menu;\n\nconst AdminSidebar = props => {\n  return (\n    <div className={`${s.wrapper} shadow-small`}>\n      <Menu\n        style={{ width: 256 }}\n        defaultSelectedKeys={['1']}\n        defaultOpenKeys={['sub1']}\n        mode=\"inline\">\n        <SubMenu key=\"sub1\" icon={<UnorderedListOutlined />} title=\"Тесты\">\n          <Menu.ItemGroup key=\"g1\" title=\"Сессии\">\n            <Menu.Item key=\"1\">\n              <Link to={`${props.matchUrl}`}>Просмотр сессии</Link>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Link to={`${props.matchUrl}/add-session`}>\n                Добавление сессии\n              </Link>\n            </Menu.Item>\n          </Menu.ItemGroup>\n          <Menu.ItemGroup key=\"g2\" title=\"Тесты\">\n            <Menu.Item key=\"3\">\n              <Link to={`${props.matchUrl}/add-test`}>Новый тест</Link>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Link to={`${props.matchUrl}/delete-test`}>Удаление теста</Link>\n            </Menu.Item>\n          </Menu.ItemGroup>\n        </SubMenu>\n        <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Студенты\">\n          <Menu.Item key=\"5\">Просмотр</Menu.Item>\n          <Menu.Item key=\"6\">\n            <Link to={`${props.matchUrl}/add-students`}>\n              Регистрация студентов\n            </Link>\n          </Menu.Item>\n        </SubMenu>\n      </Menu>\n    </div>\n  );\n};\n\nexport default AdminSidebar;\n","import React from 'react';\nimport s from './AddTest.module.scss';\nimport { Upload, Button, Typography, Input, Space } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AddTest = props => {\n  console.log(props);\n  return (\n    <div className={`${s.wrapper}`}>\n      <Space direction=\"vertical\">\n        <Typography.Title level={2}>Загрузка теста</Typography.Title>\n        <Upload\n          method={null}\n          maxCount={1}\n          beforeUpload={props.parse}\n          listType=\"picture-card\"\n          {...props}>\n          <div>\n            {false ? <LoadingOutlined /> : <PlusOutlined />}\n            <div style={{ marginTop: 8 }}>Upload</div>\n          </div>\n        </Upload>\n        <Input\n          value={props.name}\n          onChange={e => props.setName(e.target.value)}\n          placeholder=\"Введите название теста\"\n        />\n        <div className={s.aligner}>\n          <Typography.Text className={s.text} type=\"secondary\">\n            Просмотреть тест\n          </Typography.Text>\n        </div>\n        <Button\n          onClick={props.upload}\n          disabled={!(props.preparedData && props.name)}\n          type=\"primary\">\n          Загрузить\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport default AddTest;\n","import React, { useState } from 'react';\nimport AddTest from './AddTest';\nimport * as csv from \"csvtojson\";\nimport firebase from \"firebase/app\";\nimport { message } from 'antd';\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst AddTestContainer = props => {\n  const [preparedData, setPreparedData] = useState();\n  const [name, setName] = useState('');\n\n  const db = firebase.firestore();\n\n  const parse = async (file) => {\n    const data = await csv({ \n      noheader:true,\n      trim:true,\n      headers: ['question', 'multiselection'],\n    })\n    .fromString(await file.text())\n    setPreparedData(parseData(data));\n    return false;\n  }\n\n  const upload = async () => {\n    try {\n      message.loading({ content: 'Loading...', key: 'add-test' });\n      const data = {\n        questions: [ ...preparedData ],\n        name: name,\n      }\n      const addTest = await db.collection(\"tests\").doc().set(data);\n      db.collection(\"tests\").get().then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n            console.log(doc.data());\n        });\n      });\n      message.success({ content: 'Успешно', key: 'add-test' });\n    } catch (e) {\n      message.error({ content: 'Кажется, что-то пошло не так', key: 'add-test' });\n      console.log(e);\n    }\n  }\n\n  const parseData = (data) => {\n    const modifyAnswer = (value) => {\n      if (value.startsWith('+') || value.startsWith('-')) {\n        return value.substring(1);\n      }\n    }\n    const formattedData = data.map(el => {\n      if (el.question) {\n        const formatedData = {\n          question: el.question,\n          multiselection: !!el.multiselection,\n          answers: [],\n        }\n\n        delete el.question;\n        delete el.multiselection;\n\n        for (const [, value] of Object.entries(el)) {\n          if (value) {\n            formatedData.answers.push({\n              answer: modifyAnswer(value),\n              isRight: value.startsWith('+')\n            })\n          }\n        }\n\n        if (formatedData.answers.filter((el) => el.isRight).length > 1) {\n          formatedData.multiselection = true;\n        }\n\n        return formatedData;\n      }\n    }).filter(el => el);\n    return formattedData;\n  }\n  \n  return (\n    <AddTest upload={upload} preparedData={preparedData} parse={parse} name={name} setName={setName} {...props} />\n  );\n};\n\nexport default AddTestContainer;","import React from 'react';\nimport s from './DeleteTest.module.scss';\nimport { Typography, Select, Button, Space, Spin } from 'antd';\n\nconst { Option } = Select;\n\nconst DeleteTest = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.fetched ? (\n        <Space direction=\"vertical\">\n          <Typography.Title level={2}>Удаление теста</Typography.Title>\n          <Select\n            value={props.selectedTest}\n            onChange={value => {\n              props.setSelectedTest(value);\n            }}\n            style={{ width: 360 }}\n            showSearch\n            placeholder=\"Выберите или введите название теста\"\n            optionFilterProp=\"children\">\n            {props.tests?.length\n              ? props.tests.map(el => {\n                  return <Option value={el.uid}>{el.name}</Option>;\n                })\n              : null}\n          </Select>\n          <Button\n            disabled={!props.selectedTest}\n            onClick={props.deleteTest}\n            type=\"primary\">\n            Удалить\n          </Button>\n        </Space>\n      ) : (\n        <Spin />\n      )}\n    </div>\n  );\n};\n\nexport default DeleteTest;\n","import React, { useEffect, useState } from 'react';\nimport { message, Modal } from 'antd';\nimport DeleteTest from './DeleteTest';\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport { ExclamationCircleOutlined, ExclamationOutlined } from '@ant-design/icons';\n\nconst DeleteTestContainer = props => {\n  const db = firebase.firestore();\n  const [tests, setTests] = useState([]);\n  const [fetched, setFetched] = useState(false);\n  const [selectedTest, setSelectedTest] = useState();\n\n  const getTests = async () => {\n    setFetched(false);\n    setTests();\n    try {\n      await db.collection(\"tests\").get().then((querySnapshot) => {\n        const parsed = [];\n        querySnapshot.forEach((doc) => {\n            parsed.push({\n              uid: doc.id,\n              name: doc.data().name,\n            });\n        });\n        setTests(parsed);\n      });\n      setFetched(true)\n    } catch (e) {\n\n    }\n  }\n\n  const deleteTestModal = async (selectedTest) => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Удалив тест вы так же удалите все сессии связанные с этим тестом, вы действительно хотите продолжить?',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteTest(selectedTest);\n      },\n    });\n  }\n\n  const deleteTest = async () => {\n    try {\n      message.loading({ content: 'Идет удаление', key : 'delete-test'});\n      await db.collection(\"tests\").doc(selectedTest).delete();\n      const sessions = await db.collection(\"sessions\").where('testId', '==', selectedTest).get();\n      for (const ses of sessions.docs) {\n        await ses.ref.delete();\n      }\n      message.success({ content: 'Успешно', key : 'delete-test'});\n      getTests();\n      setSelectedTest();\n    } catch (e) {\n      message.error({ content: 'Что-то пошло не так', key : 'delete-test'});\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    getTests();\n  }, [])\n\n  return (\n    <DeleteTest deleteTest={deleteTestModal} selectedTest={selectedTest} setSelectedTest={setSelectedTest} fetched={fetched} tests={tests} {...props} />\n  );\n};\n\nexport default DeleteTestContainer;","import React from 'react';\nimport s from './AddStudents.module.scss';\nimport {} from 'antd';\nimport { Upload, Button, Typography, Space } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AddStudents = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <Space direction=\"vertical\">\n        <Typography.Title level={2}>Добавление студентов</Typography.Title>\n        <Upload\n          method={null}\n          maxCount={1}\n          beforeUpload={props.parse}\n          listType=\"picture-card\"\n          {...props}>\n          <div>{false ? <LoadingOutlined /> : <PlusOutlined />}</div>\n        </Upload>\n        <div className={s.aligner}>\n          <Typography.Text className={s.text} type=\"secondary\">\n            Загрузите CSV файл в формате Имя, Фамилия, Группа\n          </Typography.Text>\n        </div>\n        <Button\n          onClick={props.upload}\n          disabled={!props.preparedData}\n          loading={props.loading}\n          type=\"primary\">\n          Загрузить новые инвайт коды\n        </Button>\n        <Button\n          onClick={props.copyToClipboard}\n          disabled={!props.result?.length}>\n          Скопировать инвайт коды в буффер обмена\n        </Button>\n        <Button\n          onClick={props.getWholeInviteCodes}\n          loading={props.loadingActiveInvites}>\n          Получить инвайт коды для всех незарегистирированных студентов\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport default AddStudents;\n","import React, {useState} from 'react';\nimport AddStudents from './AddStudents';\nimport * as csv from \"csvtojson\";\nimport firebase from \"firebase/app\";\nimport { message } from 'antd';\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst AddStudentsContainer = props => {\n  const [preparedData, setPreparedData] = useState();\n  const [result, setResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingActiveInvites, setLoadingActiveInvites] = useState(false);\n\n  const db = firebase.firestore();\n\n  const parse = async (file) => {\n    try {\n      const data = await csv({ \n        noheader:true,\n        trim:true,\n        headers: ['name', 'lastName', 'group'],\n      })\n      .fromString(await file.text());\n      if (!validate(data)) throw 'wrong-format';\n      setPreparedData(parseData(data));\n    } catch (e) {\n      if (e === 'wrong-format') {\n        message.error('Файл неправильно отформатирован')\n      } else {\n        message.error('Произошла ошибка при обработке файла, попробуйте позже')\n      }\n    }\n    return false;\n  }\n\n  const getWholeInviteCodes = async () => {\n    setLoadingActiveInvites(true);\n    try {\n      message.loading({ content: 'Loading...', key: 'add-student' });\n      const addInvitation = await db.collection(\"invites\").get();\n      const _result = addInvitation.docs.map((doc, index) => {\n        const el = doc.data();\n        return `${index+1}.\\t${el.group}\\t${el.name}\\t${el.lastName}\\t${el.inviteCode}\\n`\n      })\n      writeResultsToClipboard(_result.join('\\n'));\n      message.success({ content: 'Успешно', key: 'add-student' });\n    } catch (e) {\n      console.log(e);\n      message.error({ content: 'Кажется, что-то пошло не так', key: 'add-student' });\n    }\n    setLoadingActiveInvites(false);\n  }\n\n  const upload = async () => {\n    setLoading(true);\n    try {\n      message.loading({ content: 'Loading...', key: 'add-student' });\n      const groupsFetched = await db.collection(\"groups\").get();\n      const groups = groupsFetched?.docs?.map(el => {\n        return el.data();\n      });\n      const newGroups = [];\n      const _result = [];\n      let index = 0;\n      for (const el of preparedData) {\n        index++;\n        try {\n          const generatedInviteCode = generateInviteCode();\n          const studentGroup = [...groups, ...newGroups].find(item => item.group === el.group);\n          if (!studentGroup) {\n            newGroups.push({group: el.group, studentAmount: 0});\n          }\n          const addInvitation = await db.collection(\"invites\").doc().set({...el, inviteCode: generatedInviteCode});\n          _result.push(`${index}.\\t${el.group}\\t${el.name}\\t${el.lastName}\\t${generatedInviteCode}\\t`);\n        } catch (e) {\n          console.log(e);\n          message.error({ content: `Не удалось зарегистрировать ${el.name} ${el.lastName} ${el.group}`});\n        }\n      }\n      try {\n        for (const el of newGroups) {\n          await db.collection('groups').doc().set(el);\n        }\n      } catch (e) {console.log(e)}\n      setResult(_result.join('\\n'));\n      writeResultsToClipboard(_result.join('\\n'));\n      message.success({ content: 'Успешно', key: 'add-student' });\n    } catch (e) {\n      message.error({ content: 'Кажется, что-то пошло не так', key: 'add-student' });\n    }\n    setLoading(false);\n  }\n\n  const writeResultsToClipboard = async (data = result) => {\n    try {\n      await navigator.clipboard.writeText(data);\n      message.success({ content: 'Инвайт коды были скопированы в буффер обмена' });\n    } catch (e) {\n      console.log(data);\n      message.error({ content: 'При копировании инвайт кодов произошла ошибка, инвайт коды выведены в консоль'});\n    }\n  } \n\n  const generateInviteCode = () => {\n    let code = '';\n    let chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    while (code.length < 10) {\n      code += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return code;\n  }\n\n  const parseData = (data) => {\n    const formattedData = data.filter(el => el).map(el => {\n        return {\n          name: el.name,\n          lastName: el.lastName || '',\n          group: el.group,\n          inviteCode: generateInviteCode(),\n        }\n    });\n    return formattedData;\n  }\n\n  const validate = (data) => {\n    for (const el of data) {\n      if (Object.keys(el).length !== 3 && !isNaN(el.group)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return (\n    <AddStudents result={result} getWholeInviteCodes={getWholeInviteCodes} copyToClipboard={writeResultsToClipboard} loadingActiveInvites={loadingActiveInvites} loading={loading} preparedData={preparedData} parse={parse} upload={upload} {...props} />\n  );\n};\n\nexport default AddStudentsContainer;","import React from 'react';\nimport { useRouteMatch, Switch, Route } from 'react-router';\nimport Sessions from './Sessions';\nimport AddSession from './AddSession';\nimport AdminSidebar from './AdminSidebar';\nimport AddTest from './AddTest';\nimport DeleteTest from './DeleteTest';\nimport AddStudents from './AddStudents';\n\nconst AdminPanelContainer = props => {\n  const {path, url} = useRouteMatch();\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', flex: '1'}}>\n    <AdminSidebar matchUrl={url} {...props}>\n    </AdminSidebar>\n    <Switch>\n    <Route path=\"/about\">\n    </Route>\n    <Route path={`${path}/add-session`}>\n      <AddSession />\n    </Route>\n    <Route path={`${path}/add-test`}>\n      <AddTest />\n    </Route>\n    <Route path={`${path}/delete-test`}>\n      <DeleteTest />\n    </Route>\n    <Route path={`${path}/add-students`}>\n      <AddStudents />\n    </Route>\n    <Route path=\"/active-sessions\">\n      <Sessions />\n    </Route>\n    <Route path=\"/\">\n      <Sessions />\n    </Route>\n  </Switch>\n  </div>\n  );\n};\n\nexport default AdminPanelContainer;","const SET_USER = 'SET_USER';\nconst UPDATE_USER = 'UPDATE_USER';\nconst CLEAR_USER = 'CLEAR_USER';\n\nconst initialState = {};\n\nexport default function UserReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...action.user,\n      };\n    case UPDATE_USER:\n      return {\n        ...state,\n        ...action.user,\n      };\n    case CLEAR_USER:\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport const setUser = user => {\n  return dispatch => {\n    dispatch({\n      type: SET_USER,\n      user,\n    });\n  };\n};\nexport const updateUser= user => {\n  return dispatch => {\n    dispatch({\n      type: UPDATE_USER,\n      user,\n    });\n  };\n};\nexport const clearUser = () => {\n  return dispatch => {\n    dispatch({\n      type: CLEAR_USER,\n    });\n  };\n};","import './App.css';\nimport { Header } from './components';\nimport { AdminPanel, Welcoming, Tests, Login, Registration, Test, TestResults } from './pages';\nimport {\n  Switch,\n  Route,\n  HashRouter as Router,\n  Redirect\n} from \"react-router-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearUser, setUser } from './store/user-reducer';\nimport moment from 'moment';\n\n\nmoment.locale('ru');\n\n\nconst Main = () => {\n  const [isCalculated, setIsCalculated] = useState(false);\n  const [isLogged, setIsLogged] = useState(false);\n  const dispatch = useDispatch();\n  const userState = useSelector(store => store);\n\n  const detectUser = async () => {\n    await firebase.auth().onAuthStateChanged(async function(user) {\n      if (user) {\n        firebase.firestore().collection('users').doc(user.uid).get().then(opts => {\n          dispatch(setUser(opts.data()));\n        });\n        setIsLogged(true);\n      } else {\n        dispatch(clearUser());\n        setIsLogged(false);\n      }\n      setIsCalculated(true);\n    });\n  }\n\n  useEffect(() => {\n    detectUser();\n  }, [])\n\n\n  if (isLogged) {\n  return (\n        <>\n        <Header />    \n        <Switch>\n          <Route exact path=\"/\">\n            <Welcoming />\n          </Route>\n          <Route path=\"/tests\">\n            <Tests />\n          </Route>\n          <Route path=\"/test\">\n            <Test />\n          </Route>\n          <Route path=\"/results\">\n            <TestResults />\n          </Route>\n          {userState.role === 'admin' ? \n          <Route path=\"/admin\">\n            <AdminPanel />\n          </Route> : null}\n        </Switch> \n        </>\n        );\n  } else {\n    if (isCalculated) return <Redirect to='/login' />\n    else return null;\n  }\n}\nfunction App() {\n  return (\n    <div>\n    <Router>\n    <div className=\"App\">\n      <Switch>\n        <Route exact path=\"/login\">\n          <Login />\n        </Route>\n        <Route exact path=\"/registration\">\n          <Registration/>\n        </Route>\n        <Route path='/'>\n          <Main />\n        </Route>\n      </Switch> \n    </div>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, createStore } from 'redux';\nimport UserReducer from './user-reducer';\nimport thunkMiddleware from 'redux-thunk';\n\nexport const store = createStore(UserReducer, applyMiddleware(thunkMiddleware));\n\nexport default UserReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport { FirebaseAuthProvider } from '@react-firebase/auth'\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nconst config = {\n  apiKey: \"AIzaSyCLr3GLQExS1zUXTOkUdIVPEqY2WFf3Ou0\",\n  authDomain: \"tester-c329f.firebaseapp.com\",\n  projectId: \"tester-c329f\",\n  storageBucket: \"tester-c329f.appspot.com\",\n  messagingSenderId: \"823822150085\",\n  appId: \"1:823822150085:web:027b8bd3b6cd55bcda03ac\",\n  measurementId: \"G-5T7L5M27ND\"\n};\n\nfirebase.initializeApp(config);\n\nReactDOM.render(\n  <React.StrictMode>\n    <FirebaseAuthProvider firebase={firebase} {...config}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </FirebaseAuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Test_wrapper__2Duqr\",\"testWrapper\":\"Test_testWrapper__-HX9m\",\"testContainer\":\"Test_testContainer__3BHO4\",\"icon\":\"Test_icon__3zjUt\",\"iconDisabled\":\"Test_iconDisabled__ak4lg\",\"tag\":\"Test_tag__1b3vI\",\"iconSmall\":\"Test_iconSmall__15QhX\",\"icons\":\"Test_icons__2Ngm7\",\"main\":\"Test_main__1DHbB\",\"answers\":\"Test_answers__tOQsp\",\"header\":\"Test_header__3oMek\",\"title\":\"Test_title__2BWyp\",\"footer\":\"Test_footer__1kBzm\",\"testContent\":\"Test_testContent__YLbgK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tests_wrapper__1yavr\",\"cardWrapper\":\"Tests_cardWrapper__3nbmJ\",\"mainWrapper\":\"Tests_mainWrapper__dDk1s\",\"card\":\"Tests_card__jVmPJ\",\"passed\":\"Tests_passed__1z9rj\",\"late\":\"Tests_late__3Xb5b\",\"button\":\"Tests_button__2cFVE\"};"],"sourceRoot":""}