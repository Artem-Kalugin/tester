{"version":3,"sources":["pages/Tests/Tests.module.scss","components/Header/Header.module.scss","pages/Welcoming/Welcoming.module.scss","components/EmaiQuestions/EmaiQuestions.module.scss","pages/AdminPanel/Sessions/Sessions.module.scss","pages/AdminPanel/AddSession/AddSession.module.scss","pages/AdminPanel/ShowTest/ShowTest.module.scss","pages/AdminPanel/AddTest/AddTest.module.scss","pages/AdminPanel/AddStudents/AddStudents.module.scss","pages/Registration/Registration.module.scss","pages/Login/Login.module.scss","pages/AdminPanel/ShowStudents/ShowStudents.module.scss","pages/TestResults/TestResults.module.scss","pages/AdminPanel/AdminPanel.module.scss","pages/AdminPanel/DeleteTest/DeleteTest.module.scss","components/EmaiQuestions/EmaiQuestions.jsx","components/EmaiQuestions/index.js","components/Header/Header.jsx","components/Header/index.js","assets/logo192.png","pages/TestResults/TestResults.jsx","pages/TestResults/index.js","pages/Test/Test.jsx","utils/sendEmail.js","pages/Test/index.js","pages/Registration/Registration.jsx","core/index.js","pages/Registration/index.js","pages/Login/Login.jsx","pages/Login/index.js","pages/Tests/Tests.jsx","pages/Tests/index.js","assets/welcoming.svg","pages/Welcoming/Welcoming.jsx","pages/Welcoming/index.js","pages/Welcoming/WelcomingContainer.jsx","pages/AdminPanel/Sessions/Sessions.jsx","pages/AdminPanel/Sessions/index.js","pages/AdminPanel/AddSession/AddSession.jsx","pages/AdminPanel/AddSession/index.js","pages/AdminPanel/ShowTest/ShowTest.jsx","pages/AdminPanel/ShowTest/index.js","pages/AdminPanel/AdminSidebar.jsx","pages/AdminPanel/AddTest/AddTest.jsx","pages/AdminPanel/AddTest/index.js","pages/AdminPanel/DeleteTest/DeleteTest.jsx","pages/AdminPanel/DeleteTest/index.js","pages/AdminPanel/AddStudents/AddStudents.jsx","pages/AdminPanel/AddStudents/index.js","pages/AdminPanel/ShowStudents/ShowStudents.jsx","pages/AdminPanel/ShowStudents/index.js","pages/AdminPanel/index.js","store/user-reducer.js","App.js","store/index.js","index.js","pages/Test/Test.module.scss"],"names":["module","exports","renderQuestion","props","index","emailing","seeResults","style","fontSize","color","padding","marginTop","borderRadius","background","bakgroundColor","boxShadow","className","s","question","Title","margin","level","multiselection","Text","answers","length","map","answer","isRight","selected","CheckOutlined","CloseOutlined","disabled","checked","renderAnswer","EmaiQuestions","obj","width","wrapper","title","name","testName","lastName","group","score","elapsedTime","questions","profileDropdown","Item","onClick","a","firebase","auth","signOut","Header","useState","setSelected","pathname","useLocation","userState","useSelector","store","parentPage","split","logoWrapper","to","logo","logoImg","src","e","key","menu","mode","selectedKeys","role","profile","overlay","placement","type","icon","UserOutlined","TestResults","TestResultsContainer","location","state","addZero","value","Test","testWrapper","testContainer","LeftOutlined","previousQuestion","iconSmall","questionIndex","iconDisabled","testContent","header","test","icons","FieldTimeOutlined","moment","duration","timeLeft","minutes","seconds","MenuOutlined","setShowDrawer","main","currentQuestion","el","markAnswer","footer","some","flat","every","sendResults","nextQuestion","filter","RightOutlined","closable","height","onClose","visible","showDrawer","wrap","size","isPassed","tag","setCurrentQuestion","sendEmail","body","fetch","method","headers","JSON","stringify","res","result","console","log","status","TestContainer","currQuestion","setCurrQuestion","setTest","setTimeLeft","sessionId","Date","now","limit","testLength","history","useHistory","db","firestore","force","message","loading","content","minutesHave","hours","minutesLeft","item","toFixed","collection","doc","uid","set","html","ReactDOMServer","renderToStaticMarkup","success","push","error","useEffect","interval","setInterval","_timeLeft","clearInterval","Modal","confirm","ExclamationCircleOutlined","okText","cancelText","onOk","_test","idx","old","Registration","layout","wrapperCol","span","registrationWrapper","data","rules","required","onChange","setEmail","target","email","placeholder","setPassword","password","setRepeatPassword","repeatPassword","align","direction","strong","register","setInviteCode","suffix","InfoCircleOutlined","recieve","errorMessage","ValidateProfile","String","toLowerCase","RegExp","RegistrationContainer","setData","setLoading","inviteCode","setErrorMessage","where","get","invite","recievedData","docs","Error","createUserWithEmailAndPassword","user","notDeleted","incrementGroup","ref","update","studentAmount","FieldValue","increment","setPersistence","Auth","Persistence","LOCAL","then","signInWithEmailAndPassword","delete","currentUser","Login","loginWrapper","signIn","valuePropName","LoginContainer","persist","Card","Meta","Typography","Tests","renderTests","hoverable","card","isTooLate","late","passed","QuestionOutlined","questionsAmount","ClockCircleOutlined","timeLimit","CalendarOutlined","date","doTest","unformattedDate","button","shape","mainWrapper","defaultSelectedKeys","setMode","cardWrapper","initialized","activeTests","passedTests","inactiveTests","locale","prettyCountyWord","counter","oneWord","noWord","aLotOfWord","TestsContainer","sessions","setSessions","tests","setTests","setInitialized","setActiveTests","setPassedTests","setInactiveTests","getSessions","Timestamp","currentTime","studentSessions","mappedSessions","exists","sessionData","isAfter","id","getTests","_tests","mappedTests","formatData","registerAttempt","maxDate","destroy","_sessions","active","inactive","attemptTime","find","hoursLimit","format","minsLimit","questionAmount","hoursFormat","minsFormat","testObj","unformatedDate","sort","b","Welcoming","imageWrapper","image","inputFocused","inputWrapperFocused","inputWrapper","onFocus","setInputFocused","onBlur","blueIcon","bordered","parseTime","parser","weeks","asWeeks","days","asDays","asHours","asMinutes","limiter","Math","round","floor","Sessions","columns","dataIndex","render","openedTo","time","diff","attempts","EyeOutlined","showModal","showDeleteModal","details","MailOutlined","UnorderedListOutlined","showResultsModal","showResults","setShowResults","onCancel","results","showDetails","setShowDetails","dataSource","table","fetched","display","justifyContent","alignItems","ActiveSessionsContainer","setFetched","groups","setGroups","setDetails","setResults","getGroups","querySnapshot","parsed","forEach","formatSessions","groupsParsed","amount","reduce","acc","x","studentsAmount","deleteSession","_result","session","attemptsLength","empty","studentId","Option","Select","labelCol","tailLayout","offset","AddSession","testsFetched","groupsFetched","formContainer","centerer","onFinish","params","addSession","initialValues","requiredMark","label","showSearch","allowClear","disabledDate","d","isBefore","showTime","htmlType","AddSessionContainer","setTestsFetched","setGroupsFetched","formatParams","newParams","testId","ShowTest","selector","selectedTest","setSelectedTest","select","optionFilterProp","ShowTestContainer","SubMenu","Menu","AdminSidebar","defaultOpenKeys","ItemGroup","matchUrl","TeamOutlined","AddTest","maxCount","beforeUpload","parse","listType","PlusOutlined","setName","aligner","text","upload","preparedData","AddTestContainer","setPreparedData","file","csv","noheader","trim","fromString","parseData","modifyAnswer","startsWith","substring","formatedData","Object","entries","DeleteTest","deleteTest","DeleteTestContainer","deleteTestModal","ses","AddStudents","copyToClipboard","getWholeInviteCodes","loadingActiveInvites","AddStudentsContainer","setResult","setLoadingActiveInvites","validate","addInvitation","writeResultsToClipboard","join","newGroups","generatedInviteCode","generateInviteCode","navigator","clipboard","writeText","code","chars","random","keys","isNaN","ShowStudents","deleteGroup","deleteStudent","ShowStudentsContainer","setStudents","organizeData","students","lastGroup","student","_data","AdminPanelContainer","useRouteMatch","path","url","flexDirection","flex","SET_USER","UPDATE_USER","CLEAR_USER","initialState","UserReducer","action","setUser","dispatch","clearUser","Main","isCalculated","setIsCalculated","isLogged","setIsLogged","useDispatch","detectUser","onAuthStateChanged","opts","userData","updateUser","exact","AdminPanel","App","createStore","applyMiddleware","thunkMiddleware","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77bac882.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tests_wrapper__1yavr\",\"cardWrapper\":\"Tests_cardWrapper__3nbmJ\",\"mainWrapper\":\"Tests_mainWrapper__dDk1s\",\"card\":\"Tests_card__jVmPJ\",\"passed\":\"Tests_passed__1z9rj\",\"late\":\"Tests_late__3Xb5b\",\"button\":\"Tests_button__2cFVE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__3tGRg\",\"logoImg\":\"Header_logoImg__2P8D2\",\"logo\":\"Header_logo__3T0lc\",\"logoWrapper\":\"Header_logoWrapper__zM9x7\",\"profile\":\"Header_profile__yHIKp\",\"menu\":\"Header_menu__Zy7KP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Welcoming_wrapper__SDZuR\",\"imageWrapper\":\"Welcoming_imageWrapper__2CiYx\",\"inputWrapper\":\"Welcoming_inputWrapper__26-Ur\",\"blueIcon\":\"Welcoming_blueIcon__2yQFr\",\"inputWrapperFocused\":\"Welcoming_inputWrapperFocused__1E_Y7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"EmaiQuestions_wrapper__1ub1i\",\"title\":\"EmaiQuestions_title__28Jvf\",\"question\":\"EmaiQuestions_question__1c0w-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sessions_wrapper__1tGjI\",\"table\":\"Sessions_table__9paH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddSession_wrapper__3CoHz\",\"formContainer\":\"AddSession_formContainer___El49\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ShowTest_wrapper__2WBW1\",\"selector\":\"ShowTest_selector__cAAhx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddTest_wrapper__1-IHD\",\"aligner\":\"AddTest_aligner__38rT5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddStudents_wrapper__3-t7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Registration_wrapper__19tTz\",\"registrationWrapper\":\"Registration_registrationWrapper__18fKB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__37P6v\",\"loginWrapper\":\"Login_loginWrapper__9i6rL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ShowStudents_wrapper__303X3\",\"table\":\"ShowStudents_table__2n-VN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TestResults_wrapper__3DJs3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AdminPanel_wrapper__3Kux4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DeleteTest_wrapper__1dm0L\"};","import React from 'react';\nimport s from './EmaiQuestions.module.scss';\nimport { Typography, Space, Radio } from 'antd';\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons';\n\nconst renderAnswer = (answer, index, emailing, seeResults) => {\n  return (\n    <div>\n      {answer.isRight ? (\n        emailing ? (\n          <span\n            style={{\n              color: answer.selected || seeResults ? 'green' : '#cccccc',\n            }}>\n            ✓\n          </span>\n        ) : (\n          <CheckOutlined\n            style={{\n              color: answer.selected || seeResults ? 'green' : '#cccccc',\n            }}\n          />\n        )\n      ) : emailing ? (\n        <span\n          style={{ color: answer.selected || seeResults ? 'red' : '#cccccc' }}>\n          ✕\n        </span>\n      ) : (\n        <CloseOutlined\n          style={{ color: answer.selected || seeResults ? 'red' : '#cccccc' }}\n        />\n      )}{' '}\n      {!seeResults ? (\n        <Radio disabled={emailing} checked={answer.selected}>\n          {index + 1}. {answer.answer}\n        </Radio>\n      ) : (\n        <span>\n          {index + 1}. {answer.answer}\n        </span>\n      )}\n    </div>\n  );\n};\n\nconst renderQuestion = (props, index, emailing, seeResults) => {\n  return (\n    <div\n      style={\n        emailing\n          ? {\n              fontSize: '16px',\n              color: 'black',\n              padding: '16px',\n              marginTop: '24px',\n              borderRadius: '10px',\n              background: '#ffffff',\n              bakgroundColor: '#ffffff',\n              boxShadow: '-1px 7px 5px -6px rgba(0, 0, 0, 0.06)',\n            }\n          : null\n      }\n      className={`${s.question} shadow-small`}>\n      <Typography.Title style={{ margin: 0 }} level={4}>\n        {index + 1}. {props.question}\n      </Typography.Title>\n      {props.multiselection ? (\n        <Typography.Text>\n          Вы можете выбрать несколько вариантов ответа.\n        </Typography.Text>\n      ) : null}\n      {props.answers?.length\n        ? props.answers.map((answer, index) => {\n            return renderAnswer(answer, index, emailing, seeResults);\n          })\n        : null}\n    </div>\n  );\n};\n\nconst EmaiQuestions = ({ obj, emailing, seeResults }) => {\n  return (\n    <div\n      style={\n        emailing\n          ? {\n              fontSize: '20px',\n              color: 'black',\n              padding: '32px',\n              background: '#f0f6fa',\n              bakgroundColor: '#f0f6fa',\n              width: '100%',\n            }\n          : null\n      }\n      className={`${s.wrapper}`}>\n      <div className={s.title}>\n        {obj.name && !seeResults ? (\n          <Typography.Title style={{ margin: 0 }} level={3}>\n            Тест {obj.testName} пройден {obj.name} {obj.lastName},{' '}\n            {`группа ${obj.group}`}\n          </Typography.Title>\n        ) : null}\n        <br />\n        {obj.score ? (\n          <Typography.Title style={{ margin: 0 }} level={4}>\n            Процент прохождения: {obj.score}%, Затраченное время:{' '}\n            {obj.elapsedTime}\n          </Typography.Title>\n        ) : null}\n      </div>\n      {obj.questions.length\n        ? obj.questions.map((question, index) => {\n            return renderQuestion(question, index, emailing, seeResults);\n          })\n        : null}\n    </div>\n  );\n};\n\nexport default EmaiQuestions;\n","import EmaiQuestions from './EmaiQuestions';\n\nexport default EmaiQuestions;\n","import React, { useState } from 'react';\nimport s from './Header.module.scss';\nimport { Button, Menu, Dropdown } from 'antd';\nimport logo from '../../assets/logo192.png';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Link, useLocation } from 'react-router-dom';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { useSelector } from 'react-redux';\n\nconst profileDropdown = (\n  <Menu>\n    <Menu.Item>\n      <a>Настройки</a>\n    </Menu.Item>\n    <Menu.Item>\n      <a\n        onClick={async () => {\n          await firebase.auth().signOut();\n        }}>\n        Выйти из профиля\n      </a>\n    </Menu.Item>\n  </Menu>\n);\n\nconst Header = props => {\n  const [selected, setSelected] = useState('1');\n  const { pathname } = useLocation();\n  const userState = useSelector(store => store);\n  const parentPage = pathname.split('/')[1] || '/';\n\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.logoWrapper}>\n        <Link to=\"/\" className={s.logo}>\n          <img className={s.logoImg} src={logo} />\n        </Link>\n      </div>\n      <Menu\n        onClick={e => setSelected(e.key)}\n        className={s.menu}\n        mode=\"horizontal\"\n        selectedKeys={[parentPage]}>\n        <Menu.Item key=\"/\">\n          <Link to=\"/\">Приветствие</Link>\n        </Menu.Item>\n        <Menu.Item key=\"tests\">\n          <Link to=\"/tests\">Тесты</Link>\n        </Menu.Item>\n        {userState.role === 'admin' ? (\n          <Menu.Item key=\"admin\">\n            <Link to=\"/admin\">Админ Панель</Link>\n          </Menu.Item>\n        ) : null}\n      </Menu>\n      <Dropdown\n        className={s.profile}\n        overlay={profileDropdown}\n        placement=\"bottomLeft\">\n        <Button type={'text'} icon={<UserOutlined />}>\n          {userState.name} {userState.lastName}\n        </Button>\n      </Dropdown>\n    </div>\n  );\n};\n\nexport default Header;\n","import Header from './Header';\n\nexport default Header;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport s from './TestResults.module.scss';\nimport {} from 'antd';\nimport { EmaiQuestions } from '../../components';\n\nconst TestResults = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.obj ? <EmaiQuestions obj={props.obj} /> : null}\n    </div>\n  );\n};\n\nexport default TestResults;\n","import React from 'react';\nimport { useLocation } from 'react-router';\nimport TestResults from './TestResults';\n\nconst TestResultsContainer = props => {\n  const location = useLocation();\n\n  return <TestResults obj={location?.state?.obj} {...props} />;\n};\n\nexport default TestResultsContainer;\n","import React from 'react';\nimport s from './Test.module.scss';\nimport { Drawer, Radio, Space, Tag, Typography, Button } from 'antd';\nimport {\n  LeftOutlined,\n  RightOutlined,\n  MenuOutlined,\n  FieldTimeOutlined,\n} from '@ant-design/icons';\nimport moment from 'moment';\n\nconst addZero = value => {\n  if (value < 10) {\n    return '0' + value;\n  }\n  return value;\n};\n\nconst Test = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.testWrapper}>\n        <div className={`${s.testContainer} shadow-small`}>\n          <LeftOutlined\n            onClick={props.previousQuestion}\n            className={`${s.iconSmall} ${\n              props.questionIndex ? '' : s.iconDisabled\n            }`}\n          />\n          <div className={s.testContent}>\n            <div className={s.header}>\n              <div className={s.title}>\n                <Typography.Title style={{ margin: 0 }} level={3}>\n                  {props.test.name} {props.questionIndex + 1}/\n                  {props.test.questions.length}\n                </Typography.Title>\n              </div>\n              <div className={s.icons}>\n                <FieldTimeOutlined className={s.icon} />\n                <span>\n                  {addZero(moment.duration(props.timeLeft).minutes())}:\n                  {addZero(moment.duration(props.timeLeft).seconds())}\n                </span>\n                <MenuOutlined\n                  onClick={() => props.setShowDrawer(true)}\n                  className={s.icon}\n                />\n              </div>\n            </div>\n            <div className={s.main}>\n              <Typography.Text>\n                {props.currentQuestion.question}\n              </Typography.Text>\n            </div>\n            {props.currentQuestion.multiselection ? (\n              <Typography.Text>\n                Вы можете выбрать несколько вариантов ответа.\n              </Typography.Text>\n            ) : null}\n            <div className={s.answers}>\n              {props?.currentQuestion?.answers?.length\n                ? props.currentQuestion.answers.map((el, index) => {\n                    return (\n                      <Radio\n                        key={index}\n                        checked={el.selected}\n                        onClick={() =>\n                          props.markAnswer(props.currentQuestion, el, index)\n                        }>\n                        {el.answer}\n                      </Radio>\n                    );\n                  })\n                : null}\n            </div>\n            <div className={s.footer}>\n              {props.questionIndex === props.test.questions.length - 1 ? (\n                <Button\n                  disabled={\n                    !props.test.questions\n                      .map(el => el.answers.some(el => el.selected))\n                      .flat()\n                      .every(el => el)\n                  }\n                  onClick={props.sendResults}\n                  type=\"secondary\">\n                  Отправить результаты\n                </Button>\n              ) : (\n                <Button\n                  onClick={props.nextQuestion}\n                  disabled={\n                    !props.currentQuestion.answers.filter(el => el.selected)\n                      .length\n                  }\n                  type=\"primary\">\n                  Ответить\n                </Button>\n              )}\n            </div>\n          </div>\n          <RightOutlined\n            onClick={props.nextQuestion}\n            className={`${s.iconSmall} ${\n              props.questionIndex === props.test.questions.length - 1\n                ? s.iconDisabled\n                : ''\n            }`}\n          />\n        </div>\n      </div>\n      <Drawer\n        title=\"Список вопросов\"\n        placement=\"bottom\"\n        closable={true}\n        height=\"auto\"\n        onClose={() => props.setShowDrawer(false)}\n        visible={props.showDrawer}>\n        <div>\n          <Space wrap={true} size={3}>\n            {props.test?.questions?.length\n              ? props.test.questions.map((el, index) => {\n                  const isPassed = el.answers.some(el => el.selected);\n                  const isCurrent = index === props.questionIndex;\n                  const color = isCurrent\n                    ? 'blue-inverse'\n                    : isPassed\n                    ? 'processing'\n                    : 'default';\n                  return (\n                    <Tag\n                      key={el.index}\n                      className={s.tag}\n                      onClick={() => props.setCurrentQuestion(index)}\n                      color={color}>\n                      {index + 1}\n                    </Tag>\n                  );\n                })\n              : null}\n          </Space>\n        </div>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Test;\n","export default async function sendEmail(body) {\n  try {\n    const res = await fetch('https://vast-beach-47720.herokuapp.com/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    let result = null;\n    result = await res;\n    console.log('res', res);\n    if (res.status > 399) {\n      throw result;\n    }\n\n    return result;\n  } catch (e) {\n    console.log(e);\n    throw e;\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, Redirect, useHistory } from 'react-router';\nimport Test from './Test';\nimport { message, Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nimport sendEmail from '../../utils/sendEmail';\nimport ReactDOMServer from 'react-dom/server';\nimport EmaiQuestions from '../../components/EmaiQuestions/EmaiQuestions';\n\nconst addZero = value => {\n  if (value < 10) {\n    return '0' + value;\n  }\n  return value;\n};\n\nconst TestContainer = props => {\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [currQuestion, setCurrQuestion] = useState(0);\n  const location = useLocation();\n  const [test, setTest] = useState(location?.state?.test);\n  const [timeLeft, setTimeLeft] = useState();\n  const sessionId = location?.state?.sessionId;\n  const [limit] = useState(Date.now() + location?.state?.limit);\n  const [testLength] = useState(location?.state?.test?.questions?.length);\n  const [showModal, setShowModal] = useState(false);\n  const history = useHistory();\n  const db = firebase.firestore();\n  const userState = useSelector(store => store);\n\n  const nextQuestion = () => {\n    setCurrQuestion(old => (old < testLength - 1 ? old + 1 : old));\n  };\n\n  const previousQuestion = () => {\n    setCurrQuestion(old => (old > 0 ? old - 1 : old));\n  };\n\n  const setCurrentQuestion = value => {\n    setCurrQuestion(value);\n  };\n\n  const sendResults = async force => {\n    try {\n      message.loading({ content: 'Отправка результатов', key: 'send-res' });\n      const minutesHave =\n        moment.duration(location?.state?.limit).hours() * 60 +\n        moment.duration(location?.state?.limit).minutes();\n      const minutesLeft =\n        moment.duration(timeLeft).hours() * 60 +\n        moment.duration(timeLeft).minutes();\n      const score = (\n        (test.questions\n          .map(el => el.answers.every(item => item.isRight === item.selected))\n          .filter(el => el).length /\n          testLength) *\n        100\n      ).toFixed(1);\n      const elapsedTime =\n        +minutesHave -\n        +minutesLeft +\n        ':' +\n        addZero(\n          +moment.duration(location?.state?.limit).seconds() ||\n            60 - +moment.duration(timeLeft).seconds(),\n        );\n      const result = {\n        ...test,\n        score: score,\n        elapsedTime: elapsedTime,\n        name: userState.name,\n        group: userState.group,\n        lastName: userState.lastName,\n        testName: test.name,\n      };\n      await db\n        .collection('sessions')\n        .doc(sessionId)\n        .collection('attempts')\n        .doc(userState.uid)\n        .set(result);\n      await sendEmail({\n        name: result.name,\n        group: result.group,\n        lastName: result.lastName,\n        html: ReactDOMServer.renderToStaticMarkup(\n          <EmaiQuestions emailing={true} obj={result} />,\n        ),\n      });\n      message.success({\n        content: 'Результаты успешно отправлены',\n        key: 'send-res',\n      });\n      history.push('/tests');\n    } catch (e) {\n      if (force) {\n        history.push('/tests');\n        message.error({ content: 'Время вышло.', key: 'send-res' });\n      } else {\n        message.error({ content: 'Ошибка.', key: 'send-res' });\n      }\n    }\n  };\n\n  const confirmSending = () => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content:\n        'Отправив результат теста вы не сможете изменить его в будущем. Учитель получит детальную информацию о ходе прохождения теста. Вы действительно хотите отправить результаты прохождения?',\n      okText: 'Да.',\n      cancelText: 'Нет.',\n      onOk() {\n        sendResults();\n      },\n    });\n  };\n\n  const markAnswer = (question, answer, index) => {\n    const _test = { ...test };\n    if (question.multiselection) {\n      question.answers = question.answers.map((el, idx) => {\n        if (idx === index) {\n          return { ...el, selected: !el.selected };\n        }\n        return el;\n      });\n    } else {\n      question.answers = question.answers.map((el, idx) => {\n        if (idx === index) {\n          return { ...el, selected: !el.selected };\n        }\n        return { ...el, selected: false };\n      });\n    }\n    setTest(_test);\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const _timeLeft = limit - Date.now();\n      if (timeLeft < _timeLeft) {\n        setTimeLeft(0);\n        sendResults(true);\n      }\n      if (timeLeft < 0) {\n        sendResults(true);\n      }\n      setTimeLeft(_timeLeft);\n    }, 500);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (!test) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <Test\n      sendResults={confirmSending}\n      markAnswer={markAnswer}\n      showDrawer={showDrawer}\n      test={test}\n      timeLeft={timeLeft}\n      setCurrentQuestion={setCurrentQuestion}\n      questionIndex={currQuestion}\n      nextQuestion={nextQuestion}\n      previousQuestion={previousQuestion}\n      setShowDrawer={setShowDrawer}\n      currentQuestion={test.questions[currQuestion]}\n      {...props}\n    />\n  );\n};\n\nexport default TestContainer;\n","import React, { useState } from 'react';\nimport s from './Registration.module.scss';\nimport { Typography, Space, Button, Input, Form, Tooltip } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst Registration = props => {\n  const history = useHistory();\n\n  const layout = {\n    wrapperCol: { span: 40 },\n  };\n\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={`${s.registrationWrapper} + shadow-large`}>\n        {props.data ? (\n          <Form>\n            <Form.Item {...layout}>\n              <Typography.Title>Регистрация</Typography.Title>\n            </Form.Item>\n            <Form.Item\n              name=\"email\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите вашу почту!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setEmail(e.target.value);\n                }}\n                value={props.email}\n                placeholder=\"Почта\"\n              />\n            </Form.Item>\n            <Form.Item\n              name=\"password\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите пароль!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setPassword(e.target.value);\n                }}\n                value={props.password}\n                placeholder=\"Пароль\"\n              />\n            </Form.Item>\n            <Form.Item\n              name=\"passRepeat\"\n              rules={[\n                { required: true, message: 'Пожалуйста, введите пароль!' },\n              ]}>\n              <Input\n                onChange={e => {\n                  props.setRepeatPassword(e.target.value);\n                }}\n                value={props.repeatPassword}\n                placeholder=\"Повторите пароль\"\n              />\n            </Form.Item>\n            <Form.Item {...layout}>\n              <Space align=\"start\" size=\"small\" direction=\"vertical\">\n                <Typography.Text type=\"secondary\" strong>\n                  Ваше имя: {props.data.name}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" strong>\n                  Ваша фамилия: {props.data.lastName}\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" strong>\n                  Ваша группа: {props.data.group}\n                </Typography.Text>\n              </Space>\n            </Form.Item>\n            <Form.Item>\n              <Space direction=\"horizontal\">\n                <Button\n                  onClick={() => {\n                    props.register();\n                  }}\n                  type=\"primary\">\n                  Зарегистрироваться\n                </Button>\n                <Button\n                  onClick={() => {\n                    history.push('/login');\n                  }}>\n                  Авторизация\n                </Button>\n              </Space>\n            </Form.Item>\n          </Form>\n        ) : (\n          <Form>\n            <Form.Item {...layout}>\n              <Typography.Title>Регистрация</Typography.Title>\n            </Form.Item>\n            <Form.Item\n              name=\"id\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Пожалуйста, введите ваш инвайт код',\n                },\n              ]}>\n              <Input\n                onChange={e => props.setInviteCode(e.target.value)}\n                placeholder=\"Инвайт код\"\n                suffix={\n                  <Tooltip title=\"Инвайт код для регистрации можно получить у преподователя\">\n                    <InfoCircleOutlined style={{ color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                }\n              />\n            </Form.Item>\n            <Form.Item>\n              <Space direction=\"horizontal\">\n                <Button\n                  onClick={props.recieve}\n                  loading={props.loading}\n                  type=\"primary\">\n                  Продолжить\n                </Button>\n                <Button\n                  onClick={() => {\n                    history.push('/login');\n                  }}>\n                  Авторизация\n                </Button>\n              </Space>\n            </Form.Item>\n          </Form>\n        )}\n        {props.errorMessage ? (\n          <Typography.Text type=\"danger\">{props.errorMessage}</Typography.Text>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n","export class ValidateProfile {\n  static email(email) {\n    console.log(email);\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  static password(password) {\n    console.log(password);\n    const re = new RegExp('^(?=.{8,})');\n    return re.test(String(password).toLowerCase());\n  }\n}\n","import React, { useState } from 'react';\nimport Registration from './Registration';\nimport { ValidateProfile } from '../../core/index';\nimport firebase from 'firebase/app';\nimport { useHistory } from 'react-router-dom';\nimport { message } from 'antd';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport { EyeInvisibleOutlined } from '@ant-design/icons';\n\nconst RegistrationContainer = props => {\n  const [data, setData] = useState(null);\n  const history = useHistory();\n\n  const db = firebase.firestore();\n\n  const [loading, setLoading] = useState(false);\n\n  const [inviteCode, setInviteCode] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const recieve = async () => {\n    setLoading(true);\n    try {\n      message.loading({\n        content: 'Подождите, идет загрузка',\n        key: 'invite-code',\n      });\n      const invite = await db\n        .collection('invites')\n        .where('inviteCode', '==', inviteCode)\n        .get();\n      const recievedData = invite.docs[0].data();\n      if (!recievedData) {\n        throw new Error();\n      }\n      setData(recievedData);\n      message.success({ content: 'Инвайт код найден', key: 'invite-code' });\n    } catch (e) {\n      message.error({\n        content: 'Проверьте правильность введенного инвайт кода.',\n        key: 'invite-code',\n      });\n    }\n    setLoading(false);\n  };\n  const register = async () => {\n    setErrorMessage('');\n    setLoading(true);\n    if (password === repeatPassword) {\n      if (ValidateProfile.email(email)) {\n        if (ValidateProfile.password(password)) {\n          try {\n            message.loading({\n              content: 'Подождите, идет загрузка',\n              key: 'registration',\n            });\n            const invite = await db\n              .collection('invites')\n              .where('inviteCode', '==', inviteCode)\n              .get();\n            const { user } = await firebase\n              .auth()\n              .createUserWithEmailAndPassword(email, password);\n            const addUser = await db.collection('users').doc(user.uid).set({\n              name: data.name,\n              uid: user.uid,\n              lastName: data.lastName,\n              group: data.group,\n              email: email,\n              notDeleted: true,\n              role: 'student',\n            });\n            const incrementGroup = await db\n              .collection('groups')\n              .where('group', '==', data.group)\n              .limit(1)\n              .get();\n            console.log('group', incrementGroup);\n            await incrementGroup.docs[0].ref.update({\n              studentAmount: firebase.firestore.FieldValue.increment(1),\n            });\n            console.log('groups incremented');\n            await firebase\n              .auth()\n              .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n              .then(() => {\n                firebase.auth().signInWithEmailAndPassword(email, password);\n              });\n            console.log('invite', invite.docs[0].ref);\n            await invite.docs[0].ref.delete();\n            message.success({ content: 'Успешно', key: 'registration' });\n            history.push('/');\n          } catch (e) {\n            console.log(e);\n            firebase.auth().currentUser.delete();\n            message.error({\n              content: 'Кажется, что-то пошло не так. Попробуйте позже',\n              key: 'registration',\n            });\n          }\n        } else {\n          setErrorMessage('Пароль должен содержать минимум 8 символов');\n        }\n      } else {\n        setErrorMessage('Введите почту в корректном формате');\n      }\n    } else {\n      setErrorMessage('Введенные пароли не совпадают');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Registration\n      recieve={recieve}\n      setInviteCode={setInviteCode}\n      loading={loading}\n      register={register}\n      errorMessage={errorMessage}\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      repeatPassword={repeatPassword}\n      setRepeatPassword={setRepeatPassword}\n      data={data}\n      {...props}\n    />\n  );\n};\n\nexport default RegistrationContainer;\n","import React from 'react';\nimport s from './Login.module.scss';\nimport { Typography, Space, Button, Input, Form, Checkbox } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = props => {\n  const layout = {\n    wrapperCol: { span: 40 },\n  };\n  const tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n  };\n\n  const history = useHistory();\n\n  return (\n    <div className={`${s.wrapper} + shadow-small`}>\n      <div className={`${s.loginWrapper} + shadow-large`}>\n        <Form {...layout}>\n          <Form.Item {...layout}>\n            <Typography.Title>Вход</Typography.Title>\n          </Form.Item>\n          <Form.Item\n            name=\"login\"\n            rules={[{ required: true, message: 'Пожалуйста, введите логин!' }]}>\n            <Input\n              value={props.email}\n              onChange={e => {\n                props.setEmail(e.target.value);\n              }}\n              placeholder=\"Логин\"\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"password\"\n            rules={[\n              { required: true, message: 'Пожалуйста, введите пароль!' },\n            ]}>\n            <Input\n              value={props.password}\n              onChange={e => {\n                props.setPassword(e.target.value);\n              }}\n              placeholder=\"Пароль\"\n            />\n          </Form.Item>\n\n          <Form.Item>\n            <Space direction=\"horizontal\">\n              <Button\n                onClick={() => {\n                  props.signIn();\n                }}\n                type=\"primary\">\n                Войти\n              </Button>\n              <Button\n                onClick={() => {\n                  history.push('registration');\n                }}>\n                Регистрация\n              </Button>\n            </Space>\n          </Form.Item>\n\n          <Form.Item {...layout} name=\"remember\" valuePropName=\"checked\">\n            <Typography.Text>Забыли пароль?</Typography.Text>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport Login from './Login';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { message } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nconst LoginContainer = props => {\n  const history = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const signIn = async () => {\n    console.log('sign');\n    try {\n      const persist = await firebase\n        .auth()\n        .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n        .then(async () => {\n          return firebase.auth().signInWithEmailAndPassword(email, password);\n        });\n      console.log(persist);\n      history.push('/');\n    } catch (e) {\n      message.error('Кажется, что-то пошло не так. Попробуйте позже');\n      console.log(e);\n    }\n  };\n\n  return (\n    <Login\n      signIn={signIn}\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      {...props}\n    />\n  );\n};\n\nexport default LoginContainer;\n","import React from 'react';\nimport s from './Tests.module.scss';\nimport { Card, Typography, Space, Button, Spin, Menu } from 'antd';\nimport {\n  QuestionOutlined,\n  ClockCircleOutlined,\n  CalendarOutlined,\n  ExclamationOutlined,\n} from '@ant-design/icons';\n\nconst { Meta } = Card;\nconst { Text } = Typography;\n\nconst Tests = props => {\n  const getClassName = (score, isTooLate) => {\n    if (isTooLate) {\n      return s.late;\n    } else if (typeof score !== 'undefined') {\n      return s.passed;\n    }\n  };\n  const renderTests = data => {\n    return data?.length\n      ? data.map((el, index) => {\n          return (\n            <Card\n              key={index}\n              hoverable={typeof el.score === 'undefined'}\n              className={`${s.card} + ${getClassName(el.score, el.isTooLate)}`}\n              title={el.title}>\n              <Space direction={'vertical'}>\n                <Space>\n                  <QuestionOutlined />\n                  <Text>Количество вопросов: {el.questionsAmount}</Text>\n                </Space>\n                <Space>\n                  <ClockCircleOutlined />\n                  <Text>Ограничение: {el.timeLimit}</Text>\n                </Space>\n                <Space>\n                  <CalendarOutlined />\n                  <Text>Доступно до: {el.date}</Text>\n                </Space>\n                {typeof el.score === 'undefined' ? (\n                  <Button\n                    onClick={() =>\n                      props.doTest(\n                        el.test,\n                        el.limit,\n                        el.sessionId,\n                        el.unformattedDate,\n                      )\n                    }\n                    className={s.button}\n                    shape={'round'}\n                    type={'primary'}>\n                    Пройти\n                  </Button>\n                ) : el.isTooLate ? (\n                  <Space>\n                    <Text>Просрочен</Text>\n                  </Space>\n                ) : (\n                  <Space>\n                    <Text>Пройдено: {el.score}%</Text>\n                  </Space>\n                )}\n              </Space>\n            </Card>\n          );\n        })\n      : null;\n  };\n\n  console.log(props);\n  return (\n    <div className={s.mainWrapper}>\n      <Menu style={{ width: 230 }} defaultSelectedKeys={['0']} mode=\"inline\">\n        <Menu.Item onClick={() => props.setMode('all')} key=\"0\">\n          Все тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('active')} key=\"1\">\n          Активные тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('passed')} key=\"2\">\n          Пройденные тесты\n        </Menu.Item>\n        <Menu.Item onClick={() => props.setMode('inactive')} key=\"3\">\n          Просроченные тесты\n        </Menu.Item>\n      </Menu>\n      <div className={`${s.wrapper}`}>\n        <div className={s.cardWrapper}>\n          {props.initialized ? (\n            [\n              props.mode === 'active' || props.mode === 'all'\n                ? renderTests(props.activeTests)\n                : null,\n              props.mode === 'passed' || props.mode === 'all'\n                ? renderTests(props.passedTests)\n                : null,\n              props.mode === 'inactive' || props.mode === 'all'\n                ? renderTests(props.inactiveTests)\n                : null,\n            ]\n          ) : (\n            <Spin />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Tests;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Tests from './Tests';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport { message, Modal } from 'antd';\nimport { ExclamationCircleOutlined, TrophyOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router';\n\nmoment.locale('ru');\n\nexport const prettyCountyWord = (counter, oneWord, noWord, aLotOfWord) => {\n  if (counter % 10 === 1 && counter !== 11) {\n    return oneWord;\n  } else if (\n    [2, 3, 4].some(el => el === counter % 10) &&\n    ![12, 13, 14].some(el => el === counter)\n  ) {\n    return noWord;\n  } else {\n    return aLotOfWord;\n  }\n};\n\nconst TestsContainer = props => {\n  const userState = useSelector(store => store);\n  const db = firebase.firestore();\n  const [sessions, setSessions] = useState();\n  const [tests, setTests] = useState();\n  const [initialized, setInitialized] = useState(false);\n  const [activeTests, setActiveTests] = useState();\n  const [passedTests, setPassedTests] = useState();\n  const [inactiveTests, setInactiveTests] = useState();\n  const [mode, setMode] = useState('all');\n  const history = useHistory();\n\n  const getSessions = async () => {\n    try {\n      if (userState?.group) {\n        const currentTime = await firebase.firestore.Timestamp.now();\n        const studentSessions = await db\n          .collection('sessions')\n          .where('groups', 'array-contains', userState.group)\n          .get();\n        const mappedSessions = [];\n        for (const el of studentSessions.docs) {\n          const doc = await el.ref\n            .collection('attempts')\n            .doc(userState.uid)\n            .get();\n\n          let score;\n          let isTooLate = false;\n          if (doc.exists) {\n            score = doc.data().score;\n          }\n\n          const sessionData = el.data();\n          if (\n            moment(moment(currentTime.seconds * 1000)).isAfter(\n              sessionData.date,\n            ) &&\n            !score\n          ) {\n            score = 0.0;\n            isTooLate = true;\n          }\n          mappedSessions.push({\n            ...el.data(),\n            sessionId: el.id,\n            score: score,\n            isTooLate: isTooLate,\n          });\n        }\n        setSessions(mappedSessions);\n        getTests(mappedSessions);\n      }\n    } catch (e) {\n      // console.log(e);\n    }\n  };\n\n  const getTests = async (sessions = sessions) => {\n    try {\n      const testNames = sessions.map(el => el.testName);\n      const _tests = await db.collection('tests').get();\n      const mappedTests = _tests.docs.map(el => el.data());\n      setTests(mappedTests);\n      formatData(sessions, mappedTests);\n      setInitialized(true);\n    } catch (e) {\n      // console.log(e);\n    }\n  };\n\n  const registerAttempt = async (test, limit, sessionId, maxDate) => {\n    try {\n      message.loading({ content: 'Подождите, идет загрузка', key: 'wait' });\n      const currentTime = await firebase.firestore.Timestamp.now();\n      if (moment(currentTime.seconds * 1000).isAfter(moment(maxDate))) {\n        message.loading({ content: 'Тест более недоступен', key: 'wait' });\n        history.push('/');\n      }\n      await db\n        .collection('sessions')\n        .doc(sessionId)\n        .collection('attempts')\n        .doc(userState.uid)\n        .set({ score: 0 });\n      history.push({\n        pathname: '/test',\n        state: { test: test, limit: limit, sessionId: sessionId },\n      });\n      message.destroy('wait');\n    } catch (e) {\n      message.error({\n        content: 'Что-то пошло не так, попробуйте еще раз',\n        key: 'wait',\n      });\n    }\n  };\n\n  const doTest = (test, limit, sessionId, maxDate) => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content:\n        'У вас будет всего одна попытка для прохождения данного теста. Не закрывайте вкладку с тестом до тех пор, пока не отправите ответ, иначе результат не сохранится а возможность прохождения теста заблокируется.',\n      okText: 'Начать',\n      cancelText: 'Назад',\n      onOk() {\n        registerAttempt(test, limit, sessionId, maxDate);\n      },\n    });\n  };\n\n  const formatData = (_sessions = sessions, _tests = tests) => {\n    const active = [];\n    const passed = [];\n    const inactive = [];\n    _sessions.map(el => {\n      const date = moment(el.attemptTime, 'HH:mm');\n      const test = _tests.find(item => el.test === item.name);\n      const hoursLimit = date.format('HH');\n      const minsLimit = date.format('mm');\n      const title = test.name;\n      const questionAmount = test.questions.length;\n      const hoursFormat = +hoursLimit\n        ? `${+hoursLimit} ${prettyCountyWord(\n            +hoursLimit,\n            'час',\n            'часа',\n            'часов',\n          )}`\n        : '';\n      const minsFormat = +minsLimit\n        ? `${minsLimit} ${prettyCountyWord(\n            minsLimit,\n            'минута',\n            'минут',\n            'минут',\n          )}`\n        : '';\n      const testObj = {\n        score: el.score,\n        sessionId: el.sessionId,\n        limit: hoursLimit * 3600 * 1000 + +minsLimit * 60 * 1000,\n        test: test,\n        title: title,\n        questionsAmount: questionAmount,\n        timeLimit: hoursFormat + minsFormat,\n        unformatedDate: el.date,\n        isTooLate: el.isTooLate,\n        date: moment(el.date).format('DD MMMM HH:mm'),\n      };\n      if (el.isTooLate) {\n        inactive.push(testObj);\n      } else if (typeof el.score !== 'undefined') {\n        passed.push(testObj);\n      } else {\n        active.push(testObj);\n      }\n    });\n    setActiveTests(\n      active.sort((a, b) => {\n        if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }),\n    );\n    setPassedTests(\n      passed.sort((a, b) => {\n        if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }),\n    );\n    setInactiveTests(\n      inactive.sort((a, b) => {\n        if (moment(a.unformatedDate).isAfter(moment(b.unformatedDate))) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }),\n    );\n  };\n\n  useEffect(() => {\n    getSessions();\n  }, [userState]);\n\n  return (\n    <Tests\n      initialized={initialized}\n      doTest={doTest}\n      mode={mode}\n      setMode={setMode}\n      activeTests={activeTests}\n      passedTests={passedTests}\n      inactiveTests={inactiveTests}\n      {...props}\n    />\n  );\n};\n\nexport default TestsContainer;\n","export default __webpack_public_path__ + \"static/media/welcoming.023238cb.svg\";","import React from 'react';\nimport s from './Welcoming.module.scss';\nimport image from '../../assets/welcoming.svg';\nimport { Typography, space, Space, Input, Button } from 'antd';\nimport { RightOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport EmaiQuestions from '../../components/EmaiQuestions/EmaiQuestions';\n\nconst { Title, Text } = Typography;\nconst Welcoming = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <div className={s.imageWrapper}>\n        <img src={image} />\n      </div>\n      {/* <EmaiQuestions\n        obj={JSON.parse(\n          `{\"score\":\"0.0\",\"questions\":[{\"multiselection\":false,\"question\":\"question5\",\"answers\":[{\"answer\":\"answer\",\"selected\":false,\"isRight\":false},{\"selected\":false,\"isRight\":true,\"answer\":\"answer\"},{\"selected\":true,\"isRight\":false,\"answer\":\"answer\"}]},{\"answers\":[{\"isRight\":false,\"selected\":true,\"answer\":\"answer\"}],\"question\":\"question4\",\"multiselection\":false},{\"question\":\"question3\",\"answers\":[{\"isRight\":false,\"answer\":\"answer\"},{\"answer\":\"answer\",\"isRight\":true},{\"answer\":\"answer\",\"selected\":true,\"isRight\":false},{\"answer\":\"answer\",\"isRight\":false}],\"multiselection\":true},{\"answers\":[{\"selected\":false,\"answer\":\"answer\",\"isRight\":false},{\"answer\":\"answer\",\"selected\":false,\"isRight\":true},{\"selected\":false,\"isRight\":false,\"answer\":\"answer\"},{\"isRight\":false,\"answer\":\"answer\",\"selected\":false},{\"answer\":\"answer\",\"selected\":true,\"isRight\":false}],\"question\":\"question6\",\"multiselection\":false},{\"question\":\"question7\",\"multiselection\":false,\"answers\":[{\"selected\":false,\"answer\":\"answer\",\"isRight\":false},{\"answer\":\"answer\",\"isRight\":false,\"selected\":false},{\"selected\":true,\"isRight\":false,\"answer\":\"answer\"}]},{\"question\":\"question\",\"multiselection\":true,\"answers\":[{\"answer\":\"answer\",\"isRight\":false},{\"isRight\":true,\"answer\":\"answer\"},{\"answer\":\"answer\",\"isRight\":true,\"selected\":true}]}],\"group\":\"863102\",\"name\":\"Артем\",\"elapsedTime\":\"1:15\",\"lastName\":\"Калугин\",\"studentId\":\"6oDhlqQV0yU2FOLiESfPD0Qs9O22\"}`,\n        )}\n      /> */}\n      <Space direction=\"vertical\">\n        <Title level={2}> Привет! </Title>\n        <Text>Для того чтобы начать введите ссылку на тест</Text>\n        <div\n          className={\n            props.inputFocused ? s.inputWrapperFocused : s.inputWrapper\n          }>\n          <Input\n            onFocus={() => {\n              props.setInputFocused(true);\n            }}\n            onBlur={() => {\n              props.setInputFocused(false);\n            }}\n            className={props.inputFocused ? s.blueIcon : null}\n            bordered={false}\n            suffix={<RightOutlined />}\n            placeholder=\"Ссылка\"\n          />\n        </div>\n        <Text>Или</Text>\n        <Link to=\"/tests\">\n          <Button type=\"primary\" shape=\"round\">\n            Перейти к тестам\n            <RightOutlined />\n          </Button>\n        </Link>\n      </Space>\n    </div>\n  );\n};\n\nexport default Welcoming;\n","import Welcoming from './WelcomingContainer';\n\nexport default Welcoming;\n","import React, { useState } from 'react';\nimport Welcoming from './Welcoming';\n\nconst WelcomingContainer = props => {\n  const [inputFocused, setInputFocused] = useState(false);\n  return (\n    <Welcoming\n      inputFocused={inputFocused}\n      setInputFocused={setInputFocused}\n      {...props}\n    />\n  );\n};\n\nexport default WelcomingContainer;\n","import React from 'react';\nimport s from './Sessions.module.scss';\nimport { Typography, Table, Modal, Tooltip, Spin, Space } from 'antd';\nimport { Link } from 'react-router-dom';\nimport {\n  CloseOutlined,\n  EyeOutlined,\n  MailOutlined,\n  UnorderedListOutlined,\n} from '@ant-design/icons';\nimport moment from 'moment';\nimport { EmaiQuestions } from '../../../components';\n\nexport const prettyCountyWord = (counter, oneWord, noWord, aLotOfWord) => {\n  if (counter % 10 === 1 && counter !== 11) {\n    return oneWord;\n  } else if (\n    [2, 3, 4].some(el => el === counter % 10) &&\n    ![12, 13, 14].some(el => el === counter)\n  ) {\n    return noWord;\n  } else {\n    return aLotOfWord;\n  }\n};\n\nconst parseTime = (seconds, timeLimit) => {\n  const parser = moment.duration(seconds);\n  const weeks = parser.asWeeks();\n  const days = parser.asDays();\n  const hours = parser.asHours();\n  const minutes = parser.asMinutes();\n  const limiter = moment(timeLimit, 'HH:mm');\n  if (\n    seconds < 0 &&\n    -seconds / 1000 > limiter.format('HH') * 3600 + limiter.format('mm') * 60\n  ) {\n    return 'Завершен';\n  }\n  if (seconds / 1000 < 0) {\n    return 'Скоро завершится';\n  }\n  if (days > 7) {\n    const date = Math.round(weeks);\n    return date + ' ' + prettyCountyWord(date, 'неделя', 'недели', 'недель');\n  } else if (days > 1) {\n    return (\n      Math.floor(days) +\n      ' ' +\n      prettyCountyWord(Math.floor(days), 'день', 'дня', 'дней') +\n      ' ' +\n      Math.floor(hours - Math.floor(days) * 24) +\n      ' ' +\n      prettyCountyWord(\n        Math.floor(hours - Math.floor(days) * 24),\n        'час',\n        'часа',\n        'часов',\n      )\n    );\n  } else {\n    return (\n      Math.floor(hours) +\n      ' ' +\n      prettyCountyWord(Math.floor(hours), 'час', 'часа', 'часов') +\n      ' ' +\n      Math.floor(minutes - Math.floor(hours) * 60) +\n      ' ' +\n      prettyCountyWord(\n        Math.floor(minutes - Math.floor(hours) * 60),\n        'минута',\n        'минуты',\n        'минут',\n      )\n    );\n  }\n};\n\nconst Sessions = props => {\n  let data = [];\n\n  const columns = [\n    {\n      title: 'Тест',\n      dataIndex: 'test',\n      key: 'test',\n    },\n    {\n      title: 'Доступно для ',\n      dataIndex: 'groups',\n      key: 'groups',\n      render: openedTo => {\n        return openedTo.map((el, index) => (\n          <Typography.Text key={el}>\n            {index ? ', ' : null}\n            {el}\n          </Typography.Text>\n        ));\n      },\n    },\n    {\n      title: 'Оставшееся время',\n      dataIndex: 'date',\n      key: 'date',\n      render: (date, obj) => {\n        const time = moment(date).diff(moment(new Date()));\n        return (\n          <Typography.Text>{parseTime(time, obj.attemptTime)}</Typography.Text>\n        );\n      },\n    },\n    {\n      title: 'Всего проходят',\n      dataIndex: 'studentsAmount',\n      key: 'studentsAmount',\n    },\n    {\n      title: 'Завершили прохождение',\n      dataIndex: 'attemptsLength',\n      key: 'attemptsLength',\n    },\n    {\n      title: 'Детализация',\n      dataIndex: 'attempts',\n      key: 'attempts',\n      render: attempts => {\n        if (attempts?.length) {\n          return (\n            <EyeOutlined\n              onClick={() => props.showModal(attempts)}\n              style={{ color: 'blue' }}\n            />\n          );\n        }\n        return null;\n      },\n    },\n    {\n      title: 'Удаление',\n      key: 'attempts',\n      render: (attempts, obj) => {\n        return (\n          <CloseOutlined\n            onClick={() => props.showDeleteModal(obj.sessionId)}\n            style={{ color: 'blue' }}\n          />\n        );\n      },\n    },\n  ];\n\n  const details = [\n    {\n      title: 'Группа',\n      dataIndex: 'group',\n      key: 'group',\n    },\n    {\n      title: 'Имя',\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: 'Фамилия',\n      dataIndex: 'lastName',\n      key: 'lastName',\n    },\n    {\n      title: 'Затраченное время',\n      dataIndex: 'elapsedTime',\n      key: 'elapsedTime',\n    },\n    {\n      title: 'Набранный процент',\n      dataIndex: 'score',\n      key: 'score',\n    },\n    {\n      dataIndex: 'questions',\n      key: 'questions',\n      render: (score, obj) => {\n        return (\n          <>\n            <Tooltip title=\"Получить результат прохождения на почту\">\n              <MailOutlined\n                style={{ color: 'black', fontSize: '18px' }}\n                onClick={() => props.email(obj)}\n              />\n            </Tooltip>{' '}\n            <Tooltip title=\"Просмотр\">\n              <UnorderedListOutlined\n                onClick={() => props.showResultsModal(obj)}\n                style={{ color: 'black', fontSize: '18px' }}\n              />\n            </Tooltip>\n          </>\n        );\n      },\n    },\n  ];\n\n  if (props.sessions?.length) {\n    data = [...props.sessions];\n    data.sort((a, b) => {\n      if (moment(a.date).isAfter(moment(b.date))) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n  }\n  return (\n    <div className={`${s.wrapper}`}>\n      <Modal\n        title=\"Результаты теста\"\n        visible={props.showResults}\n        width={1000}\n        onOk={() => props.setShowResults(false)}\n        onCancel={() => props.setShowResults(false)}>\n        <EmaiQuestions obj={props.results} />\n      </Modal>\n      <Modal\n        title=\"Детализация\"\n        visible={props.showDetails}\n        width={1000}\n        onOk={() => props.setShowDetails(false)}\n        onCancel={() => props.setShowDetails(false)}>\n        <Table\n          columns={details}\n          dataSource={props.details}\n          className={s.table}\n        />\n      </Modal>\n      <Typography.Title level={2}>Просмотр сессий</Typography.Title>\n      {props.fetched ? (\n        <Table columns={columns} dataSource={data} className={s.table} />\n      ) : (\n        <div\n          style={{\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}>\n          <Spin />\n        </div>\n      )}{' '}\n    </div>\n  );\n};\n\nexport default Sessions;\n","import React, { useState, useEffect } from 'react';\nimport ActiveSessions from './Sessions';\nimport firebase from 'firebase/app';\nimport { message, Modal } from 'antd';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport sendEmail from '../../../utils/sendEmail';\nimport ReactDOMServer from 'react-dom/server';\nimport EmaiQuestions from '../../../components/EmaiQuestions/EmaiQuestions';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nconst ActiveSessionsContainer = props => {\n  const [fetched, setFetched] = useState(false);\n  const [groups, setGroups] = useState(false);\n  const [sessions, setSessions] = useState();\n  const [showDetails, setShowDetails] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const [details, setDetails] = useState([]);\n  const [results, setResults] = useState({});\n  const db = firebase.firestore();\n\n  const getGroups = async () => {\n    try {\n      await db\n        .collection('groups')\n        .get()\n        .then(querySnapshot => {\n          const parsed = [];\n          querySnapshot.forEach(doc => {\n            parsed.push({\n              uid: doc.id,\n              ...doc.data(),\n            });\n          });\n          setGroups(parsed);\n          formatSessions(parsed);\n        });\n    } catch {}\n  };\n\n  const email = async obj => {\n    try {\n      message.loading({ content: 'Загрузка', key: 'send-mail' });\n      await sendEmail({\n        name: obj.name,\n        group: obj.group,\n        lastName: obj.lastName,\n        html: ReactDOMServer.renderToStaticMarkup(\n          <EmaiQuestions emailing={true} obj={obj} />,\n        ),\n      });\n      message.success({ content: 'Письмо отправлено', key: 'send-mail' });\n    } catch (e) {\n      console.log(e);\n      message.error({\n        content: 'Произошла ошибка при отправлении письма',\n        key: 'send-mail',\n      });\n    }\n  };\n\n  const showModal = details => {\n    setDetails(details);\n    setShowDetails(true);\n  };\n\n  const showResultsModal = res => {\n    setResults(res);\n    setShowResults(true);\n  };\n\n  const formatSessions = async (groupsParsed = groups) => {\n    setSessions(old =>\n      old.map(el => {\n        const amount = el.groups.reduce((acc, x) => {\n          const group = groupsParsed.find(item => item.group === x);\n          if (group?.studentAmount) {\n            return acc + group.studentAmount;\n          }\n          return acc;\n        }, 0);\n        return { ...el, studentsAmount: amount };\n      }),\n    );\n    setFetched(true);\n  };\n\n  const showDeleteModal = async sessionId => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content:\n        'Удалив сессию вы очистите место в БД, но потеряете возможность просмотра результатов, вы действительно хотите продолжить?',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteSession(sessionId);\n      },\n    });\n  };\n\n  const deleteSession = async sessionId => {\n    try {\n      message.loading({ content: 'Загрузка', key: 'send-mail' });\n      await db.collection('sessions').doc(sessionId).delete();\n      message.success({ content: 'Успешно', key: 'send-mail' });\n      getSessions();\n    } catch (e) {\n      message.error({\n        content: 'Произошла ошибка при удалении, попробуйте позже',\n        key: 'send-mail',\n      });\n    }\n  };\n\n  const getSessions = async () => {\n    setFetched(false);\n    try {\n      const _result = [];\n      const _sessions = await db.collection('sessions').get();\n      for (const session of _sessions.docs) {\n        const doc = await session.ref.collection('attempts').get();\n        let attempts = [];\n        let attemptsLength = 0;\n        if (!doc.empty) {\n          attempts = doc.docs.map(el => {\n            return { ...el.data(), studentId: el.id };\n          });\n          attemptsLength = attempts.length;\n        }\n        _result.push({\n          ...session.data(),\n          sessionId: session.id,\n          attemptsLength: attemptsLength,\n          attempts: attempts,\n        });\n      }\n      setSessions(_result);\n      getGroups();\n    } catch (e) {\n      message.error({\n        content: 'Не удалось получить список сессий',\n        key: 'add-student',\n      });\n    }\n  };\n\n  useEffect(() => {\n    getSessions();\n  }, []);\n\n  return (\n    <ActiveSessions\n      fetched={fetched}\n      showDeleteModal={showDeleteModal}\n      results={results}\n      showResults={showResults}\n      setShowResults={setShowResults}\n      showResultsModal={showResultsModal}\n      details={details}\n      email={email}\n      showDetails={showDetails}\n      setShowDetails={setShowDetails}\n      showModal={showModal}\n      sessions={sessions}\n      {...props}\n    />\n  );\n};\n\nexport default ActiveSessionsContainer;\n","import React from 'react';\nimport s from './AddSession.module.scss';\nimport { Typography, Spin } from 'antd';\nimport {\n  Form,\n  Button,\n  Select,\n  DatePicker,\n  TimePicker,\n  InputNumber,\n} from 'antd';\nimport moment from 'moment';\n\nconst { Option } = Select;\n\nconst layout = {\n  labelCol: { span: 10 },\n  wrapperCol: { span: 20 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 10, span: 16 },\n};\n\nconst AddSession = props => {\n  console.log(props);\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.testsFetched && props.groupsFetched ? (\n        <>\n          <Typography.Title level={2}>Добавление сессии</Typography.Title>\n          <div className={s.formContainer}>\n            <div className={s.centerer}>\n              <Form\n                {...layout}\n                layout=\"horizontal\"\n                name=\"addTest\"\n                onFinish={params => props.addSession(params)}\n                initialValues={{\n                  attemptTime: moment('01:00', 'HH:mm'),\n                }}\n                requiredMark={false}>\n                <Form.Item\n                  label=\"Тест\"\n                  name=\"testId\"\n                  style={{ width: '100%' }}\n                  rules={[{ required: true, message: '' }]}>\n                  <Select showSearch placeholder=\"Выберите тест\">\n                    {props.tests?.length\n                      ? props.tests.map(el => {\n                          return (\n                            <Option key={el.uid} value={el.uid}>\n                              {el.name}\n                            </Option>\n                          );\n                        })\n                      : null}\n                  </Select>\n                </Form.Item>\n                <Form.Item\n                  label=\"Группы\"\n                  name=\"groups\"\n                  rules={[{ required: true, message: '' }]}>\n                  <Select\n                    mode=\"multiple\"\n                    allowClear\n                    placeholder=\"Выберите для каких групп тест\">\n                    {props.groups?.length\n                      ? props.groups.map(el => {\n                          return (\n                            <Option key={el.uid} value={el.group}>\n                              {el.group}\n                            </Option>\n                          );\n                        })\n                      : null}\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Действителен до\"\n                  name=\"date\"\n                  rules={[\n                    {\n                      required: true,\n                      message: '',\n                    },\n                  ]}>\n                  <DatePicker\n                    disabledDate={d => !d || d.isBefore(new Date())}\n                    showTime\n                    placeholder=\"Дата и время\"\n                  />\n                </Form.Item>\n                <Form.Item\n                  label=\"Ограничение времени\"\n                  name=\"attemptTime\"\n                  rules={[\n                    {\n                      required: true,\n                      message: '',\n                    },\n                  ]}>\n                  <TimePicker\n                    format=\"HH:mm\"\n                    placeholder=\"Выберите длительность попытки\"\n                  />\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                  <Button\n                    loading={props.loading}\n                    type=\"primary\"\n                    htmlType=\"submit\">\n                    Добавить\n                  </Button>\n                </Form.Item>\n              </Form>\n            </div>\n          </div>\n        </>\n      ) : (\n        <Spin />\n      )}\n    </div>\n  );\n};\n\nexport default AddSession;\n","import React, { useEffect, useState } from 'react';\nimport AddSession from './AddSession';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { message } from 'antd';\n\nconst AddSessionContainer = props => {\n  const db = firebase.firestore();\n  const [testsFetched, setTestsFetched] = useState(false);\n  const [groupsFetched, setGroupsFetched] = useState(false);\n  const [tests, setTests] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getTests = async () => {\n    setTestsFetched(false);\n    setTests();\n    try {\n      await db\n        .collection('tests')\n        .get()\n        .then(querySnapshot => {\n          const parsed = [];\n          querySnapshot.forEach(doc => {\n            parsed.push({\n              uid: doc.id,\n              name: doc.data().name,\n            });\n          });\n          setTests(parsed);\n        });\n      setTestsFetched(true);\n    } catch {}\n  };\n\n  const addSession = async params => {\n    setLoading(true);\n    try {\n      message.loading({ content: 'Loading', key: 'add-session' });\n      await db.collection('sessions').doc().set(formatParams(params));\n      message.success({ content: 'Успешно', key: 'add-session' });\n    } catch (e) {\n      console.log(e);\n      message.error({\n        content: 'Кажется, что-то пошло не так. Попробуйте позже.',\n        key: 'add-session',\n      });\n    }\n    setLoading(false);\n  };\n\n  const formatParams = params => {\n    const newParams = { ...params };\n    newParams.test = tests.find(el => el.uid === params.testId).name;\n    newParams.date = params.date.format();\n    newParams.attemptTime = params.attemptTime.format('HH:mm');\n    return newParams;\n  };\n\n  const getGroups = async () => {\n    setGroupsFetched(false);\n    setGroups();\n    try {\n      await db\n        .collection('groups')\n        .get()\n        .then(querySnapshot => {\n          const parsed = [];\n          querySnapshot.forEach(doc => {\n            parsed.push({\n              uid: doc.id,\n              ...doc.data(),\n            });\n          });\n          setGroups(parsed);\n        });\n      setGroupsFetched(true);\n    } catch {}\n  };\n\n  useEffect(() => {\n    getGroups();\n    getTests();\n  }, []);\n\n  return (\n    <AddSession\n      loading={loading}\n      addSession={addSession}\n      groups={groups}\n      tests={tests}\n      groupsFetched={groupsFetched}\n      testsFetched={testsFetched}\n      {...props}\n    />\n  );\n};\n\nexport default AddSessionContainer;\n","import React from 'react';\nimport s from './ShowTest.module.scss';\nimport { Button, Select, Space, Spin, Typography } from 'antd';\nimport { Option } from 'antd/lib/mentions';\nimport { EmaiQuestions } from '../../../components';\n\nconst ShowTest = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <Typography.Title level={2}>Просмотр теста</Typography.Title>\n      {props.fetched ? (\n        <Space className={s.selector} direction=\"vertical\">\n          <Select\n            value={props.selectedTest}\n            onChange={value => {\n              props.setSelectedTest(value);\n            }}\n            className={s.select}\n            style={{ width: 360 }}\n            showSearch\n            placeholder=\"Выберите или введите название теста\"\n            optionFilterProp=\"children\">\n            {props.tests?.length\n              ? props.tests.map(el => {\n                  return (\n                    <Option key={el.uid} value={el.uid}>\n                      {el.name}\n                    </Option>\n                  );\n                })\n              : null}\n          </Select>\n          {props.selectedTest ? (\n            <EmaiQuestions\n              seeResults={true}\n              emailing={false}\n              obj={props.tests.find(el => el.uid === props.selectedTest)}\n            />\n          ) : null}\n        </Space>\n      ) : (\n        <Spin />\n      )}\n    </div>\n  );\n};\n\nexport default ShowTest;\n","import React, { useState, useEffect } from 'react';\nimport ShowTest from './ShowTest';\nimport firebase from 'firebase/app';\n\nconst ShowTestContainer = props => {\n  const db = firebase.firestore();\n  const [fetched, setFetched] = useState(false);\n  const [tests, setTests] = useState([]);\n  const [selectedTest, setSelectedTest] = useState('');\n\n  const getTests = async () => {\n    setFetched(false);\n    setTests();\n    try {\n      await db\n        .collection('tests')\n        .get()\n        .then(querySnapshot => {\n          const parsed = [];\n          querySnapshot.forEach(doc => {\n            parsed.push({\n              uid: doc.id,\n              ...doc.data(),\n            });\n          });\n          setTests(parsed);\n        });\n      setFetched(true);\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    getTests();\n  }, 0);\n\n  return (\n    <ShowTest\n      fetched={fetched}\n      selectedTest={selectedTest}\n      setSelectedTest={setSelectedTest}\n      tests={tests}\n      {...props}\n    />\n  );\n};\n\nexport default ShowTestContainer;\n","import React from 'react';\nimport s from './AdminPanel.module.scss';\nimport {} from 'antd';\nimport { Menu } from 'antd';\nimport { UnorderedListOutlined, TeamOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nconst { SubMenu } = Menu;\n\nconst AdminSidebar = props => {\n  return (\n    <div className={`${s.wrapper} shadow-small`}>\n      <Menu\n        style={{ width: 256 }}\n        defaultSelectedKeys={['1']}\n        defaultOpenKeys={['sub1']}\n        mode=\"inline\">\n        <SubMenu key=\"sub1\" icon={<UnorderedListOutlined />} title=\"Тесты\">\n          <Menu.ItemGroup key=\"g1\" title=\"Сессии\">\n            <Menu.Item key=\"1\">\n              <Link to={`${props.matchUrl}`}>Просмотр сессии</Link>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Link to={`${props.matchUrl}/add-session`}>\n                Добавление сессии\n              </Link>\n            </Menu.Item>\n          </Menu.ItemGroup>\n          <Menu.ItemGroup key=\"g2\" title=\"Тесты\">\n            <Menu.Item key=\"3\">\n              <Link to={`${props.matchUrl}/show-test`}>Просмотр тестов</Link>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Link to={`${props.matchUrl}/add-test`}>Новый тест</Link>\n            </Menu.Item>\n            <Menu.Item key=\"5\">\n              <Link to={`${props.matchUrl}/delete-test`}>Удаление теста</Link>\n            </Menu.Item>\n          </Menu.ItemGroup>\n        </SubMenu>\n        <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Студенты\">\n          <Menu.Item key=\"6\">\n            <Link to={`${props.matchUrl}/show-students`}>Просмотр</Link>\n          </Menu.Item>\n          <Menu.Item key=\"7\">\n            <Link to={`${props.matchUrl}/add-students`}>\n              Регистрация студентов\n            </Link>\n          </Menu.Item>\n        </SubMenu>\n      </Menu>\n    </div>\n  );\n};\n\nexport default AdminSidebar;\n","import React from 'react';\nimport s from './AddTest.module.scss';\nimport { Upload, Button, Typography, Input, Space } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AddTest = props => {\n  console.log(props);\n  return (\n    <div className={`${s.wrapper}`}>\n      <Space direction=\"vertical\">\n        <Typography.Title level={2}>Загрузка теста</Typography.Title>\n        <Upload\n          method={null}\n          maxCount={1}\n          beforeUpload={props.parse}\n          listType=\"picture-card\"\n          {...props}>\n          <div>\n            {false ? <LoadingOutlined /> : <PlusOutlined />}\n            <div style={{ marginTop: 8 }}>Upload</div>\n          </div>\n        </Upload>\n        <Input\n          value={props.name}\n          onChange={e => props.setName(e.target.value)}\n          placeholder=\"Введите название теста\"\n        />\n        <div className={s.aligner}>\n          <Typography.Text className={s.text} type=\"secondary\">\n            Просмотреть тест\n          </Typography.Text>\n        </div>\n        <Button\n          onClick={props.upload}\n          disabled={!(props.preparedData && props.name)}\n          type=\"primary\">\n          Загрузить\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport default AddTest;\n","import React, { useState } from 'react';\nimport AddTest from './AddTest';\nimport * as csv from 'csvtojson';\nimport firebase from 'firebase/app';\nimport { message } from 'antd';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst AddTestContainer = props => {\n  const [preparedData, setPreparedData] = useState();\n  const [name, setName] = useState('');\n\n  const db = firebase.firestore();\n\n  const parse = async file => {\n    const data = await csv({\n      noheader: true,\n      trim: true,\n      headers: ['question', 'multiselection'],\n    }).fromString(await file.text());\n    setPreparedData(parseData(data));\n    return false;\n  };\n\n  const upload = async () => {\n    try {\n      message.loading({ content: 'Loading...', key: 'add-test' });\n      const data = {\n        questions: [...preparedData],\n        name: name,\n      };\n      const addTest = await db.collection('tests').doc().set(data);\n      db.collection('tests')\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            console.log(doc.data());\n          });\n        });\n      message.success({ content: 'Успешно', key: 'add-test' });\n    } catch (e) {\n      message.error({\n        content: 'Кажется, что-то пошло не так',\n        key: 'add-test',\n      });\n      console.log(e);\n    }\n  };\n\n  const parseData = data => {\n    const modifyAnswer = value => {\n      if (value.startsWith('+') || value.startsWith('-')) {\n        return value.substring(1);\n      }\n    };\n    const formattedData = data\n      .map(el => {\n        if (el.question) {\n          const formatedData = {\n            question: el.question,\n            multiselection: !!el.multiselection,\n            answers: [],\n          };\n\n          delete el.question;\n          delete el.multiselection;\n\n          for (const [, value] of Object.entries(el)) {\n            if (value) {\n              formatedData.answers.push({\n                answer: modifyAnswer(value),\n                isRight: value.startsWith('+'),\n              });\n            }\n          }\n\n          if (formatedData.answers.filter(el => el.isRight).length > 1) {\n            formatedData.multiselection = true;\n          }\n\n          return formatedData;\n        }\n      })\n      .filter(el => el);\n    return formattedData;\n  };\n\n  return (\n    <AddTest\n      upload={upload}\n      preparedData={preparedData}\n      parse={parse}\n      name={name}\n      setName={setName}\n      {...props}\n    />\n  );\n};\n\nexport default AddTestContainer;\n","import React from 'react';\nimport s from './DeleteTest.module.scss';\nimport { Typography, Select, Button, Space, Spin } from 'antd';\n\nconst { Option } = Select;\n\nconst DeleteTest = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      {props.fetched ? (\n        <Space direction=\"vertical\">\n          <Typography.Title level={2}>Удаление теста</Typography.Title>\n          <Select\n            value={props.selectedTest}\n            onChange={value => {\n              props.setSelectedTest(value);\n            }}\n            style={{ width: 360 }}\n            showSearch\n            placeholder=\"Выберите или введите название теста\"\n            optionFilterProp=\"children\">\n            {props.tests?.length\n              ? props.tests.map(el => {\n                  return <Option value={el.uid}>{el.name}</Option>;\n                })\n              : null}\n          </Select>\n          <Button\n            disabled={!props.selectedTest}\n            onClick={props.deleteTest}\n            type=\"primary\">\n            Удалить\n          </Button>\n        </Space>\n      ) : (\n        <Spin />\n      )}\n    </div>\n  );\n};\n\nexport default DeleteTest;\n","import React, { useEffect, useState } from 'react';\nimport { message, Modal } from 'antd';\nimport DeleteTest from './DeleteTest';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport {\n  ExclamationCircleOutlined,\n  ExclamationOutlined,\n} from '@ant-design/icons';\n\nconst DeleteTestContainer = props => {\n  const db = firebase.firestore();\n  const [tests, setTests] = useState([]);\n  const [fetched, setFetched] = useState(false);\n  const [selectedTest, setSelectedTest] = useState();\n\n  const getTests = async () => {\n    setFetched(false);\n    setTests();\n    try {\n      await db\n        .collection('tests')\n        .get()\n        .then(querySnapshot => {\n          const parsed = [];\n          querySnapshot.forEach(doc => {\n            parsed.push({\n              uid: doc.id,\n              name: doc.data().name,\n            });\n          });\n          setTests(parsed);\n        });\n      setFetched(true);\n    } catch (e) {}\n  };\n\n  const deleteTestModal = async selectedTest => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content:\n        'Удалив тест вы так же удалите все сессии связанные с этим тестом, вы действительно хотите продолжить?',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteTest(selectedTest);\n      },\n    });\n  };\n\n  const deleteTest = async () => {\n    try {\n      message.loading({ content: 'Идет удаление', key: 'delete-test' });\n      await db.collection('tests').doc(selectedTest).delete();\n      const sessions = await db\n        .collection('sessions')\n        .where('testId', '==', selectedTest)\n        .get();\n      for (const ses of sessions.docs) {\n        await ses.ref.delete();\n      }\n      message.success({ content: 'Успешно', key: 'delete-test' });\n      getTests();\n      setSelectedTest();\n    } catch (e) {\n      message.error({ content: 'Что-то пошло не так', key: 'delete-test' });\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    getTests();\n  }, []);\n\n  return (\n    <DeleteTest\n      deleteTest={deleteTestModal}\n      selectedTest={selectedTest}\n      setSelectedTest={setSelectedTest}\n      fetched={fetched}\n      tests={tests}\n      {...props}\n    />\n  );\n};\n\nexport default DeleteTestContainer;\n","import React from 'react';\nimport s from './AddStudents.module.scss';\nimport {} from 'antd';\nimport { Upload, Button, Typography, Space } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AddStudents = props => {\n  return (\n    <div className={`${s.wrapper}`}>\n      <Space direction=\"vertical\">\n        <Typography.Title level={2}>Добавление студентов</Typography.Title>\n        <Upload\n          method={null}\n          maxCount={1}\n          beforeUpload={props.parse}\n          listType=\"picture-card\"\n          {...props}>\n          <div>{false ? <LoadingOutlined /> : <PlusOutlined />}</div>\n        </Upload>\n        <div className={s.aligner}>\n          <Typography.Text className={s.text} type=\"secondary\">\n            Загрузите CSV файл в формате Имя, Фамилия, Группа\n          </Typography.Text>\n        </div>\n        <Button\n          onClick={props.upload}\n          disabled={!props.preparedData}\n          loading={props.loading}\n          type=\"primary\">\n          Загрузить новые инвайт коды\n        </Button>\n        <Button\n          onClick={props.copyToClipboard}\n          disabled={!props.result?.length}>\n          Скопировать инвайт коды в буффер обмена\n        </Button>\n        <Button\n          onClick={props.getWholeInviteCodes}\n          loading={props.loadingActiveInvites}>\n          Получить инвайт коды для всех незарегистирированных студентов\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport default AddStudents;\n","import React, { useState } from 'react';\nimport AddStudents from './AddStudents';\nimport * as csv from 'csvtojson';\nimport firebase from 'firebase/app';\nimport { message } from 'antd';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst AddStudentsContainer = props => {\n  const [preparedData, setPreparedData] = useState();\n  const [result, setResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingActiveInvites, setLoadingActiveInvites] = useState(false);\n\n  const db = firebase.firestore();\n\n  const parse = async file => {\n    try {\n      const data = await csv({\n        noheader: true,\n        trim: true,\n        headers: ['name', 'lastName', 'group'],\n      }).fromString(await file.text());\n      if (!validate(data)) {\n        throw 'wrong-format';\n      }\n      setPreparedData(parseData(data));\n    } catch (e) {\n      if (e === 'wrong-format') {\n        message.error('Файл неправильно отформатирован');\n      } else {\n        message.error('Произошла ошибка при обработке файла, попробуйте позже');\n      }\n    }\n    return false;\n  };\n\n  const getWholeInviteCodes = async () => {\n    setLoadingActiveInvites(true);\n    try {\n      message.loading({ content: 'Loading...', key: 'add-student' });\n      const addInvitation = await db.collection('invites').get();\n      const _result = addInvitation.docs.map((doc, index) => {\n        const el = doc.data();\n        return `${index + 1}.\\t${el.group}\\t${el.name}\\t${el.lastName}\\t${\n          el.inviteCode\n        }\\n`;\n      });\n      writeResultsToClipboard(_result.join('\\n'));\n      message.success({ content: 'Успешно', key: 'add-student' });\n    } catch (e) {\n      console.log(e);\n      message.error({\n        content: 'Кажется, что-то пошло не так',\n        key: 'add-student',\n      });\n    }\n    setLoadingActiveInvites(false);\n  };\n\n  const upload = async () => {\n    setLoading(true);\n    try {\n      message.loading({ content: 'Loading...', key: 'add-student' });\n      const groupsFetched = await db.collection('groups').get();\n      const groups = groupsFetched?.docs?.map(el => {\n        return el.data();\n      });\n      const newGroups = [];\n      const _result = [];\n      let index = 0;\n      for (const el of preparedData) {\n        index++;\n        try {\n          const generatedInviteCode = generateInviteCode();\n          const studentGroup = [...groups, ...newGroups].find(\n            item => item.group === el.group,\n          );\n          if (!studentGroup) {\n            newGroups.push({ group: el.group, studentAmount: 0 });\n          }\n          const addInvitation = await db\n            .collection('invites')\n            .doc()\n            .set({ ...el, inviteCode: generatedInviteCode });\n          _result.push(\n            `${index}.\\t${el.group}\\t${el.name}\\t${el.lastName}\\t${generatedInviteCode}\\t`,\n          );\n        } catch (e) {\n          console.log(e);\n          message.error({\n            content: `Не удалось зарегистрировать ${el.name} ${el.lastName} ${el.group}`,\n          });\n        }\n      }\n      try {\n        for (const el of newGroups) {\n          await db.collection('groups').doc().set(el);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n      setResult(_result.join('\\n'));\n      writeResultsToClipboard(_result.join('\\n'));\n      message.success({ content: 'Успешно', key: 'add-student' });\n    } catch (e) {\n      message.error({\n        content: 'Кажется, что-то пошло не так',\n        key: 'add-student',\n      });\n    }\n    setLoading(false);\n  };\n\n  const writeResultsToClipboard = async (data = result) => {\n    try {\n      await navigator.clipboard.writeText(data);\n      message.success({\n        content: 'Инвайт коды были скопированы в буффер обмена',\n      });\n    } catch (e) {\n      console.log(data);\n      message.error({\n        content:\n          'При копировании инвайт кодов произошла ошибка, инвайт коды выведены в консоль',\n      });\n    }\n  };\n\n  const generateInviteCode = () => {\n    let code = '';\n    let chars =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    while (code.length < 10) {\n      code += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return code;\n  };\n\n  const parseData = data => {\n    const formattedData = data\n      .filter(el => el)\n      .map(el => {\n        return {\n          name: el.name,\n          lastName: el.lastName || '',\n          group: el.group,\n          inviteCode: generateInviteCode(),\n        };\n      });\n    return formattedData;\n  };\n\n  const validate = data => {\n    for (const el of data) {\n      if (Object.keys(el).length !== 3 && !isNaN(el.group)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  return (\n    <AddStudents\n      result={result}\n      getWholeInviteCodes={getWholeInviteCodes}\n      copyToClipboard={writeResultsToClipboard}\n      loadingActiveInvites={loadingActiveInvites}\n      loading={loading}\n      preparedData={preparedData}\n      parse={parse}\n      upload={upload}\n      {...props}\n    />\n  );\n};\n\nexport default AddStudentsContainer;\n","import React from 'react';\nimport s from './ShowStudents.module.scss';\nimport { Spin, Table, Typography, Tooltip } from 'antd';\nimport {\n  CloseOutlined,\n  EyeOutlined,\n  MailOutlined,\n  UnorderedListOutlined,\n} from '@ant-design/icons';\n\nconst ShowStudents = props => {\n  console.log(props);\n  const details = [\n    {\n      title: 'Группа',\n      dataIndex: 'group',\n      key: 'group',\n    },\n    {\n      title: 'Имя',\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: 'Фамилия',\n      dataIndex: 'lastName',\n      key: 'lastName',\n    },\n    {\n      title: 'Почта',\n      dataIndex: 'email',\n      key: 'email',\n    },\n    {\n      dataIndex: 'questions',\n      key: 'questions',\n      render: (score, obj) => {\n        return (\n          <>\n            <Tooltip\n              title={`Удалить ${obj.type === 'group' ? 'группу' : 'студента'}`}>\n              <CloseOutlined\n                style={{ color: 'red', fontSize: '18px' }}\n                onClick={() => {\n                  obj.type === 'group'\n                    ? props.deleteGroup(obj)\n                    : props.deleteStudent(obj);\n                }}\n              />\n            </Tooltip>{' '}\n          </>\n        );\n      },\n    },\n  ];\n\n  return (\n    <div className={s.wrapper}>\n      <Typography.Title level={2}>Просмотр студентов</Typography.Title>\n      {props.fetched ? (\n        <Table className={s.table} columns={details} dataSource={props.data} />\n      ) : (\n        <div\n          style={{\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}>\n          <Spin />\n        </div>\n      )}{' '}\n    </div>\n  );\n};\n\nexport default ShowStudents;\n","import React, { useState, useEffect } from 'react';\nimport ShowStudents from './ShowStudents';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { Modal, message } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nconst ShowStudentsContainer = props => {\n  const db = firebase.firestore();\n  const [data, setData] = useState(null);\n  const [fetched, setFetched] = useState(false);\n  const [groups, setGroups] = useState([]);\n  const [students, setStudents] = useState([]);\n\n  const organizeData = (groups, students) => {\n    let lastGroup = '';\n    const data = [];\n    students.forEach(el => {\n      if (el.group !== lastGroup) {\n        data.push({\n          ...groups.find(item => item.group === el.group),\n          type: 'group',\n        });\n        lastGroup = el.group;\n      }\n      data.push(el);\n    });\n    return data;\n  };\n\n  const confirmDeleteStudent = student => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Вы действительно хотите удалить студента?',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteStudent(student);\n      },\n    });\n  };\n\n  const confirmDeleteGroup = group => {\n    Modal.confirm({\n      title: 'Внимание',\n      icon: <ExclamationCircleOutlined />,\n      content:\n        'Вы действительно хотите удалить всю группу? Данное действие так сделает все инвайт коды для данной группы неактивными',\n      okText: 'Да',\n      cancelText: 'Нет',\n      onOk() {\n        deleteGroup(group);\n      },\n    });\n  };\n\n  const deleteStudent = async student => {\n    try {\n      message.loading({ content: 'Идет удаление', key: 'add-session' });\n      await db\n        .collection('users')\n        .doc(student.uid)\n        .set({\n          ...student,\n          notDeleted: false,\n        });\n      await db\n        .collection('groups')\n        .where('group', '==', student.group)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            doc.ref.set({\n              ...doc.data(),\n              studentAmount: firebase.firestore.FieldValue.increment(-1),\n            });\n          });\n        });\n      getGroups();\n      message.success({ content: 'Успешно', key: 'add-session' });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const deleteGroup = async group => {\n    try {\n      message.loading({ content: 'Идет удаление', key: 'add-session' });\n      await db\n        .collection('users')\n        .where('group', '==', group.group)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            doc.ref.set({\n              ...doc.data(),\n              notDeleted: false,\n            });\n          });\n        });\n      await db.collection('groups').doc(group.uid).delete();\n      message.success({ content: 'Успешно', key: 'add-session' });\n      getGroups();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getGroups();\n  }, 0);\n\n  const getGroups = async () => {\n    try {\n      const groups = [];\n      await db\n        .collection('groups')\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            groups.push({\n              uid: doc.id,\n              ...doc.data(),\n            });\n          });\n        });\n      setGroups(groups);\n      const students = [];\n      await db\n        .collection('users')\n        .where('notDeleted', '==', true)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            const _data = doc.data();\n            if (_data.role === 'student') {\n              students.push({\n                uid: doc.id,\n                ..._data,\n              });\n            }\n          });\n        });\n      setStudents(students);\n      setData(organizeData(groups, students));\n      setFetched(true);\n    } catch {}\n  };\n\n  return (\n    <ShowStudents\n      deleteStudent={confirmDeleteStudent}\n      deleteGroup={confirmDeleteGroup}\n      fetched={fetched}\n      data={data}\n      {...props}\n    />\n  );\n};\n\nexport default ShowStudentsContainer;\n","import React from 'react';\nimport { useRouteMatch, Switch, Route } from 'react-router';\nimport Sessions from './Sessions';\nimport AddSession from './AddSession';\nimport ShowTest from './ShowTest';\nimport AdminSidebar from './AdminSidebar';\nimport AddTest from './AddTest';\nimport DeleteTest from './DeleteTest';\nimport AddStudents from './AddStudents';\nimport ShowStudents from './ShowStudents';\n\nconst AdminPanelContainer = props => {\n  const { path, url } = useRouteMatch();\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', flex: '1' }}>\n      <AdminSidebar matchUrl={url} {...props} />\n      <Switch>\n        <Route path=\"/about\" />\n        <Route path={`${path}/add-session`}>\n          <AddSession />\n        </Route>\n        <Route path={`${path}/show-test`}>\n          <ShowTest />\n        </Route>\n        <Route path={`${path}/add-test`}>\n          <AddTest />\n        </Route>\n        <Route path={`${path}/delete-test`}>\n          <DeleteTest />\n        </Route>\n        <Route path={`${path}/show-students`}>\n          <ShowStudents />\n        </Route>\n        <Route path={`${path}/add-students`}>\n          <AddStudents />\n        </Route>\n        <Route path=\"/active-sessions\">\n          <Sessions />\n        </Route>\n        <Route path=\"/\">\n          <Sessions />\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default AdminPanelContainer;\n","const SET_USER = 'SET_USER';\nconst UPDATE_USER = 'UPDATE_USER';\nconst CLEAR_USER = 'CLEAR_USER';\n\nconst initialState = {};\n\nexport default function UserReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...action.user,\n      };\n    case UPDATE_USER:\n      return {\n        ...state,\n        ...action.user,\n      };\n    case CLEAR_USER:\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport const setUser = user => {\n  return dispatch => {\n    dispatch({\n      type: SET_USER,\n      user,\n    });\n  };\n};\nexport const updateUser = user => {\n  return dispatch => {\n    dispatch({\n      type: UPDATE_USER,\n      user,\n    });\n  };\n};\nexport const clearUser = () => {\n  return dispatch => {\n    dispatch({\n      type: CLEAR_USER,\n    });\n  };\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport './App.css';\nimport { Header } from './components';\nimport {\n  AdminPanel,\n  Welcoming,\n  Tests,\n  Login,\n  Registration,\n  Test,\n  TestResults,\n} from './pages';\nimport {\n  Switch,\n  Route,\n  HashRouter as Router,\n  Redirect,\n} from 'react-router-dom';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearUser, setUser } from './store/user-reducer';\nimport moment from 'moment';\n\nmoment.locale('ru');\n\nconst Main = () => {\n  const [isCalculated, setIsCalculated] = useState(false);\n  const [isLogged, setIsLogged] = useState(false);\n  const dispatch = useDispatch();\n  const userState = useSelector(store => store);\n\n  const detectUser = async () => {\n    await firebase.auth().onAuthStateChanged(async user => {\n      if (user) {\n        firebase\n          .firestore()\n          .collection('users')\n          .doc(user.uid)\n          .get()\n          .then(opts => {\n            const userData = opts.data();\n            console.log('user data', userData);\n            if (!userData?.notDeleted) {\n              dispatch(clearUser());\n              firebase.auth().currentUser.delete();\n              setIsLogged(false);\n            } else {\n              dispatch(setUser(opts.data()));\n              setIsLogged(true);\n            }\n          });\n        setIsLogged(true);\n      } else {\n        dispatch(clearUser());\n        setIsLogged(false);\n      }\n      setIsCalculated(true);\n    });\n  };\n\n  const updateUser = async () => {\n    if (firebase.auth().currentUser) {\n      console.log('update user');\n      firebase\n        .firestore()\n        .collection('users')\n        .doc(firebase.auth().currentUser.uid)\n        .get()\n        .then(opts => {\n          const userData = opts.data();\n          console.log('user data', userData);\n          if (!userData?.notDeleted) {\n            dispatch(clearUser());\n            firebase.auth().currentUser.delete();\n            setIsLogged(false);\n          } else {\n            dispatch(setUser(opts.data()));\n            setIsLogged(true);\n          }\n        });\n    }\n  };\n\n  useEffect(() => {\n    detectUser();\n    updateUser();\n  }, []);\n\n  if (isLogged) {\n    return (\n      <>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            <Welcoming />\n          </Route>\n          <Route path=\"/tests\">\n            <Tests />\n          </Route>\n          <Route path=\"/test\">\n            <Test />\n          </Route>\n          <Route path=\"/results\">\n            <TestResults />\n          </Route>\n          {userState.role === 'admin' ? (\n            <Route path=\"/admin\">\n              <AdminPanel />\n            </Route>\n          ) : null}\n        </Switch>\n      </>\n    );\n  } else {\n    if (isCalculated) {\n      return <Redirect to=\"/login\" />;\n    } else {\n      return null;\n    }\n  }\n};\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/login\">\n              <Login />\n            </Route>\n            <Route exact path=\"/registration\">\n              <Registration />\n            </Route>\n            <Route path=\"/\">\n              <Main />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, createStore } from 'redux';\nimport UserReducer from './user-reducer';\nimport thunkMiddleware from 'redux-thunk';\n\nexport const store = createStore(UserReducer, applyMiddleware(thunkMiddleware));\n\nexport default UserReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { FirebaseAuthProvider } from '@react-firebase/auth';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nconst config = {\n  apiKey: 'AIzaSyCLr3GLQExS1zUXTOkUdIVPEqY2WFf3Ou0',\n  authDomain: 'tester-c329f.firebaseapp.com',\n  projectId: 'tester-c329f',\n  storageBucket: 'tester-c329f.appspot.com',\n  messagingSenderId: '823822150085',\n  appId: '1:823822150085:web:027b8bd3b6cd55bcda03ac',\n  measurementId: 'G-5T7L5M27ND',\n};\n\nfirebase.initializeApp(config);\n\nReactDOM.render(\n  <React.StrictMode>\n    <FirebaseAuthProvider firebase={firebase} {...config}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </FirebaseAuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Test_wrapper__2Duqr\",\"testWrapper\":\"Test_testWrapper__-HX9m\",\"testContainer\":\"Test_testContainer__3BHO4\",\"icon\":\"Test_icon__3zjUt\",\"iconDisabled\":\"Test_iconDisabled__ak4lg\",\"tag\":\"Test_tag__1b3vI\",\"iconSmall\":\"Test_iconSmall__15QhX\",\"icons\":\"Test_icons__2Ngm7\",\"main\":\"Test_main__1DHbB\",\"answers\":\"Test_answers__tOQsp\",\"header\":\"Test_header__3oMek\",\"title\":\"Test_title__2BWyp\",\"footer\":\"Test_footer__1kBzm\",\"testContent\":\"Test_testContent__YLbgK\"};"],"sourceRoot":""}